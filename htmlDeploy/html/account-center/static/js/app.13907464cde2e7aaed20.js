webpackJsonp([13],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("zlkP");var o=n("xd7I"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=n("C7Lr")({name:"App"},i,!1,function(t){n("i3Ab")},null,null).exports,a=n("YaEn"),u=n("NxjZ"),s=n.n(u),l=(n("i2XL"),n("muQq"),n("sqb0")),c=n.n(l),d=n("2bvH");o.default.use(d.a);var m=new d.a.Store({state:{loginUserInfo:null,requestHeader:null},getters:{loginUserInfo:function(t){return t.loginUserInfo},requestHeader:function(t){return t.requestHeader}},mutations:{setLoginUserInfo:function(t,e){t.loginUserInfo=e},setHeaderObjectToken:function(t,e){t.requestHeader=e}}}),h=n("sMIb"),f=n("/Xo2"),p=n.n(f);o.default.use(p.a),o.default.config.productionTip=!1,o.default.use(s.a),o.default.prototype.$global=h.a,a.a.beforeEach(function(t,e,n){t.meta.auth?c.a.get(h.a.requestToken)?n():n({path:"/login"}):n()}),new o.default({el:"#app",router:a.a,store:m,components:{App:r},template:"<App/>"})},VMbG:function(t,e){},WeJg:function(t,e){},YaEn:function(t,e,n){"use strict";var o=n("xd7I"),i=n("7LQH"),r=n("pcot"),a=n("sqb0"),u=n.n(a),s={name:"CenterHeader",data:function(){return{activeIndex:"1",badgeShow:!1,totaleOrganizes:[{dbcId:0,organize:"浙江中之杰智能系统有限公司"}],organizeName:"浙江中之杰智能系统有限公司",Organizes1:[],obj:{},imgNummber:0,users:{}}},created:function(){this.getUser()},methods:{getUser:function(){this.users=JSON.parse(localStorage.getItem("user-center-token"))},getOrganizeLists:function(){},getUnreadMsgs:function(){},setDialogInfo:function(t){if(t)switch(t){case"logouts":this.logouts()}else this.$message("菜单选项缺少command属性")},showInfoList:function(){},logouts:function(){var t=this;this.$confirm("是否确定退出？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r.s)().then(function(e){e.data.code===t.$global.successCode&&(localStorage.removeItem("user-center-token"),u.a.remove("user-center-token"),t.$router.push("/login"))},function(t){console.log("退出失败",t)})}).catch(function(){})},switchOrganizes:function(t){}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"consoletop"},[n("span",{staticClass:"logotxt"},[n("router-link",{attrs:{to:{name:"usercenterindex"}}},[t._v("用户中心")])],1),t._v(" "),n("el-menu",{staticClass:"el-menu-demo headnav",attrs:{"default-active":t.activeIndex,mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"4"}},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:t.setDialogInfo}},[n("span",{staticClass:"el-dropdown-link"},[t._v(t._s(t.users.userName)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"logouts"}},[t._v("退出")])],1)],1)],1),t._v(" "),n("el-menu-item",{attrs:{index:"1"}},[n("span",{staticClass:"el-dropdown-link"},[n("img",{staticStyle:{"margin-right":"0px"},attrs:{src:t.users.image,alt:""}})])])],1)],1)},staticRenderFns:[]};var c={name:"SideMenu",data:function(){return{contentStyleObj:{height:""}}},methods:{getHeight:function(){this.contentStyleObj.height=window.innerHeight-60+"px"}},created:function(){window.addEventListener("resize",this.getHeight),this.getHeight()},destroyed:function(){window.removeEventListener("resize",this.getHeight)}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"side_memu",staticStyle:{overflow:"hidden"},style:t.contentStyleObj},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#1d2633","text-color":"#fff","active-text-color":"#00aaee"}},[n("el-menu-item",{attrs:{index:"2"}},[n("i",{staticClass:"icon iconfont iconiconfontzhizuobiaozhun023101"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[n("router-link",{attrs:{to:{name:"informationLink"}}},[t._v("个人信息")])],1)]),t._v(" "),n("el-menu-item",{attrs:{index:"3"}},[n("i",{staticClass:"icon iconfont icondailiren"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[n("router-link",{attrs:{to:{name:"agentsetupLink"}}},[t._v("代理人设置")])],1)]),t._v(" "),n("el-menu-item",{attrs:{index:"5"}},[n("i",{staticClass:"icon iconfont iconiconfontxuqiudingzhi"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[n("router-link",{attrs:{to:{name:"personalizedsettingLink"}}},[t._v("第三方账号")])],1)]),t._v(" "),n("el-menu-item",{attrs:{index:"6"}},[n("i",{staticClass:"icon iconfont iconzuzhi"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[n("router-link",{attrs:{to:{name:"grouplistLink"}}},[t._v("组织列表")])],1)]),t._v(" "),n("el-menu-item",{attrs:{index:"7"}},[n("i",{staticClass:"icon iconfont iconcaijiguanli"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[n("router-link",{attrs:{to:{name:"devicemanagementLink"}}},[t._v("设备管理")])],1)]),t._v(" "),n("el-menu-item",{attrs:{index:"8"}},[n("i",{staticClass:"icon iconfont iconrizhi"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[n("router-link",{attrs:{to:{name:"loginlogLink"}}},[t._v("登入日志")])],1)])],1)],1)},staticRenderFns:[]};var m={name:"ConsoleIndex",showBottomNav:"",components:{centerHeader:n("C7Lr")(s,l,!1,function(t){n("VMbG")},"data-v-88f34594",null).exports,sideMenu:n("C7Lr")(c,d,!1,function(t){n("WeJg")},"data-v-4305af7c",null).exports},data:function(){return{header_show:!0,sidemenu_show:!0,contentStyleObj:{height:""}}},methods:{public_header:function(t){this.header_show=t},public_footer:function(t){this.footer_show=t},getHeight:function(){this.contentStyleObj.height=window.innerHeight-70+"px"}},created:function(){window.addEventListener("resize",this.getHeight),this.getHeight()},destroyed:function(){window.removeEventListener("resize",this.getHeight)}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",[this.header_show?e("el-header",[e("center-header")],1):this._e(),this._v(" "),e("el-container",[this.sidemenu_show?e("el-aside",{attrs:{width:"200px"}},[e("side-menu")],1):this._e(),this._v(" "),e("el-container",[e("el-main",[e("router-view",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:this.$route.meta.title,expression:"$route.meta.title"}]})],1)],1)],1)],1)},staticRenderFns:[]};var f=n("C7Lr")(m,h,!1,function(t){n("aHC5")},"data-v-1817b52e",null).exports;o.default.use(i.a);var p=[{path:"/login",name:"loginLink",component:function(){return n.e(4).then(n.bind(null,"NaOX"))},meta:{title:"用户中心",auth:!1}},{path:"/no-allow",name:"noallowLink",component:function(){return n.e(11).then(n.bind(null,"jvNu"))},meta:{title:"用户中心",auth:!1}},{path:"/login-success",name:"loginsuccessLink",component:function(){return n.e(1).then(n.bind(null,"vmvt"))},meta:{title:"用户中心",auth:!1}},{path:"/login-failure",name:"loginfailureLink",component:function(){return n.e(2).then(n.bind(null,"Fsgr"))},meta:{title:"用户中心",auth:!1}},{path:"/",name:"usercenterindex",component:f,redirect:"/basic-information",meta:{title:"用户中心",auth:!0},children:[{path:"/basic-information",name:"informationLink",component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"Fdkq"))},meta:{title:"用户中心",auth:!0}},{path:"/agent-setup",name:"agentsetupLink",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"SgTj"))},meta:{title:"用户中心",auth:!0}},{path:"/signature-setup",name:"signaturesetupLink",component:function(){return n.e(3).then(n.bind(null,"oNDk"))},meta:{title:"用户中心",auth:!0}},{path:"/personalized-setting",name:"personalizedsettingLink",component:function(){return n.e(9).then(n.bind(null,"M8dC"))},meta:{title:"用户中心",auth:!0}},{path:"/group-list",name:"grouplistLink",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"JbES"))},meta:{title:"用户中心",auth:!0}},{path:"/device-management",name:"devicemanagementLink",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"q6Uw"))},meta:{title:"用户中心",auth:!0}},{path:"/login-log",name:"loginlogLink",component:function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"PNRG"))},meta:{title:"用户中心",auth:!0}}]}];e.a=new i.a({routes:p})},aHC5:function(t,e){},i2XL:function(t,e){},i3Ab:function(t,e){},muQq:function(t,e){},pcot:function(t,e,n){"use strict";var o=n("rVsN"),i=n.n(o),r=n("84iU"),a=n.n(r),u=n("sqb0"),s=n.n(u),l=n("YaEn"),c=n("NxjZ"),d=n.n(c),m=n("sMIb"),h=a.a.create({baseURL:m.a.baseUrl,timeout:5e8});h.defaults.retry=4,h.defaults.retryDelay=1e3,h.interceptors.request.use(function(t){var e=s.a.get(m.a.requestToken);return null!==e&&(t.headers[m.a.requestToken]=e),t},function(t){i.a.reject(t)}),h.interceptors.response.use(function(t){if(t.data.code){if(t.data.code===m.a.successCode)return t;t.data.code===m.a.noLoginCode?d.a.MessageBox.alert("会话已过期，请重新登录","提示",{confirmButtonText:"确定",callback:function(t){l.a.push({path:"/login"})}}):t.data.code===m.a.noAllowCode?l.a.push({path:"/no-allow"}):d.a.Message.error(t.data.message)}return t},function(t){return i.a.reject(t)});var f=h;e.p=function(){return f({url:"/user/info",method:"GET"})},e.C=function(t){return f({url:"/user/update-name",method:"POST",data:t})},e.B=function(t){return f({url:"/user/update-secret",method:"POST",data:t})},e.z=function(t){return f({url:"/user/update-mobile",method:"POST",data:t})},e.y=function(t){return f({url:"/user/update-email",method:"POST",data:t})},e.v=function(t){return f({url:"/user/send-mobile-code",method:"POST",data:t})},e.w=function(){return f({url:"/user/origin-mobile-code",method:"POST"})},e.D=function(t){return f({url:"/user/validate-origin-mobile-code",method:"POST",data:t})},e.u=function(t){return f({url:"/user/send-email-code",method:"POST",data:t})},e.d=function(t){return f({url:"/user/contact-delete",method:"POST",data:t})},e.a=function(t){return f({url:"/user/contact",method:"POST",data:t})},e.h=function(){return f({url:"/user/contact-list",method:"GET"})},e.b=function(t){return f({url:"/user/proxy-add",method:"POST",data:t})},e.m=function(){return f({url:"/user/proxy-list",method:"GET"})},e.f=function(t){return f({url:"/user/proxy-delete",method:"POST",data:t})},e.A=function(t){return f({url:"/user/proxy-update",method:"POST",data:t})},e.n=function(t){return f({url:"/selector/user",params:t,method:"GET"})},e.q=function(t){return f({url:"/selector/workflow",params:t,method:"GET"})},e.i=function(){return f({url:"/user/device-list",method:"GET"})},e.e=function(t){return f({url:"/user/device-delete",method:"POST",data:t})},e.g=function(){return f({url:"/user/company-list",method:"GET"})},e.t=function(t){return f({url:"/user/company-quit",method:"POST",data:t})},e.k=function(t){return f({url:"/authentication/login-user-info",params:t,method:"GET"})},e.o=function(t){return f({url:"/user/third-account-status",params:t,method:"GET"})},e.x=function(t){return f({url:"/user/third-unbinding",method:"POST",data:t})},e.s=function(){return f({url:"/authentication/logout",method:"GET"})},e.j=function(){return f({url:"/user/sys-login-log",method:"GET"})},e.c=function(t){return f({url:"/company/create",method:"POST",data:t})},e.r=function(t){return f({url:"/company/join",method:"POST",data:t})},e.l=function(t){return f({url:"/selector/company",params:t,method:"GET"})}},sMIb:function(t,e,n){"use strict";var o=n("X1IT"),i=n.n(o)()("production","production");e.a={baseUrl:i?"/account-center-api":"/api",ssoUrl:HOST+"/open/web-sso/multi-login?redirect_uri="+HOST+"/account-center-api/authentication/sso-user-info",successCode:1e4,failureCode:10001,noLoginCode:10005,noAllowCode:10006,requestToken:"user-center-token",pageParam:{page:1,size:20,total:0}}},zlkP:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.13907464cde2e7aaed20.js.map