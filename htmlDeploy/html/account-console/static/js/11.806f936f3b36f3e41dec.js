webpackJsonp([11],{FuaK:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY0RjVBNjI1ODFFNzExRTlCNTg2QTI1ODNGM0VDODRDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY0RjVBNjI2ODFFNzExRTlCNTg2QTI1ODNGM0VDODRDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjRGNUE2MjM4MUU3MTFFOUI1ODZBMjU4M0YzRUM4NEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjRGNUE2MjQ4MUU3MTFFOUI1ODZBMjU4M0YzRUM4NEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6cGhONAAARaElEQVR42uyd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"},GULa:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("GqZ+"),o=e("6WVe"),n=e("KNHM"),l=e("ryJa"),s=e.n(l);function c(t,a,e){switch(t){case"y ":return e.setFullYear(e.getFullYear()+a),e;case"q ":return e.setMonth(e.getMonth()+3*a),e;case"m ":return e.setMonth(e.getMonth()+a),e;case"w ":return e.setDate(e.getDate()+7*a),e;case"h ":return e.setHours(e.getHours()+a),e;case"m ":return e.setMinutes(e.getMinutes()+a),e;case"s ":return e.setSeconds(e.getSeconds()+a),e;default:return e.setDate(d.getDate()+a),e}}var r={name:"ApplicationOpen",data:function(){return{visiblediscount1:!1,visiblediscount3:!1,visiblediscount12:!1,visiblediscount24:!1,visiblediscount36:!1,visiblediscount60:!1,Discount1:0,Discount3:0,Discount12:0,Discount36:0,Discount24:0,Discount60:0,Month1:1,Month3:3,Month12:12,Month36:36,Month24:24,Month60:60,totalMoney:0,totalMoneyShow:0,curtab:0,imageFrontUrl:"",imageLicenseUrl:"",allTableData:[],allTotalData:[],tableApplications:{},applicationForm:{appId:1,appName:"",buyNumber:0,totalAmount:0,useMonth:0,deadline:"",licenseBeginTime:"",licenseEndTime:"",unit:"个"},applicationReturnForm:{appName:"",cprId:0,totalAmount:0,useMonth:0},LabelArray:[],centerDialogVisible:!1,formInline:{user:"",region:""},radio:"1",appId:1,discountOneMonth:0,discountThreeMonth:0,discountOneYear:0,discountTwoYear:0,discountThreeYear:0,discountFiveYear:0,TableDatalist:[],totalPAyment:0,tableApplicationsDiscountTable:[],TokenInfo:{},userName:"",mobile:""}},created:function(){this.getApplication()},methods:{getApplication:function(){var t=this;this.TokenInfo=JSON.parse(localStorage.getItem("console-user-token")),Object(i.f)().then(function(a){a.data.code===t.$global.successCode&&(t.allTableData=a.data.data,t.allTotalData=a.data.data,t.tableApplicationsDiscountTable=a.data.data,t.changeDiscountTick())},function(t){console.log("请求应用数据失败",t)})},handleChange:function(t){this.applicationForm.buyNumber=t,0==this.curtab&&this.onTotalMoney1(0,1),1==this.curtab&&this.onTotalMoney2(1,3),2==this.curtab&&this.onTotalMoney3(2,12),3==this.curtab&&this.onTotalMoney4(3,24),4==this.curtab&&this.onTotalMoney5(4,36),5==this.curtab&&this.onTotalMoney6(5,60)},onTotalMoney1:function(t,a){var e=this;this.applicationForm.useMonth=a,this.applicationForm.deadline=a+"个月",this.curtab=t,this.allTotalData.forEach(function(t,i){0!=e.discountOneMonth?a==t.discount[i].month&&(null==t.money||void 0==t.money?e.totalMoney=0:e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),Object(n.b)(e.applicationForm.buyNumber,e.discountOneMonth/10))):e.appId==t.appId&&(null===t.money&&void 0===t.money||(e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),e.applicationForm.buyNumber)))})},onTotalMoney2:function(t,a){var e=this;this.applicationForm.useMonth=a,this.applicationForm.deadline=a+"个月",this.curtab=t,this.allTotalData.forEach(function(t,i){0!=e.discountThreeMonth?a==t.discount[i].month&&(null==t.money||void 0==t.money?e.totalMoney=0:e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),Object(n.b)(e.applicationForm.buyNumber,t.discount[i].discount/10))):e.appId==t.appId&&(null==t.money||void 0==t.money?e.totalMoney=0:e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),e.applicationForm.buyNumber))})},onTotalMoney3:function(t,a){var e=this;this.applicationForm.useMonth=a,this.applicationForm.deadline="1年",this.curtab=t,this.allTotalData.forEach(function(t,i){0!=e.discountOneYear?e.appId==t.appId&&t.discount.forEach(function(i,o){i.month==a&&(null==t.money||void 0==t.money?e.totalMoney=0:e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),Object(n.b)(e.applicationForm.buyNumber,e.discountOneYear/10)))}):e.appId==t.appId&&(null==t.money||void 0==t.money?e.totalMoney=0:e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),e.applicationForm.buyNumber))})},onTotalMoney4:function(t,a){var e=this;this.applicationForm.useMonth=a,this.applicationForm.deadline="2年",this.curtab=t,this.allTotalData.forEach(function(t,i){0!=e.discountTwoYear?e.appId==t.appId&&t.discount.forEach(function(i,o){i.month==a&&(null==t.money||void 0==t.money?e.totalMoney=0:e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),Object(n.b)(e.applicationForm.buyNumber,e.discountTwoYear/10)))}):e.appId==t.appId&&(null==t.money||void 0==t.money?e.totalMoney=0:e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),e.applicationForm.buyNumber))})},onTotalMoney5:function(t,a){var e=this;this.applicationForm.useMonth=a,this.applicationForm.deadline="3年",this.curtab=t;this.allTotalData.forEach(function(t,i){0!=e.discountThreeYear?e.appId==t.appId&&t.discount.forEach(function(i,o){i.month,null==t.money||void 0==t.money?e.totalMoney=0:e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),Object(n.b)(e.applicationForm.buyNumber,e.discountThreeYear/10))}):e.appId==t.appId&&(null==t.money||void 0==t.money?e.totalMoney=0:e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),e.applicationForm.buyNumber))})},onTotalMoney6:function(t,a){var e=this;this.applicationForm.useMonth=a,this.applicationForm.deadline="5年",this.curtab=t,this.allTotalData.forEach(function(t,i){0!=e.discountFiveYear?e.appId==t.appId&&t.discount.forEach(function(i,o){i.month,null==t.money||void 0==t.money?e.totalMoney=0:e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),Object(n.b)(e.applicationForm.buyNumber,e.discountFiveYear/10))}):e.appId==t.appId&&(null==t.money||void 0==t.money?e.totalMoney=0:e.totalMoney=Object(n.b)(Object(n.b)(a,t.money),e.applicationForm.buyNumber))})},buySubmitForm:function(){var t=new Date,a=new Date;1==this.applicationForm.useMonth?a=new Date(c("m ",1,t)):3==this.applicationForm.useMonth?a=new Date(c("m ",3,t)):12==this.applicationForm.useMonth?a=new Date(c("y ",1,t)):24==this.applicationForm.useMonth?a=new Date(c("y ",2,t)):36==this.applicationForm.useMonth?a=new Date(c("y ",3,t)):60==this.applicationForm.useMonth&&(a=new Date(c("y ",5,t))),this.applicationForm.totalAmount=this.totalMoney,this.applicationForm.licenseBeginTime=s()().format().slice(0,10);var e=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();this.applicationForm.licenseEndTime=e;var i=0;if(i=0==this.TableDatalist.length?1:this.TableDatalist.length+1,this.TableDatalist.push({index:i,totalAmount:this.applicationForm.totalAmount,licenseBeginTime:this.applicationForm.licenseBeginTime,licenseEndTime:this.applicationForm.licenseEndTime,appId:this.applicationForm.appId,appName:this.applicationForm.appName?this.applicationForm.appName:"云OA",buyNumber:this.applicationForm.buyNumber,useMonth:this.applicationForm.useMonth,deadline:this.applicationForm.deadline}),this.TableDatalist.length){var o=this.TableDatalist;this.TableDatalist=[];for(var l={},r=0;r<o.length;r++)l[o[r].appId]?this.TableDatalist&&this.$message({message:"不能重复提交一个产品的订单",type:"warning"}):(this.TableDatalist.push(o[r]),l[o[r].appId]=!0);var u=0;this.TableDatalist.forEach(function(t,a){u=Object(n.a)(u,t.totalAmount).toFixed(2)}),this.totalPAyment=u}},deleteRow:function(t,a){a.splice(t,1);var e=0;this.TableDatalist.forEach(function(t,a){e=Object(n.a)(e,t.totalAmount).toFixed(2)}),this.totalPAyment=e},changeDiscountTick:function(){var t=this;this.discountOneMonth=0,this.discountThreeMonth=0,this.discountOneYear=0,this.discountTwoYear=0,this.discountThreeYear=0,this.discountFiveYear=0,null!==this.allTotalData.discount&&this.allTotalData.forEach(function(a,e){null!==a.discount&&t.appId==a.appId&&a.discount.forEach(function(a,e){1==a.month&&(t.discountOneMonth=a.discount/10),3==a.month&&(t.discountThreeMonth=a.discount/10),12==a.month&&(t.discountOneYear=a.discount/10),24==a.month&&(t.discountTwoYear=a.discount/10),36==a.month?t.discountThreeYear=a.discount/10:t.discountThreeYear=t.discountTwoYear,60==a.month?t.discountFiveYear=a.discount/10:t.discountFiveYear=t.discountThreeYear}),t.appId==a.appId&&(t.applicationForm.appName=a.appName,t.applicationForm.appId=a.appId,t.tableApplications.money=a.money)})},getapplicationTable:function(t,a){this.applicationForm.unit=a.unit,this.appId=t,this.changeDiscountTick(),0==this.curtab&&this.onTotalMoney1(0,1),1==this.curtab&&this.onTotalMoney2(1,3),2==this.curtab&&this.onTotalMoney3(2,12),3==this.curtab&&this.onTotalMoney4(3,24),4==this.curtab&&this.onTotalMoney5(4,36),5==this.curtab&&this.onTotalMoney6(5,60)},payClick:function(){var t=this,a=this.tableApplications.money,e=this.applicationForm.buyNumber,i=this.applicationForm.totalAmount,n=this.applicationForm.useMonth;if(null!=a&&null!=e&&null!=i&&null!=n){var l=[];this.TableDatalist.length&&this.TableDatalist.forEach(function(t,a){l.push({appId:t.appId,buyNumber:t.buyNumber,totalAmount:t.totalAmount,useMonth:t.useMonth})}),Object(o.h)(l).then(function(a){if(a.data.code===t.$global.successCode){t.applicationReturnForm=a.data;var e=t.applicationReturnForm.data.payInfoNo;t.$router.push({path:"/invoice/invoice-buyList/"+e})}}).catch(function(t){console.log("提交购买数据失败",t)})}else this.$message({message:"数据不完整或者应用的单价为0，无法提交购买请求!",type:"warning"})}}},u={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"main"},[t._m(0),t._v(" "),i("div",{staticClass:"clear"}),t._v(" "),i("div",{staticClass:"application_item main_content2"},[i("el-form",{staticClass:"demo-ruleForm",attrs:{model:t.applicationForm,"status-icon":"","label-width":"100px"}},[i("el-form-item",{attrs:{label:"账号："}},[i("div",[t._v(t._s(this.TokenInfo.mobile))])]),t._v(" "),i("el-form-item",{attrs:{label:"用户名称："}},[i("div",[t._v(t._s(this.TokenInfo.userName))])]),t._v(" "),i("el-form-item",{attrs:{label:"购买应用："}},t._l(t.allTotalData,function(a,o){return i("div",{key:o,staticClass:"applicationTable",class:{applicationActive:t.appId==a.appId},on:{click:function(e){return t.getapplicationTable(a.appId,a)}}},[i("div",{staticClass:"img"},[a.appLogo?i("img",{attrs:{src:a.appLogo,alt:""}}):i("img",{attrs:{src:e("FuaK"),alt:""}})]),t._v(" "),i("div",{staticClass:"txt"},[i("h4",{staticStyle:{"line-height":"30px"}},[t._v(t._s(a.appName))])]),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:t.appId==a.appId,expression:"appId == item.appId"}],class:{logoActive:t.appId==a.appId}})])}),0),t._v(" "),i("el-form-item",{attrs:{label:"购买时长："},model:{value:t.applicationForm.useMonth,callback:function(a){t.$set(t.applicationForm,"useMonth",a)},expression:"applicationForm.useMonth"}},[i("ul",{staticClass:"buytime"},[i("li",{class:{active:0==t.curtab},on:{click:function(a){return t.onTotalMoney1(0,1)}}},[i("div",[t._v("1个月")]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.discountOneMonth,expression:"discountOneMonth"}]},[t._v(t._s(t.discountOneMonth)+"折")])]),t._v(" "),i("li",{class:{active:1==t.curtab},on:{click:function(a){return t.onTotalMoney2(1,3)}}},[i("div",[t._v("3个月")]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.discountThreeMonth,expression:"discountThreeMonth"}]},[t._v(t._s(t.discountThreeMonth)+"折")])]),t._v(" "),i("li",{class:{active:2==t.curtab},on:{click:function(a){return t.onTotalMoney3(2,12)}}},[i("div",[t._v("1年")]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.discountOneYear,expression:"discountOneYear"}]},[t._v(t._s(t.discountOneYear)+"折")])]),t._v(" "),i("li",{class:{active:3==t.curtab},on:{click:function(a){return t.onTotalMoney4(3,24)}}},[i("div",[t._v("2年")]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.discountTwoYear,expression:"discountTwoYear"}]},[t._v(t._s(t.discountTwoYear)+"折")])]),t._v(" "),i("li",{class:{active:4==t.curtab},on:{click:function(a){return t.onTotalMoney5(4,36)}}},[i("div",[t._v("3年")]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.discountThreeYear,expression:"discountThreeYear"}]},[t._v(t._s(t.discountThreeYear)+"折")])]),t._v(" "),i("li",{class:{active:5==t.curtab},on:{click:function(a){return t.onTotalMoney6(5,60)}}},[i("div",[t._v("5年")]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.discountFiveYear,expression:"discountFiveYear"}]},[t._v(t._s(t.discountFiveYear)+"折")])])])]),t._v(" "),i("el-form-item",{attrs:{label:"购买数量："}},[i("el-input-number",{attrs:{min:0,placeholder:"请输入所需用户数"},on:{change:t.handleChange},model:{value:t.applicationForm.buyNumber,callback:function(a){t.$set(t.applicationForm,"buyNumber",a)},expression:"applicationForm.buyNumber"}}),t._v("\n               "),i("span",[t._v("( "+t._s(this.applicationForm.unit)+" )")])],1),t._v(" "),i("el-form-item",{attrs:{label:"所需费用："}},[i("p",{staticClass:"moneytxt"},[t._v("￥"),i("b",[t._v(t._s(this.totalMoney))])])]),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.buySubmitForm}},[t._v("确定")])],1)],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.TableDatalist,"max-height":"250"}},[i("el-table-column",{attrs:{prop:"index",label:"#","min-width":"80","max-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"appName",label:"购买应用","min-width":"100","max-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"buyNumber",label:"购买数量","min-width":"100","max-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"deadline",label:"期限","min-width":"100","max-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"licenseBeginTime",label:"开始日期","min-width":"120","max-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"licenseEndTime",label:"结束日期","min-width":"120","max-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"totalAmount",label:"费用","min-width":"120","max-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[i("el-button",{attrs:{type:"text",size:"normal"},nativeOn:{click:function(e){return e.preventDefault(),t.deleteRow(a.$index,t.TableDatalist)}}},[t._v("\n        移除\n      ")])]}}])})],1),t._v(" "),i("div",{staticClass:"total"},[i("span",{staticClass:"totalMoney"},[t._v("所有费用:")]),t._v(" "),i("span",{staticClass:"money"},[t._v("￥"),i("i",{staticStyle:{"font-style":"normal","margin-right":"15px"}},[t._v(t._s(t.totalPAyment))])])]),t._v(" "),i("div",{staticClass:"payBtn"},[i("el-button",{attrs:{type:"primary"},on:{click:t.payClick}},[t._v("提交订单")])],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"title_warp"},[a("h2",{staticClass:"title2"},[a("span",[this._v("财务管理")]),this._v(" >应用购买")])])}]};var p=e("C7Lr")(r,u,!1,function(t){e("kZ9R")},"data-v-522a29d7",null);a.default=p.exports},kZ9R:function(t,a){}});