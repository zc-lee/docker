webpackJsonp([13],{ABVO:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("GqZ+"),i=t("uAC3"),o=t.n(i),s={name:"CompanyAuthentication",data:function(){return{imageFrontUrl:"",imageLicenseUrl:"",CompanyForm:{company:"",companyLicense:"",companyType:1,legalFile:0,legalType:1,licenseFile:0,legalName:"",legalMobile:"",legalEmail:""},examine:999,fileList:[],rules:{company:[{required:!0,message:"请输入企业名称",trigger:"blur"}],companyLicense:[{required:!0,message:"请输入营业执照注册号",trigger:"blur"}],legalName:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],legalMobile:[{required:!0,message:"请输入联系人手机号",trigger:"blur"},{validator:function(e,a,t){""!==a&&(/^1[3456789]\d{9}$/.test(a)||t(new Error("请输入有效的手机号码")));t()},trigger:"blur"}],legalEmail:[{required:!0,message:"请输入正确的联系人邮箱账号",trigger:"blur"},{validator:function(e,a,t){""!==a&&(/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(a)||t(new Error("请输入有效的邮箱")));t()},trigger:"blur"}],legalFile:[{required:!0,message:"必须上传协议",trigger:"blur"}],licenseFile:[{required:!0,message:"必须上传营业执照扫描件",trigger:"blur"}]}}},created:function(){this.getCompanyAuthentications()},computed:{fileUploadUrl:function(){return this.$global.baseUrl+"/file/upload"},requestHeader:function(){return{"console-user-token":o.a.get("console-user-token")}}},methods:{getCompanyAuthentications:function(){var e=this;Object(l.h)().then(function(a){a.data.code===e.$global.successCode&&null!=a.data.data&&(e.CompanyForm=a.data.data,e.examine=a.data.data.examine,e.imageLicenseUrl=a.data.data.licenseFileUrl,e.fileList.push({name:a.data.data.legalFileUrl,fileUrl:a.data.data.legalFileUrl}))},function(e){console.log("获取用户认证信息数据失败",e)})},submitCompanyForm:function(e){var a=this;this.$refs.CompanyForm.validate(function(e){if(e){var t=a.CompanyForm;Object(l.a)(t).then(function(e){e.data.code===a.$global.successCode&&a.$message({message:"企业认证数据提交成功！",type:"success"})}).catch(function(e){console.log("请求企业认证数据失败",e)})}})},frontUploadSuccess:function(e){this.CompanyForm.legalFile=e.data.fileId,this.imageFrontUrl=e.data.fileUrl},licenseUploadSuccess:function(e){this.CompanyForm.licenseFile=e.data.fileId,this.imageLicenseUrl=e.data.fileUrl},licenseUploadError:function(e,a,t){},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type,t="image/png"===e.type,l="image/jpg"===e.type,i=e.size/1024/1024<5;return i?l||t||a?void 0:(this.$message({message:"上传图片必须是JPG/JPEG/PNG 格式！",type:"warning"}),l||a||t):(this.$message({message:"上传图片大小不能超过 5M!",type:"warning"}),i)},beforeAvatarUpload2:function(e){var a="application/pdf"===e.type,t=e.size/1024/1024<5;return t?a?void 0:(this.$message({message:"上传文件必须是pdf格式！",type:"warning"}),a):(this.$message({message:"上传文件大小不能超过 5M!",type:"warning"}),t)},contractUploadRemove:function(e,a){var t=this;e&&"success"===e.status&&this.$confirm("是否确定删除？"+e.name+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteFileInfo(e,t.fileList)}).catch(function(){})},deleteFileInfo:function(e,a){for(var t=0,l=0;l<a.length;l++){a[l].fileId===e.fileId&&(t=l)}a.splice(t,1)},contractUploadSuccess:function(e,a,t){this.fileList.push({name:a.name,fileId:e.data.fileId,fileUrl:e.data.fileUrl}),this.CompanyForm.legalFile=this.fileList[0].fileId}}},n={render:function(){var e=this,a=e.$createElement,l=e._self._c||a;return l("div",{staticClass:"main"},[e._m(0),e._v(" "),l("div",{staticClass:"clear"}),e._v(" "),l("div",{staticClass:"authentication_item application_item"},[l("el-form",{ref:"CompanyForm",staticClass:"demo-ruleForm",attrs:{model:e.CompanyForm,rules:e.rules,"label-width":"190px"}},[l("h3",[l("i",[e._v("组织信息")]),e._v(" "),0==e.examine&&null!=e.examine?l("span",{staticStyle:{color:"#6b09ff"}},[l("i",{staticClass:"icon iconfont icon-shenhezhong"}),e._v("您的企业认证申请正在审核中，请耐心等候结果。")]):1==e.examine&&null!=e.examine?l("span",{staticStyle:{color:"#00aaee"}},[l("i",{staticClass:"icon iconfont icon-wancheng"}),e._v("您已认证。")]):-1==e.examine&&null!=e.examine?l("span",{staticStyle:{color:"#e74012"}},[l("i",{staticClass:"icon iconfont icon-shangjiaICON--_shenheshibai"}),e._v("您的个人认证申请被驳回！")]):l("span",{staticStyle:{color:"#f49b06"}},[l("i",{staticClass:"icon iconfont icon-tishi1"}),e._v("您尚未进行个人认证，请尽快完成身份认证！")])]),e._v(" "),l("el-form-item",{attrs:{label:"组织类型："}},[l("el-radio-group",{attrs:{disabled:0==e.examine&&null!=e.examine},model:{value:e.CompanyForm.companyType,callback:function(a){e.$set(e.CompanyForm,"companyType",a)},expression:"CompanyForm.companyType"}},[l("el-radio",{attrs:{label:1}},[e._v("企业")]),e._v(" "),l("el-radio",{attrs:{label:2}},[e._v("其他组织")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"企业名称：",prop:"company"}},[l("el-input",{attrs:{placeholder:"请输入企业名称",disabled:0==e.examine&&null!=e.examine},model:{value:e.CompanyForm.company,callback:function(a){e.$set(e.CompanyForm,"company",a)},expression:"CompanyForm.company"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"营业执照注册号：",prop:"companyLicense"}},[l("el-input",{attrs:{placeholder:"请输入营业执照注册号",disabled:0==e.examine&&null!=e.examine},model:{value:e.CompanyForm.companyLicense,callback:function(a){e.$set(e.CompanyForm,"companyLicense",a)},expression:"CompanyForm.companyLicense"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"营业执照扫描件：",prop:"licenseFile"}},[l("el-upload",{staticClass:"avatar-uploader authentication_file",attrs:{name:"file","show-file-list":!1,action:e.fileUploadUrl,headers:e.requestHeader,"on-error":e.licenseUploadError,"on-success":e.licenseUploadSuccess,"before-upload":e.beforeAvatarUpload,disabled:0==e.examine},model:{value:e.CompanyForm.licenseFile,callback:function(a){e.$set(e.CompanyForm,"licenseFile",a)},expression:"CompanyForm.licenseFile"}},[e.imageLicenseUrl?l("img",{staticClass:"avatar",attrs:{src:e.imageLicenseUrl}}):l("i",[l("img",{attrs:{src:t("aP+Z")}})]),e._v(" "),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[l("div",{staticClass:"clear",staticStyle:{"margin-top":"20px"}}),l("div",{staticStyle:{height:"20px"}}),l("b",[e._v("·")]),e._v(" 营业执照正副本均可，文字/盖章需清晰可见")]),e._v(" "),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[l("b",[e._v("·")]),e._v(" 确保四边角完整，水印、文字、图片、证件号码等清晰可辨")]),e._v(" "),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[l("b",[e._v("·")]),e._v(" 原件照片或彩色扫描件，格式为JPG、JPEG、PNG，且大小不超过2M")])])],1),e._v(" "),l("el-form-item",{attrs:{label:"上传协议：",prop:"legalFile"}},[l("el-upload",{staticClass:"box-upload-file",staticStyle:{width:"300px"},attrs:{multiple:"",action:e.fileUploadUrl,headers:e.requestHeader,"on-remove":e.contractUploadRemove,"on-error":e.licenseUploadError,"before-upload":e.beforeAvatarUpload2,"on-success":e.contractUploadSuccess,"file-list":e.fileList,disabled:0==e.examine},model:{value:e.CompanyForm.legalFile,callback:function(a){e.$set(e.CompanyForm,"legalFile",a)},expression:"CompanyForm.legalFile"}},[l("el-button",{attrs:{size:"small",type:"success"}},[e._v("上传协议")]),e._v(" "),l("div",{staticClass:"el-upload__tip",staticStyle:{"line-height":"40px"},attrs:{slot:"tip"},slot:"tip"},[e._v("   "),l("a",{staticStyle:{color:"#00aaee","font-size":"14px"},attrs:{href:"http://cdn.tc.yiyuntong.com/console/chinajeygyhlxy.pdf"}},[e._v("协议下载"),l("i",{staticClass:"el-icon-download"})])]),e._v(" "),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[l("div",{staticClass:"clear"}),l("div",{staticStyle:{height:"5px"}}),e._v("可以上传word、pdf、excel的文件，且不超过10M")])],1)],1),e._v(" "),l("h3",{staticClass:"mt30"},[e._v("联系人信息")]),e._v(" "),l("el-form-item",{attrs:{label:"联系人姓名：",prop:"legalName"}},[l("el-input",{attrs:{placeholder:"请输入联系人姓名",disabled:0==e.examine},model:{value:e.CompanyForm.legalName,callback:function(a){e.$set(e.CompanyForm,"legalName",a)},expression:"CompanyForm.legalName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"联系人手机号：",prop:"legalMobile"}},[l("el-input",{attrs:{placeholder:"请输入联系人手机号",disabled:0==e.examine},model:{value:e.CompanyForm.legalMobile,callback:function(a){e.$set(e.CompanyForm,"legalMobile",a)},expression:"CompanyForm.legalMobile"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"联系人邮箱：",prop:"legalEmail"}},[l("el-input",{attrs:{placeholder:"请输入联系人邮箱",disabled:0==e.examine},model:{value:e.CompanyForm.legalEmail,callback:function(a){e.$set(e.CompanyForm,"legalEmail",a)},expression:"CompanyForm.legalEmail"}})],1),e._v(" "),l("el-form-item",{staticClass:"mt30"},[l("el-button",{attrs:{type:"primary",disabled:0==e.examine},on:{click:e.submitCompanyForm}},[e._v("提交")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"title_warp"},[a("h2",{staticClass:"title1"},[a("span",[this._v("个人/企业认证")]),this._v(" > 企业认证")])])}]};var r=t("C7Lr")(s,n,!1,function(e){t("b/C8")},"data-v-1341a5fe",null);a.default=r.exports},"aP+Z":function(e,a,t){e.exports=t.p+"static/img/uploadpic1.2bfcdb6.png"},"b/C8":function(e,a){}});