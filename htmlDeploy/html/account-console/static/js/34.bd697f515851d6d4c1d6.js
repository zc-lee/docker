webpackJsonp([34],{IzTk:function(e,l){},"bWm/":function(e,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var a=t("Ln58"),o={props:["mentId","linkId"],data:function(){return{typeOptions:[{value:"0",label:"空文本"},{value:"1",label:"日期"},{value:"2",label:"日期时间",disabled:!0},{value:"3",label:"整数"},{value:"4",label:"两位小数"},{value:"5",label:"四位小数"},{value:"6",label:"六位小数"},{value:"7",label:"状态"}],mobileOptions:[{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"}],modal:{visible:!1,mentId:"",labelWidth:"110px",form:{columnType:"",formTitle:"",linkId:"",pk:"",sapSubColumns:"",sapSubTableType:"",tableType:"",wdColumnId:"",wdTableId:""}},update:{visible:!1,mentId:"",labelWidth:"110px",form:{columnType:"",formTitle:"",linkId:"",pk:"",sapSubColumns:"",sapSubTableType:"",tableType:"",wdColumnId:"",wdTableId:""}},table:{search:{keyword:""},pageObject:{page:1,sizes:20,total:100},dataList:[]},columnList:[]}},methods:{sequence:function(e,l){},getColumn:function(){var e=this,l=Number(this.mentId);Object(a.m)({mentId:l,type:2}).then(function(l){l.data.code===e.$global.successCode&&(e.columnList=l.data.data)})},openUpdateDialog:function(e){this.update.visible=!0,this.update.form=e},updateSubTableField:function(){var e=this;Object(a.x)({columnType:this.update.form.columnType,formTitle:this.update.form.formTitle,linkId:this.update.form.linkId,pk:this.update.form.pk,sapSubColumns:this.update.form.sapSubColumns,sapSubTableType:this.update.form.sapSubTableType,tableType:this.update.form.tableType,wdColumnId:this.update.form.wdColumnsId,wdTableId:this.update.form.wdTableId}).then(function(l){l.data.code===e.$global.successCode&&(e.$message({message:"字段更新成功",type:"success"}),e.update.visible=!1,e.getSapTableData())})},getSapTableData:function(e){var l=this,t=Number(this.mentId);1===e&&(this.table.pageObject.page=1),Object(a.s)({ment_id:t,page:this.table.pageObject.page,size:this.table.pageObject.sizes,keyword:this.table.search.keyword}).then(function(e){e.data.code===l.$global.successCode&&(l.table.dataList=e.data.data.list,l.table.pageObject.total=e.data.data.total)})},addSubTableField:function(){var e=this,l=Number(this.mentId),t=Number(this.linkId);Object(a.e)({columnType:this.modal.form.columnType,formTitle:this.modal.form.formTitle,linkId:t,pk:this.modal.form.pk,sapSubColumns:this.modal.form.sapSubColumns,sapSubTableType:this.modal.form.sapSubTableType,tableType:this.modal.form.tableType,wdColumnId:this.modal.form.wdColumnsId,wdTableId:l}).then(function(l){l.data.code===e.$global.successCode&&(e.$message({message:"字段添加成功",type:"success"}),e.modal.visible=!1,e.modal.form={},e.getSapTableData())})},deleteForm:function(e){var l=this;this.$confirm("是否确定删除该条数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.j)({linkId:e.linkId,sapSubColumns:e.sapSubColumns,wdTableId:e.wdTableId}).then(function(e){e.data.code===l.$global.successCode&&(l.$message({message:"删除数据成功",type:"success"}),l.getSapTableData())})}).catch(function(){l.$message("取消删除操作")})},handleCurrentChange:function(e){this.table.pageObject.page=e,this.getSapTableData()},handleSizeChange:function(e){this.table.pageObject.sizes=e,this.getSapTableData()}},created:function(){this.getSapTableData(),this.getColumn()}},s={render:function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",{staticClass:"application_item",staticStyle:{height:"calc(100vh - 153px)",padding:"0"}},[t("div",{staticClass:"common-setting-tab-content"},[t("div",{staticClass:"common-transverse-operation"},[t("el-button",{attrs:{type:"primary"},on:{click:function(l){e.modal.visible=!0}}},[e._v("添加字段")]),e._v(" "),t("div",{staticClass:"search-input"},[t("el-input",{attrs:{placeholder:"搜索...","suffix-icon":"el-icon-search"},on:{change:function(l){return e.getSapTableData(1)}},model:{value:e.table.search.keyword,callback:function(l){e.$set(e.table.search,"keyword",l)},expression:"table.search.keyword"}})],1)],1),e._v(" "),t("el-dialog",{staticStyle:{"font-weight":"bold"},attrs:{title:"添加子表字段",visible:e.modal.visible},on:{"update:visible":function(l){return e.$set(e.modal,"visible",l)}}},[t("el-row",{attrs:{gutter:5}},[t("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[t("div",{staticClass:"grid-content bg-purple"},[t("el-form",{staticClass:"common-modal-input",attrs:{model:e.modal.form}},[t("el-form-item",{attrs:{label:"SAP子表名","label-width":e.modal.labelWidth,required:""}},[t("el-input",{model:{value:e.modal.form.sapSubTableType,callback:function(l){e.$set(e.modal.form,"sapSubTableType",l)},expression:"modal.form.sapSubTableType"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"表类型","label-width":e.modal.labelWidth,required:""}},[t("el-input",{model:{value:e.modal.form.tableType,callback:function(l){e.$set(e.modal.form,"tableType",l)},expression:"modal.form.tableType"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"SAP子表字段","label-width":e.modal.labelWidth,required:""}},[t("el-input",{model:{value:e.modal.form.sapSubColumns,callback:function(l){e.$set(e.modal.form,"sapSubColumns",l)},expression:"modal.form.sapSubColumns"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"表名","label-width":e.modal.labelWidth,required:""}},[t("el-input",{model:{value:e.modal.form.wdTableName,callback:function(l){e.$set(e.modal.form,"wdTableName",l)},expression:"modal.form.wdTableName"}})],1)],1)],1)]),e._v(" "),t("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[t("div",{staticClass:"grid-content bg-purple-light"},[t("el-form",{staticClass:"common-modal-input",attrs:{model:e.modal.form}},[t("el-form-item",{attrs:{label:"表单字段","label-width":e.modal.labelWidth,required:""}},[t("el-select",{model:{value:e.modal.form.wdColumnsId,callback:function(l){e.$set(e.modal.form,"wdColumnsId",l)},expression:"modal.form.wdColumnsId"}},e._l(e.columnList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"手机端显示","label-width":e.modal.labelWidth}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.modal.form.formTitle,callback:function(l){e.$set(e.modal.form,"formTitle",l)},expression:"modal.form.formTitle"}},e._l(e.mobileOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"字段类型","label-width":e.modal.labelWidth}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.modal.form.columnType,callback:function(l){e.$set(e.modal.form,"columnType",l)},expression:"modal.form.columnType"}},e._l(e.typeOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"是否主键","label-width":e.modal.labelWidth,required:""}},[t("el-radio-group",{model:{value:e.modal.form.pk,callback:function(l){e.$set(e.modal.form,"pk",l)},expression:"modal.form.pk"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1)],1)])],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(l){return e.addSubTableField()}}},[e._v("确 定")]),e._v(" "),t("el-button",{on:{click:function(l){e.modal.visible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),t("el-dialog",{staticStyle:{"font-weight":"bold"},attrs:{title:"更新子表字段",visible:e.update.visible},on:{"update:visible":function(l){return e.$set(e.update,"visible",l)}}},[t("el-row",{attrs:{gutter:5}},[t("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[t("div",{staticClass:"grid-content bg-purple"},[t("el-form",{staticClass:"common-modal-input",attrs:{model:e.update.form}},[t("el-form-item",{attrs:{label:"SAP子表名","label-width":e.update.labelWidth,required:""}},[t("el-input",{model:{value:e.update.form.sapSubTableType,callback:function(l){e.$set(e.update.form,"sapSubTableType",l)},expression:"update.form.sapSubTableType"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"表类型","label-width":e.update.labelWidth,required:""}},[t("el-input",{model:{value:e.update.form.tableType,callback:function(l){e.$set(e.update.form,"tableType",l)},expression:"update.form.tableType"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"SAP子表字段","label-width":e.update.labelWidth,required:""}},[t("el-input",{attrs:{disabled:""},model:{value:e.update.form.sapSubColumns,callback:function(l){e.$set(e.update.form,"sapSubColumns",l)},expression:"update.form.sapSubColumns"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"表名","label-width":e.update.labelWidth,disabled:!0,required:""}},[t("el-input",{attrs:{disabled:""},model:{value:e.update.form.wdTableName,callback:function(l){e.$set(e.update.form,"wdTableName",l)},expression:"update.form.wdTableName"}})],1)],1)],1)]),e._v(" "),t("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[t("div",{staticClass:"grid-content bg-purple-light"},[t("el-form",{staticClass:"common-modal-input",attrs:{model:e.update.form}},[t("el-form-item",{attrs:{label:"表单字段","label-width":e.update.labelWidth,required:""}},[t("el-select",{model:{value:e.update.form.wdColumnsId,callback:function(l){e.$set(e.update.form,"wdColumnsId",l)},expression:"update.form.wdColumnsId"}},e._l(e.columnList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"手机端显示","label-width":e.update.labelWidth}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.update.form.formTitle,callback:function(l){e.$set(e.update.form,"formTitle",l)},expression:"update.form.formTitle"}},e._l(e.mobileOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"类型","label-width":e.update.labelWidth}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.update.form.columnType,callback:function(l){e.$set(e.update.form,"columnType",l)},expression:"update.form.columnType"}},e._l(e.typeOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"是否主键","label-width":e.update.labelWidth,required:""}},[t("el-radio-group",{model:{value:e.update.form.pk,callback:function(l){e.$set(e.update.form,"pk",l)},expression:"update.form.pk"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1)],1)])],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(l){return e.updateSubTableField()}}},[e._v("确 定")]),e._v(" "),t("el-button",{on:{click:function(l){e.update.visible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),t("div",{staticClass:"common-table"},[t("el-table",{ref:"postsTable",attrs:{data:e.table.dataList,height:"100%"}},[t("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),t("el-table-column",{attrs:{label:"SAP子表名",width:"120"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",{staticClass:"click-col",on:{click:function(t){return e.openUpdateDialog(l.row)}}},[e._v(e._s(l.row.sapSubTableType))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"wdTableId",label:"表单编号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"tableType",label:"表类型"}}),e._v(" "),t("el-table-column",{attrs:{prop:"wdTableName",label:"微工资表名",width:"110"}}),e._v(" "),t("el-table-column",{attrs:{prop:"wdColumnsName",label:"微工资控件名",width:"110"}}),e._v(" "),t("el-table-column",{attrs:{prop:"sapSubColumns",label:"SAP子表字段",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{prop:"wdColumnsId",label:"表单类型ID",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"formTitle",label:"手机端显示",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"pk",label:"是否主键",width:"100"},scopedSlots:e._u([{key:"default",fn:function(l){return[1===l.row.pk?t("span",[e._v("是")]):e._e(),e._v(" "),0==l.row.pk?t("span",[e._v("否")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"columnType",label:"类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(l){return["0"===l.row.columnType||"null"===l.row.columnType||null===l.row.columnType?t("span",[e._v("空文本")]):e._e(),e._v(" "),"1"===l.row.columnType?t("span",[e._v("日期")]):e._e(),e._v(" "),"2"===l.row.columnType?t("span",[e._v("日期时间")]):e._e(),e._v(" "),"3"===l.row.columnType?t("span",[e._v("整数")]):e._e(),e._v(" "),"4"===l.row.columnType?t("span",[e._v("两位小数")]):e._e(),e._v(" "),"5"===l.row.columnType?t("span",[e._v("四位小数")]):e._e(),e._v(" "),"6"===l.row.columnType?t("span",[e._v("六位小数")]):e._e(),e._v(" "),"7"===l.row.columnType?t("span",[e._v("状态")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"100",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteForm(l.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),t("div",{staticClass:"common-paging-content"},[t("el-pagination",{attrs:{"current-page":e.table.pageObject.page,"page-sizes":[10,20,50,100],"page-size":e.table.pageObject.sizes,layout:"total, sizes, prev, pager, next, jumper",total:e.table.pageObject.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var i=t("C7Lr")(o,s,!1,function(e){t("IzTk")},"data-v-6a9d6783",null);l.default=i.exports}});