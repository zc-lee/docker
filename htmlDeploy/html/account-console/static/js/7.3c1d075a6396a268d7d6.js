webpackJsonp([7],{WZbs:function(e,a,t){e.exports=t.p+"static/img/uploadpic3.465fd12.png"},"Y/hN":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("GqZ+"),i=t("uAC3"),s=t.n(i),o={name:"PersonAuthentication",data:function(){return{imageFrontUrl:"",imageRearUrl:"",PersonForm:{bankCard:"",idCard:"",idCardFront:0,idCardRear:0,mobile:""},examine:999,rules:{idCard:[{required:!0,message:"请输入身份证号",trigger:"blur"},{validator:function(e,a,t){""!==a&&(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(a)||t(new Error("身份证输入不合法")));t()},trigger:"blur"}],bankCard:[{required:!0,message:"请输入银行卡号",trigger:"blur"}],mobile:[{required:!0,message:"请输入银行预留手机号",trigger:"blur"},{validator:function(e,a,t){""!==a&&(/^1[3456789]\d{9}$/.test(a)||t(new Error("请输入有效的手机号码")));t()},trigger:"blur"}],idCardFront:[{required:!0,message:"必须上传身份证正面照",trigger:"blur"}],idCardRear:[{required:!0,message:"必须上传身份证反面照",trigger:"blur"}]}}},created:function(){this.getPersonalAuthentications()},computed:{fileUploadUrl:function(){return this.$global.baseUrl+"/file/upload"},requestHeader:function(){return{"console-user-token":s.a.get("console-user-token")}}},methods:{getPersonalAuthentications:function(){var e=this;Object(r.i)().then(function(a){a.data.code===e.$global.successCode&&null!=a.data.data&&(e.PersonForm=a.data.data,e.imageRearUrl=a.data.data.idCardRearUrl,e.imageFrontUrl=a.data.data.idCardFrontUrl,e.examine=a.data.data.examine)},function(e){console.log("获取用户认证信息数据失败",e)})},submitPersonForm:function(e){var a=this;this.$refs.PersonForm.validate(function(e){if(e){var t=a.PersonForm;Object(r.b)(t).then(function(e){e.data.code===a.$global.successCode&&a.$message({message:"个人认证数据提交成功！",type:"success"})}).catch(function(e){console.log("请求个人认证数据失败",e)})}})},licenseUploadError:function(e,a,t){},frontUploadSuccess:function(e){this.PersonForm.idCardFront=e.data.fileId,this.imageFrontUrl=e.data.fileUrl},rearUploadSuccess:function(e){this.PersonForm.idCardRear=e.data.fileId,this.imageRearUrl=e.data.fileUrl},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type,t="image/png"===e.type,r="image/jpg"===e.type,i=e.size/1024/1024<5;return i?r||t||a?void 0:(this.$message({message:"上传图片必须是JPG/JPEG/PNG 格式！",type:"warning"}),r||a||t):(this.$message({message:"上传图片大小不能超过 5M!",type:"warning"}),i)}}},l={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"main"},[e._m(0),e._v(" "),r("div",{staticClass:"clear"}),e._v(" "),r("div",{staticClass:"authentication_item application_item"},[r("h3",[r("i",[e._v("个人信息")]),e._v(" "),0==e.examine?r("span",{staticStyle:{color:"#6b09ff"}},[r("i",{staticClass:"icon iconfont icon-shenhezhong"}),e._v("您的个人认证申请正在审核中，请耐心等候结果。")]):1==e.examine?r("span",{staticStyle:{color:"#00aaee"}},[r("i",{staticClass:"icon iconfont icon-wancheng"}),e._v("您已认证。")]):-1==e.examine?r("span",{staticStyle:{color:"#e74012"}},[r("i",{staticClass:"icon iconfont icon-shangjiaICON--_shenheshibai"}),e._v("您的个人认证申请被驳回！")]):r("span",{staticStyle:{color:"#f49b06"}},[r("i",{staticClass:"icon iconfont icon-tishi1"}),e._v("您尚未进行个人认证，请尽快完成身份认证！")])]),e._v(" "),r("el-form",{ref:"PersonForm",staticClass:"demo-ruleForm",attrs:{model:e.PersonForm,rules:e.rules,"label-width":"190px"}},[r("el-form-item",{attrs:{label:"身份证号：",prop:"idCard"}},[r("el-input",{attrs:{disabled:0==e.examine,placeholder:"请输入身份证号"},model:{value:e.PersonForm.idCard,callback:function(a){e.$set(e.PersonForm,"idCard",a)},expression:"PersonForm.idCard"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"银行卡号：",prop:"bankCard"}},[r("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.PersonForm.bankCard,callback:function(a){e.$set(e.PersonForm,"bankCard",a)},expression:"PersonForm.bankCard"}}),e._v(" "),r("el-input",{attrs:{disabled:0==e.examine,placeholder:"请输入银行卡号"},model:{value:e.PersonForm.bankCard,callback:function(a){e.$set(e.PersonForm,"bankCard",a)},expression:"PersonForm.bankCard"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"银行预留手机号：",prop:"mobile"}},[r("el-input",{attrs:{disabled:0==e.examine,placeholder:"请输入银行预留手机号"},model:{value:e.PersonForm.mobile,callback:function(a){e.$set(e.PersonForm,"mobile",a)},expression:"PersonForm.mobile"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"身份证扫描件正面：",prop:"idCardFront"}},[r("el-upload",{staticClass:"avatar-uploader authentication_file",attrs:{disabled:0==e.examine,name:"file","show-file-list":!1,"on-error":e.licenseUploadError,action:e.fileUploadUrl,headers:e.requestHeader,"on-success":e.frontUploadSuccess,"before-upload":e.beforeAvatarUpload},model:{value:e.PersonForm.idCardFront,callback:function(a){e.$set(e.PersonForm,"idCardFront",a)},expression:"PersonForm.idCardFront"}},[e.imageFrontUrl?r("img",{staticClass:"avatar",attrs:{src:e.imageFrontUrl}}):r("i",[r("img",{attrs:{src:t("rWiP")}})]),e._v(" "),r("div",{staticClass:"el-upload__tip",staticStyle:{"margin-top":"20px"},attrs:{slot:"tip"},slot:"tip"},[r("div",{staticClass:"clear",staticStyle:{"margin-top":"20px"}}),r("div",{staticStyle:{height:"20px"}}),r("b",[e._v("·")]),e._v(" 身份证正面文字需清晰可辨认")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[r("b",[e._v("·")]),e._v(" 确保四边角完整，水印、文字、图片、证件号码等清晰可辨")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[r("b",[e._v("·")]),e._v(" 原件照片或彩色扫描件，格式为JPG、JPEG、PNG，且大小不超过2MB")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"身份证扫描件反面：",prop:"idCardRear"}},[r("el-upload",{staticClass:"avatar-uploader authentication_file",attrs:{disabled:0==e.examine,name:"file","show-file-list":!1,"on-error":e.licenseUploadError,action:e.fileUploadUrl,headers:e.requestHeader,"on-success":e.rearUploadSuccess,"before-upload":e.beforeAvatarUpload},model:{value:e.PersonForm.idCardRear,callback:function(a){e.$set(e.PersonForm,"idCardRear",a)},expression:"PersonForm.idCardRear"}},[e.imageRearUrl?r("img",{staticClass:"avatar",attrs:{src:e.imageRearUrl}}):r("i",[r("img",{attrs:{src:t("WZbs")}})]),e._v(" "),r("div",{staticClass:"el-upload__tip",staticStyle:{"margin-top":"20px"},attrs:{slot:"tip"},slot:"tip"},[r("div",{staticClass:"clear",staticStyle:{"margin-top":"20px"}}),r("div",{staticStyle:{height:"20px"}}),r("b",[e._v("·")]),e._v(" 身份证反面文字需清晰可辨认")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[r("b",[e._v("·")]),e._v(" 确保四边角完整，水印、文字、图片、证件号码等清晰可辨")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[r("b",[e._v("·")]),e._v(" 原件照片或彩色扫描件，格式为JPG、JPEG、PNG，且大小不超过2MB")])])],1),e._v(" "),r("el-form-item",{staticClass:"mt30"},[r("el-button",{attrs:{disabled:0==e.examine,type:"primary"},on:{click:e.submitPersonForm}},[e._v("提交")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"title_warp"},[a("h2",{staticClass:"title1"},[a("span",[this._v("个人/企业认证")]),this._v(" >个人认证")])])}]};var n=t("C7Lr")(o,l,!1,function(e){t("hrf+")},"data-v-1aec9f0c",null);a.default=n.exports},"hrf+":function(e,a){},rWiP:function(e,a,t){e.exports=t.p+"static/img/uploadpic2.5df714c.png"}});