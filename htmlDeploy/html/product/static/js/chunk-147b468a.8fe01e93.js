(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-147b468a"],{"5e05":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("a-breadcrumb",[n("a-breadcrumb-item",[e._v("首页")]),n("a-breadcrumb-item",[e._v("企业信息")])],1),n("h2",{staticClass:"title"},[e._v("企业信息")]),n("div",{staticClass:"search_box"},[n("span",[e._v("企业库ID：")]),n("a-input",{attrs:{placeholder:"输入企业库ID"},model:{value:e.searchid,callback:function(t){e.searchid=t},expression:"searchid"}}),n("span",[e._v("企业名称：")]),n("a-input",{attrs:{placeholder:"输入企业名称"},model:{value:e.searchname,callback:function(t){e.searchname=t},expression:"searchname"}}),n("a-button",{attrs:{type:"primary"},on:{click:e.searchSubmit}},[e._v("查询")])],1),n("div",{staticClass:"content_box"},[n("div",{staticClass:"content_title"},[n("h3",[e._v("零部件分类列表")]),n("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddClassificationVisible()}}},[e._v("添加")])],1),n("div",{staticClass:"content_table"},[n("a-layout",[n("a-table",{staticClass:"enterpriseinfo-table",staticStyle:{height:"calc(100vh -200px)"},attrs:{columns:e.columns,dataSource:e.dataEnterprise,pagination:e.showpagination,rowKey:"businessId",scroll:{y:300}},scopedSlots:e._u([{key:"key",fn:function(t,a){return[n("span",{staticClass:"lineEllipsis"},[e._v(e._s(t))])]}},{key:"title",fn:function(t,a){return[n("span",{staticClass:"lineEllipsis"},[e._v(e._s(t))])]}},{key:"action",fn:function(t,a){return[n("a",{staticClass:"no-underline",staticStyle:{"text-decoration":"none",color:"#00aaee"},attrs:{href:"javascript:;"},on:{click:function(t){return e.showEditClassificationVisible(a)}}},[e._v("修改")]),n("a-popconfirm",{attrs:{title:"确定删除这条数据吗?",cancelText:"取消",okText:"确定"},on:{confirm:function(){return e.onDelete(a.businessId)}}},[n("a",{staticClass:"no-underline",staticStyle:{"text-decoration":"none",color:"#00aaee"},attrs:{href:"javascript:;"}},[e._v("删除")])])]}}])}),n("div",{staticClass:"pagination-box"},[n("a-pagination",{attrs:{pageSizeOptions:e.pageSizeOptions,total:e.total,showTotal:function(e){return"共 "+e+" 条"},showSizeChanger:"",showQuickJumper:"",pageSize:e.pageSize},on:{change:e.onChangepagination,showSizeChange:e.onShowSizeChange},scopedSlots:e._u([{key:"buildOptionText",fn:function(t){return["50"!==t.value?n("span",[e._v(e._s(t.value)+"条/页")]):e._e(),"50"===t.value?n("span",[e._v("全部")]):e._e()]}}]),model:{value:e.current,callback:function(t){e.current=t},expression:"current"}})],1),n("a-modal",{staticClass:"motify-modal",attrs:{title:"修改企业信息"},on:{ok:e.handleOkMotify},model:{value:e.visibleMotify,callback:function(t){e.visibleMotify=t},expression:"visibleMotify"}},[n("a-form",{attrs:{form:e.formMotify},on:{submit:e.handleSubmitMotify}},[n("a-form-item",{attrs:{label:"企业名称：","label-col":{span:4},"wrapper-col":{span:20}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["businessName",{rules:[{required:!0,message:"企业名称为空"}]}],expression:"[\n                    'businessName',\n                    {rules: [{ required: true, message: '企业名称为空' }]}\n                  ]"}],staticClass:"motify-modal-input",attrs:{placeholder:"请输入企业名称"},on:{blur:function(t){return t.preventDefault(),e.addchangeInput(0)}}})],1),n("a-form-item",{attrs:{label:"备注：","label-col":{span:4},"wrapper-col":{span:20}}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["note",{rules:[{required:!0,message:"备注为空"}]}],expression:"[\n                    'note',\n                    {rules: [{ required: true, message: '备注为空' }]}\n                  ]"}],attrs:{placeholder:"请输入备注内容"},on:{blur:function(t){return t.preventDefault(),e.addchangeTextarea(0)}}})],1)],1)],1),n("a-modal",{staticClass:"motify-modal",attrs:{title:"添加企业信息"},on:{ok:e.handleOkadd},model:{value:e.visibleadd,callback:function(t){e.visibleadd=t},expression:"visibleadd"}},[n("a-form",{attrs:{form:e.formadd},on:{submit:e.handleSubmitadd}},[n("a-form-item",{attrs:{label:"企业名称：","label-col":{span:4},"wrapper-col":{span:20}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["businessName",{rules:[{required:!0,message:"企业名称为空"}]}],expression:"[\n                    'businessName',\n                    {rules: [{ required: true, message: '企业名称为空' }]}\n                  ]"}],staticClass:"motify-modal-input",attrs:{placeholder:"请输入企业名称"},on:{blur:function(t){return t.preventDefault(),e.addchangeInput(1)}}})],1),n("a-form-item",{attrs:{label:"备注：","label-col":{span:4},"wrapper-col":{span:20}}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["note",{rules:[{required:!0,message:"备注为空"}]}],expression:"[\n                    'note',\n                    {rules: [{ required: true, message: '备注为空' }]}\n                  ]"}],attrs:{placeholder:"请输入备注内容"},on:{blur:function(t){return t.preventDefault(),e.addchangeTextarea(1)}}})],1)],1)],1)],1)],1)])],1)},i=[],s=n("b56a"),r=[{title:"企业库ID：",dataIndex:"businessId",key:"businessId",width:"10%",align:"center"},{title:"企业名称",dataIndex:"businessName",key:"businessName",width:"20%",align:"center",scopedSlots:{customRender:"businessName"}},{title:"备注",dataIndex:"note",key:"note",align:"center",width:"30%"},{title:"操作",width:"10%",key:"operation",align:"center",scopedSlots:{customRender:"action"}}],o={data:function(){return{pageSizeOptions:["10","20","30","40","50"],current:1,pageSize:10,pageNumber:1,total:0,keyword:"",searchid:"",searchname:"",columns:r,visibleMotify:!1,visibleadd:!1,showpagination:!1,busid:0,formMotify:this.$form.createForm(this),formadd:this.$form.createForm(this),dataEnterprise:[]}},mounted:function(){this.init()},methods:{init:function(){var e=this;Object(s["j"])({page:this.pageNumber,pageSize:this.pageSize,businessId:this.searchid,businessName:this.searchname}).then(function(t){e.total=t.data.data.total,e.dataEnterprise=t.data.data.list})},onChangepagination:function(e){this.pageNumber=e,this.init()},onShowSizeChange:function(e,t){this.pageSize=t,this.pageNumber=1,this.init()},searchSubmit:function(){this.pageNumber=1,this.init()},showEditClassificationVisible:function(e){var t=this;this.visibleMotify=!0,this.busid=e.businessId,setTimeout(function(){t.formMotify.setFieldsValue({businessName:e.businessName,note:e.note})},0)},handleOkMotify:function(){this.handleSubmitMotify()},handleSubmitMotify:function(e){var t=this;this.formMotify.validateFields(function(e,n){if(!e){t.visibleMotify=!1,console.log("Received values of form: ",{businessId:t.busid,businessName:n.businessName,note:n.note});var a={businessId:t.busid,businessName:n.businessName,note:n.note};console.log(a),Object(s["h"])(a).then(function(e){e.data.code==t.$global.successCode?(t.$message.success("修改企业信息成功"),t.init()):t.$message.warning("".concat(e.data.message))})}})},addchangeInput:function(e){0==e&&this.formMotify.validateFields(["businessName"],function(e,t){}),1==e&&this.formadd.validateFields(["businessName"],function(e,t){})},addchangeTextarea:function(e){0==e&&this.formMotify.validateFields(["note"],function(e,t){}),1==e&&this.formadd.validateFields(["note"],function(e,t){})},showAddClassificationVisible:function(){this.visibleadd=!0,this.formadd=this.$form.createForm(this)},handleOkadd:function(){this.handleSubmitadd()},handleSubmitadd:function(){var e=this;this.formadd.validateFields(function(t,n){t||(e.visibleadd=!1,console.log("Received values of form: ",{businessName:n.businessName,note:n.note}),Object(s["i"])({businessName:n.businessName,note:n.note}).then(function(t){t.data.code==e.$global.successCode&&(e.$message.success("新增企业信息成功"),e.init())}))})},onDelete:function(e){var t=this;console.log(e),Object(s["g"])(e).then(function(e){e.data.code===t.$global.successCode&&(t.$message.success("删除企业成功!"),t.init())}).catch(function(e){throw e})}}},c=o,u=n("17cc"),l=Object(u["a"])(c,a,i,!1,null,null,null);t["default"]=l.exports},b56a:function(e,t,n){"use strict";n.d(t,"r",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"v",function(){return r}),n.d(t,"k",function(){return o}),n.d(t,"p",function(){return c}),n.d(t,"w",function(){return u}),n.d(t,"l",function(){return l}),n.d(t,"m",function(){return d}),n.d(t,"s",function(){return f}),n.d(t,"q",function(){return m}),n.d(t,"t",function(){return h}),n.d(t,"f",function(){return b}),n.d(t,"o",function(){return p}),n.d(t,"b",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return O}),n.d(t,"j",function(){return S}),n.d(t,"n",function(){return w}),n.d(t,"h",function(){return j}),n.d(t,"i",function(){return k}),n.d(t,"g",function(){return C}),n.d(t,"u",function(){return T});var a=n("da43");function i(){return Object(a["a"])({url:"/classification/list-tree",method:"GET"})}function s(e){return Object(a["a"])({url:"/classification",method:"POST",data:e})}function r(e){return Object(a["a"])({url:"/classification",method:"PUT",data:e})}function o(e){return Object(a["a"])({url:"/classification/".concat(e),method:"DELETE"})}function c(e){return Object(a["a"])({url:"/parts/"+e,method:"GET"})}function u(e){return Object(a["a"])({url:"/parts",method:"PUT",data:e})}function l(e){return Object(a["a"])({url:"/parts/"+e,method:"DELETE"})}function d(e){return Object(a["a"])({url:"/parts/batch",method:"POST",data:e})}function f(){return Object(a["a"])({url:"/classification/tree",method:"GET"})}function m(e){return Object(a["a"])({url:"/parts/list",data:e,method:"post"})}function h(e){return Object(a["a"])({url:"/cond/"+e,method:"GET"})}function b(e){return Object(a["a"])({url:"/parts",method:"POST",data:e})}function p(e){return Object(a["a"])({url:"/classification/list",params:e,method:"GET"})}function v(e){return Object(a["a"])({url:"/data/list",params:e,method:"GET"})}function g(e){return Object(a["a"])({url:"/classification/".concat(e),method:"GET"})}function y(e){return Object(a["a"])({url:"/screening/list",params:e,method:"GET"})}function O(e){return Object(a["a"])({url:"/screening",data:e,method:"POST"})}function S(e){return Object(a["a"])({url:"/company/list",params:e,method:"GET"})}function w(e){return Object(a["a"])({url:"/classificationattr/list",params:e,method:"GET"})}function j(e){return Object(a["a"])({url:"/company",data:e,method:"PUT"})}function k(e){return Object(a["a"])({url:"/company",data:e,method:"POST"})}function C(e){return Object(a["a"])({url:"/company/".concat(e),method:"DELETE"})}function T(e){return Object(a["a"])({url:"/parts/similar",params:e,method:"GET"})}},c7dd:function(e,t,n){var a=n("b2f5");a(a.S,"Reflect",{has:function(e,t){return t in e}})},da43:function(e,t,n){"use strict";n("c7dd");var a=n("2427"),i=n.n(a),s=n("b83d"),r=n("4b82"),o=i.a.create({baseURL:s["a"].baseUrl,timeout:5e8});o.defaults.retry=4,o.defaults.retryDelay=1e3,o.interceptors.request.use(function(e){try{!Reflect.has(e,"params")&&(e.params={}),Object.assign(e.params,{access_token:s["a"].access_token})}catch(t){throw t}return e},function(e){Promise.reject(e)}),o.interceptors.response.use(function(e){return e.data.code&&(e.data.code,s["a"].successCode),e},function(e){return r["a"].error(e.response.data.message),Promise.reject(e)}),t["a"]=o}}]);
//# sourceMappingURL=chunk-147b468a.8fe01e93.js.map