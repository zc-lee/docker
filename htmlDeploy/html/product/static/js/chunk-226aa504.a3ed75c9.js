(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-226aa504","chunk-69d4e789"],{"096e":function(t,e,a){"use strict";var o=a("fd38"),r=a.n(o);r.a},"0e44":function(t,e,a){var o=a("88dd"),r=a("a013"),n=function(t,e){if(r(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=a("01f5")(Function.call,a("acb9").f(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,a){return n(t,a),e?t.__proto__=a:o(t,a),t}}({},!1):void 0),check:n}},"12d6":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary"},on:{click:t.handleAddPacking}},[t._v("添加物流信息")]),a("a-table",{attrs:{columns:t.packingcolumns,dataSource:t.ProductForm2.productPackingList,pagination:t.showPagination,rowKey:function(t,e){return e}},scopedSlots:t._u([{key:"packHeight",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"packHeight",e)}}})],1)]}},{key:"packLength",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"packLength",e)}}})],1)]}},{key:"packStandards",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"packStandards",e)}}})],1)]}},{key:"packWidth",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"packWidth",e)}}})],1)]}},{key:"packVolume",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"packVolume",e)}}})],1)]}},{key:"packWeight",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"packWeight",e)}}})],1)]}},{key:"remark",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"remark",e)}}})],1)]}},{key:"action",fn:function(e,o,r){return[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.addTuopan(o)}}},[a("a-icon",{attrs:{type:"database"}}),t._v("托盘")],1),t.ProductForm2.productPackingList.length?a("a-popconfirm",{attrs:{title:"确定删除这条数据吗?",cancelText:"取消",okText:"确定"},on:{confirm:function(){return t.onDelete(o,r)}}},[a("a",{attrs:{href:"javascript:;"}},[a("a-icon",{attrs:{type:"delete"}}),t._v("删除")],1)]):t._e()]}}])}),a("a-modal",{staticClass:"dialog_content",attrs:{title:"托盘信息",visible:t.visible,width:"900px",confirmLoading:t.confirmLoading,cancelText:"取消",okText:"提交"},on:{cancel:function(e){t.visible=!1},ok:t.editProductTuopan}},[a("div",{staticClass:"dialog_form dialog_form3"},[a("tab-tuopanInfo",{attrs:{curPackingForms:t.curPackingForms},on:{changeCallBack:t.changeTuopanDatas}})],1)])],1)},r=[],n=(a("608b"),a("4964")),c=a("b56a"),i=a("9c7f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary"},on:{click:t.handleAddTuopan}},[t._v("添加托盘")]),a("a-table",{attrs:{columns:t.tuopancolumns,dataSource:t.curPackingForms.productPalletList,pagination:t.showPagination,rowKey:function(t,e){return e}},scopedSlots:t._u([{key:"type",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"type",e)}}})],1)]}},{key:"length",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"length",e)}}})],1)]}},{key:"width",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"width",e)}}})],1)]}},{key:"height",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"height",e)}}})],1)]}},{key:"load",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"load",e)}}})],1)]}},{key:"remark",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"remark",e)}}})],1)]}},{key:"action",fn:function(e,o,r){return[t.curPackingForms.productPalletList.length?a("a-popconfirm",{attrs:{title:"确定删除这条数据吗?",cancelText:"取消",okText:"确定"},on:{confirm:function(){return t.onDelete2(r,o)}}},[a("a",{staticStyle:{color:"#00aaee"},attrs:{href:"javascript:;"}},[a("a-icon",{attrs:{type:"delete"}}),t._v("删除")],1)]):t._e()]}}])})],1)},l=[],u=[{title:"托盘型号",dataIndex:"type",key:"type",scopedSlots:{customRender:"type"},width:200,align:"center"},{title:"长(cm)",dataIndex:"length",key:"length",scopedSlots:{customRender:"length"},width:200,align:"center"},{title:"宽(cm)",dataIndex:"width",key:"width",scopedSlots:{customRender:"width"},width:200,align:"center"},{title:"高(cm)",dataIndex:"height",key:"height",scopedSlots:{customRender:"height"},width:200,align:"center"},{title:"载重(kg)",dataIndex:"load",key:"load",scopedSlots:{customRender:"load"},width:200,align:"center"},{title:"备注",dataIndex:"remark",key:"remark",scopedSlots:{customRender:"remark"},width:200,align:"center"},{title:"操作",width:200,align:"center",scopedSlots:{customRender:"action"}}],s={props:["curPackingForms"],components:{EditableCell:i["a"]},data:function(){return{showPagination:!1,confirmLoading:!1,tuopandata:[],tuopancolumns:u,tuopancount:0,loading:!1}},watch:{},computed:{},created:function(){console.log(this.curPackingForms)},methods:{onDelete2:function(t,e){this.curPackingForms.productPalletList.splice(t,1),console.log("this.curPackingForms.delProductPalletList"),console.log(this.curPackingForms.delProductPalletList),this.curPackingForms.delProductPalletList.push(e),this.$emit("changeCallBack",this.curPackingForms)},onCellChange:function(t,e,a){var o=Object(n["a"])(this.curPackingForms.productPalletList),r=o.find(function(e){return e.key===t.key});r&&(r[e]=a,this.curPackingForms.productPalletList=o,console.log("this.curPackingForms.productPalletList"),console.log(this.curPackingForms.productPalletList),this.$emit("changeCallBack",this.curPackingForms))},handleAddTuopan:function(){var t={key:this.tuopancount,height:"0",length:"0",load:"0",type:"0",width:"0",remark:"0"};this.curPackingForms.productPalletList=[].concat(Object(n["a"])(this.curPackingForms.productPalletList),[t]),this.tuopancount=this.tuopancount+1}}},p=s,m=(a("1355"),a("17cc")),f=Object(m["a"])(p,d,l,!1,null,"ebdaa624",null),h=f.exports,g=[{title:"包装规格",dataIndex:"packStandards",key:"packStandards",width:200,scopedSlots:{customRender:"packStandards"},align:"center"},{title:"长",dataIndex:"packLength",key:"packLength",width:130,scopedSlots:{customRender:"packLength"},align:"center"},{title:"宽",dataIndex:"packWidth",key:"packWidth",width:130,scopedSlots:{customRender:"packWidth"},align:"center"},{title:"高",dataIndex:"packHeight",key:"packHeight",width:130,scopedSlots:{customRender:"packHeight"},align:"center"},{title:"体积",dataIndex:"packVolume",key:"packVolume",width:130,scopedSlots:{customRender:"packVolume"},align:"center"},{title:"重量",dataIndex:"packWeight",key:"packWeight",width:130,scopedSlots:{customRender:"packWeight"},align:"center"},{title:"备注",dataIndex:"remark",key:"remark",width:200,scopedSlots:{customRender:"remark"},align:"center"},{title:"操作",width:200,align:"center",scopedSlots:{customRender:"action"}}],b={props:["productId"],components:{EditableCell:i["a"],"tab-tuopanInfo":h},data:function(){return{curPackingForms:{},curPacking:null,visible:!1,showPagination:!1,confirmLoading:!1,packingdata:[],packingcolumns:g,curproductID:null,curproductCode:null,packingcount:0,loading:!1,ProductForm2:{claCode:"",delProductAttributesList:[],delProductDocumentationList:[],delProductDrawingList:[],delProductPackingList:[],productAttributesList:[],productChart:"",productCode:"",productDescribe:"",productDocumentationList:[],productDrawingList:[],productId:null,productMaterialQuality:"",productModel:"",productName:"",productPackingList:[],productPicture:null,productRoutine:{productBrand:"",productCode:"",productDiameter:"",productImprint:"",productLength:"",productMaterial:"",productMaterialRemark:"",productStandard:"",productSurface:"",productSurfaceRemark:"",productToothPitch:"",productToothType:"",productUnit:"",productWeight:"",remark:"",routId:null},productSpecs:""}}},watch:{},computed:{},created:function(){this.getProductInfos(this.productId)},methods:{getProductInfos:function(t){var e=this;this.curproductID=this.productId,-1!==t&&Object(c["p"])(t).then(function(t){t.data.code===e.$global.successCode?(e.ProductForm2.productPackingList=t.data.data.productPackingList,e.curproductCode=t.data.data.productCode):e.$message.error(t.data.message)},function(t){console.log("获取零部件数据失败",t)})},onDelete:function(t,e){this.ProductForm2.delProductPackingList.push(t),this.ProductForm2.productPackingList.splice(e,1),this.$emit("changeCallBack",this.ProductForm2)},onCellChange:function(t,e,a){var o=Object(n["a"])(this.ProductForm2.productPackingList),r=o.find(function(e){return e.key===t.key});r&&(r[e]=a,this.ProductForm2.productPackingList=o,this.$emit("changeCallBack",this.ProductForm2))},handleAddPacking:function(){var t={key:this.packingcount,packHeight:"0",packLength:"0",packStandards:"0",packVolume:"0",packWeight:"0",packWidth:"0",remark:"0",productPalletList:[]};t.productCode=this.curproductCode,this.ProductForm2.productPackingList=[].concat(Object(n["a"])(this.ProductForm2.productPackingList),[t]),this.packingcount=this.packingcount+1},addTuopan:function(t){null!=t.packId&&(this.curPacking=t.packId),null!=t.key&&(this.curPacking=t.key),this.curPackingForms=t,this.curPackingForms.delProductPalletList=[],console.log(this.curPackingForms),this.visible=!0},changeTuopanDatas:function(t){console.log("===========新增、修改、删除托盘"),console.log(this.ProductForm2)},editProductTuopan:function(){this.$emit("changeCallBack",this.ProductForm2),this.visible=!1}}},v=b,k=(a("de7f"),Object(m["a"])(v,o,r,!1,null,"1f48f251",null));e["a"]=k.exports},1355:function(t,e,a){"use strict";var o=a("9dd2"),r=a.n(o);r.a},1662:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-layout",[a("a-layout-content",{staticStyle:{flex:"0 0 900px","min-width":"900px","max-width":"900px",width:"900px"}},[a("a-form",{attrs:{form:t.productRoutineForm2}},[a("a-form-item",{attrs:{label:"单位","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入单位"},model:{value:t.productRoutineForm2.productUnit,callback:function(e){t.$set(t.productRoutineForm2,"productUnit",e)},expression:"productRoutineForm2.productUnit"}})],1),a("a-form-item",{attrs:{label:"标准","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入标准"},model:{value:t.productRoutineForm2.productStandard,callback:function(e){t.$set(t.productRoutineForm2,"productStandard",e)},expression:"productRoutineForm2.productStandard"}})],1),a("a-form-item",{attrs:{label:"长度","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入长度"},model:{value:t.productRoutineForm2.productLength,callback:function(e){t.$set(t.productRoutineForm2,"productLength",e)},expression:"productRoutineForm2.productLength"}})],1),a("a-form-item",{attrs:{label:"直径","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入直径"},model:{value:t.productRoutineForm2.productDiameter,callback:function(e){t.$set(t.productRoutineForm2,"productDiameter",e)},expression:"productRoutineForm2.productDiameter"}})],1),a("a-form-item",{attrs:{label:"印记","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入印记"},model:{value:t.productRoutineForm2.productImprint,callback:function(e){t.$set(t.productRoutineForm2,"productImprint",e)},expression:"productRoutineForm2.productImprint"}})],1),a("a-form-item",{attrs:{label:"品牌","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入品牌"},model:{value:t.productRoutineForm2.productBrand,callback:function(e){t.$set(t.productRoutineForm2,"productBrand",e)},expression:"productRoutineForm2.productBrand"}})],1),a("a-form-item",{attrs:{label:"材料","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入材料"},model:{value:t.productRoutineForm2.productMaterial,callback:function(e){t.$set(t.productRoutineForm2,"productMaterial",e)},expression:"productRoutineForm2.productMaterial"}})],1),a("a-form-item",{attrs:{label:"材料说明","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入材料说明"},model:{value:t.productRoutineForm2.productMaterialRemark,callback:function(e){t.$set(t.productRoutineForm2,"productMaterialRemark",e)},expression:"productRoutineForm2.productMaterialRemark"}})],1),a("a-form-item",{attrs:{label:"牙型","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入牙型"},model:{value:t.productRoutineForm2.productToothType,callback:function(e){t.$set(t.productRoutineForm2,"productToothType",e)},expression:"productRoutineForm2.productToothType"}})],1),a("a-form-item",{attrs:{label:"牙距","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入牙距"},model:{value:t.productRoutineForm2.productToothPitch,callback:function(e){t.$set(t.productRoutineForm2,"productToothPitch",e)},expression:"productRoutineForm2.productToothPitch"}})],1),a("a-form-item",{attrs:{label:"表面处理","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入表面处理"},model:{value:t.productRoutineForm2.productSurface,callback:function(e){t.$set(t.productRoutineForm2,"productSurface",e)},expression:"productRoutineForm2.productSurface"}})],1),a("a-form-item",{attrs:{label:"表面处理内容","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入表面处理内容"},model:{value:t.productRoutineForm2.productSurfaceRemark,callback:function(e){t.$set(t.productRoutineForm2,"productSurfaceRemark",e)},expression:"productRoutineForm2.productSurfaceRemark"}})],1),a("a-form-item",{attrs:{label:"千支重","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入千支重"},model:{value:t.productRoutineForm2.productWeight,callback:function(e){t.$set(t.productRoutineForm2,"productWeight",e)},expression:"productRoutineForm2.productWeight"}})],1),a("a-form-item",{attrs:{label:"备注","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入备注"},model:{value:t.productRoutineForm2.remark,callback:function(e){t.$set(t.productRoutineForm2,"remark",e)},expression:"productRoutineForm2.remark"}})],1)],1)],1),a("a-layout-sider",{staticStyle:{background:"none",height:"180px",flex:"0 0 200px"}})],1)],1)},r=[],n=a("b56a"),c={props:["productId"],data:function(){return{showPagination:!1,confirmLoading:!1,loading:!1,curproductCode:null,productRoutineForm2:{productBrand:"",productDiameter:"",productCode:null,productImprint:"",productLength:"",productMaterial:"",productMaterialRemark:"",productStandard:"",productSurface:"",productSurfaceRemark:"",productToothPitch:"",productToothType:"",productUnit:"",productWeight:"",remark:"",routId:null}}},created:function(){this.getProductInfos(this.productId)},methods:{getProductInfos:function(t){var e=this;-1!==this.productId&&Object(n["p"])(t).then(function(t){t.data.code===e.$global.successCode?(console.log("获取零部件数据成功",t),e.productRoutineForm2=t.data.data.productRoutine,e.curproductCode=t.data.data.productCode,console.log(e.productRoutineForm2)):e.$message.error(t.data.message)},function(t){console.log("获取零部件数据失败",t)}),this.productRoutineForm2.productCode=this.curproductCode}}},i=c,d=(a("9150"),a("17cc")),l=Object(d["a"])(i,o,r,!1,null,"71f5c126",null);e["a"]=l.exports},1844:function(t,e,a){},"2d43":function(t,e,a){var o=a("01f5"),r=a("6462"),n=a("db4b"),c=a("b146"),i=a("5824");t.exports=function(t,e){var a=1==t,d=2==t,l=3==t,u=4==t,s=6==t,p=5==t||s,m=e||i;return function(e,i,f){for(var h,g,b=n(e),v=r(b),k=o(i,f,3),w=c(v.length),C=0,P=a?m(e,w):d?m(e,0):void 0;w>C;C++)if((p||C in v)&&(h=v[C],g=k(h,C,b),t))if(a)P[C]=g;else if(g)switch(t){case 3:return!0;case 5:return h;case 6:return C;case 2:P.push(h)}else if(u)return!1;return s?-1:l||u?u:P}}},"41af":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-form",{attrs:{form:t.productWarpForm2}},[a("a-layout",{staticStyle:{background:"none"}},[a("a-layout-header",[a("span",[t._v("基础信息")])]),a("a-layout",[a("a-layout-content",{staticStyle:{flex:"0 0 900px","min-width":"900px","max-width":"900px",width:"900px"}},[-1!==t.productId?a("a-form-item",{staticClass:"required",attrs:{label:"零部件编码","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入零部件编码",disabled:-1!==t.productId},model:{value:t.productWarpForm2.productCode,callback:function(e){t.$set(t.productWarpForm2,"productCode",e)},expression:"productWarpForm2.productCode"}})],1):t._e(),a("a-form-item",{staticClass:"required",attrs:{label:"零部件名称","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入零部件名称"},model:{value:t.productWarpForm2.productName,callback:function(e){t.$set(t.productWarpForm2,"productName",e)},expression:"productWarpForm2.productName"}})],1),a("a-form-item",{staticClass:"required",attrs:{label:"零部件分类","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-tree-select",{staticStyle:{width:"280px"},attrs:{dropdownStyle:{maxHeight:"400px",overflow:"auto"},treeData:t.treeData1,placeholder:"选择零部件分类",treeDefaultExpandAll:""},on:{select:t.changeclaId},model:{value:t.treeselectvalue,callback:function(e){t.treeselectvalue=e},expression:"treeselectvalue"}})],1),a("a-form-item",{attrs:{label:"零部件描述","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"零部件描述"},model:{value:t.productWarpForm2.productDescribe,callback:function(e){t.$set(t.productWarpForm2,"productDescribe",e)},expression:"productWarpForm2.productDescribe"}})],1),a("a-form-item",{attrs:{label:"规格","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入规格"},model:{value:t.productWarpForm2.productSpecs,callback:function(e){t.$set(t.productWarpForm2,"productSpecs",e)},expression:"productWarpForm2.productSpecs"}})],1),a("a-form-item",{attrs:{label:"图号","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入图号"},model:{value:t.productWarpForm2.productChart,callback:function(e){t.$set(t.productWarpForm2,"productChart",e)},expression:"productWarpForm2.productChart"}})],1),a("a-form-item",{attrs:{label:"型号","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入型号"},model:{value:t.productWarpForm2.productModel,callback:function(e){t.$set(t.productWarpForm2,"productModel",e)},expression:"productWarpForm2.productModel"}})],1),a("a-form-item",{attrs:{label:"材质","label-col":{span:5},"wrapper-col":{span:19}}},[a("a-input",{attrs:{placeholder:"输入材质"},model:{value:t.productWarpForm2.productMaterialQuality,callback:function(e){t.$set(t.productWarpForm2,"productMaterialQuality",e)},expression:"productWarpForm2.productMaterialQuality"}})],1)],1),a("a-layout-sider",{staticStyle:{background:"none",height:"180px","text-align":"center"}},[a("a-form-item",{staticStyle:{width:"100%"}},[a("a-upload",{staticClass:"avatar-uploader picupload",attrs:{name:"file",action:t.fileUploadUrl,multiple:!0,listType:"picture-card",fileList:t.productPictureList,beforeUpload:t.beforeUpload,showUploadList:!1},on:{change:t.handleChange3}},[t.imageUrl3?a("img",{staticStyle:{width:"180px",height:"180px"},attrs:{src:t.imageUrl3,alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:t.loading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[t._v("上传图片")])],1)])],1)],1)],1)],1)],1)],1)},r=[],n=a("4964"),c=(a("f763"),a("d4d5"),a("b56a"));function i(t,e){var a=new FileReader;a.addEventListener("load",function(){return e(a.result)}),a.readAsDataURL(t)}var d={props:["productId","ProductForm"],data:function(){return{showPagination:!1,confirmLoading:!1,curproductCode:null,curclaCode:null,loading:!1,productWarpForm2:{productChart:"",productCode:"",productDescribe:"",productMaterialQuality:"",productModel:"",productName:"",productSpecs:"",productPicture:null,claCode:null,productPackingList:[]},treeData1:[],treeselectvalue:"",productPictureList:[],imageUrl3:""}},watch:{},computed:{fileUploadUrl:function(){return this.$global.baseUrl+"/file/upload?access_token="+this.$global.access_token}},created:function(){this.getProductNoTreeLists(),this.getProductInfos(this.productId)},methods:{getProductInfos:function(t){var e=this;-1!==t&&Object(c["p"])(t).then(function(t){t.data.code===e.$global.successCode?(setTimeout(function(){e.productWarpForm2.productCode=t.data.data.productCode,e.productWarpForm2.productDescribe=t.data.data.productDescribe,e.productWarpForm2.productMaterialQuality=t.data.data.productMaterialQuality,e.productWarpForm2.productModel=t.data.data.productModel,e.productWarpForm2.productName=t.data.data.productName,e.productWarpForm2.productChart=t.data.data.productChart,e.productWarpForm2.productSpecs=t.data.data.productSpecs,e.productWarpForm2.productPicture=Number(t.data.data.productPicture),e.productWarpForm2.claCode=t.data.data.claCode,console.log("this.productWarpForm2.claCode"),console.log(e.productWarpForm2.claCode)},0),e.ProductForm.productAttributesList=[],t.data.data.productAttributesList.length?e.ProductForm.productAttributesList=t.data.data.productAttributesList:Object(c["n"])({claCode:t.data.data.claCode}).then(function(t){t.data.code===e.$global.successCode?(console.log("获取扩展属性数据成功",t),t.data.data.forEach(function(t){t.attId=null,t.orderid=null,t.productCode=e.productWarpForm2.productCode,e.ProductForm.productAttributesList.push(t)})):e.$message.error(t.data.message)},function(t){console.log("获取扩展属性数据失败",t)}),e.$emit("changeComponent1Data",e.ProductForm),e.treeselectvalue=t.data.data.claCode,e.imageUrl3=t.data.data.productPictureUrl):e.$message.error(t.data.message)},function(t){console.log("获取零部件数据失败",t)})},getProductNoTreeLists:function(){var t=this;Object(c["r"])().then(function(e){var a=[];e.data.code===t.$global.successCode?(e.data.data.forEach(function(t){a.push(t)}),t.treeData1=a):t.$message.error(e.data.message)},function(t){console.log("请求数据失败",t)})},changeclaId:function(){var t=this;console.log(arguments[0]),this.curclaCode=arguments[0],this.productWarpForm2.claCode=arguments[0],this.ProductForm.productAttributesList=[],Object(c["n"])({claCode:this.curclaCode}).then(function(e){e.data.code===t.$global.successCode?(console.log("获取扩展属性数据成功",e),e.data.data.forEach(function(e){e.attId=null,e.orderid=null,e.productCode=t.productWarpForm2.productCode,t.ProductForm.productAttributesList.push(e)}),t.$emit("changeComponent1Data",t.ProductForm)):t.$message.error(e.data.message)},function(t){console.log("获取扩展属性数据失败",t)})},handleChange3:function(t){var e=this,a=Object(n["a"])(t.fileList);a=a.slice(-2),a=a.map(function(a){return a.response&&(i(t.file.originFileObj,function(t){e.imageUrl3=t}),e.productWarpForm2.productPicture=a.response.data.id),a}),this.productPictureList=a},beforeUpload:function(t){var e="image/jpeg"===t.type,a="image/png"===t.type;e||a||this.$message.error("请上传jpg、png图片!");var o=t.size/1024/1024<2;return o||this.$message.error("图片大小不能超过2MB!"),e||a&&o}}},l=d,u=(a("dc18"),a("17cc")),s=Object(u["a"])(l,o,r,!1,null,"5fb8de82",null);e["a"]=s.exports},"44de":function(t,e,a){var o=a("88dd"),r=a("0e44").set;t.exports=function(t,e,a){var n,c=e.constructor;return c!==a&&"function"==typeof c&&(n=c.prototype)!==a.prototype&&o(n)&&r&&r(t,n),t}},4964:function(t,e,a){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){return o(t)||r(t)||n()}a.d(e,"a",function(){return c})},"539d":function(t,e,a){var o=a("b2f5"),r=a("f01a"),n=a("b6f1"),c=a("c9ea4"),i="["+c+"]",d="​",l=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),s=function(t,e,a){var r={},i=n(function(){return!!c[t]()||d[t]()!=d}),l=r[t]=i?e(p):c[t];a&&(r[a]=l),o(o.P+o.F*i,"String",r)},p=s.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=s},5824:function(t,e,a){var o=a("f691");t.exports=function(t,e){return new(o(t))(e)}},"608b":function(t,e,a){"use strict";var o=a("b2f5"),r=a("2d43")(5),n="find",c=!0;n in[]&&Array(1)[n](function(){c=!1}),o(o.P+o.F*c,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("644a")(n)},"68e8":function(t,e,a){},7364:function(t,e,a){var o=a("ddf7").f,r=Function.prototype,n=/^\s*function ([^ (]*)/,c="name";c in r||a("dad2")&&o(r,c,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},"7f70":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary"},on:{click:t.handleAddAttributes}},[t._v("添加扩展属性")]),a("a-table",{attrs:{columns:t.attributescolumns,dataSource:t.ProductForm2.productAttributesList,bordered:"",pagination:t.showPagination,rowKey:function(t,e){return e}},scopedSlots:t._u([{key:"attName",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"attName",e)}}})],1)]}},{key:"attValue",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[a("editable-cell",{attrs:{text:e},on:{change:function(e){return t.onCellChange(o,"attValue",e)}}})],1)]}},{key:"action",fn:function(e,o,r){return[t.ProductForm2.productAttributesList.length?a("a-popconfirm",{attrs:{title:"确定删除这条数据吗?",cancelText:"取消",okText:"确定"},on:{confirm:function(){return t.onDelete2(r,o)}}},[a("a",{attrs:{href:"javascript:;"}},[a("a-icon",{attrs:{type:"delete"}}),t._v("删除")],1)]):t._e()]}}])})],1)},r=[],n=(a("608b"),a("4964")),c=a("b56a"),i=a("9c7f"),d=[{title:"属性名称",dataIndex:"attName",key:"attName",scopedSlots:{customRender:"attName"},width:200,align:"center"},{title:"属性值",dataIndex:"attValue",key:"attValue",scopedSlots:{customRender:"attValue"},width:200,align:"center"},{title:"操作",width:200,align:"center",scopedSlots:{customRender:"action"}}],l={props:["productId","claCode"],components:{EditableCell:i["a"]},data:function(){return{showPagination:!1,confirmLoading:!1,attributesdata:[],attributescolumns:d,attributescount:0,loading:!1,ProductForm2:{claCode:"",delProductAttributesList:[],delProductDocumentationList:[],delProductDrawingList:[],delProductPackingList:[],productAttributesList:[],productChart:"",productCode:"",productDescribe:"",productDocumentationList:[],productDrawingList:[],productId:null,productMaterialQuality:"",productModel:"",productName:"",productPackingList:[],productPicture:null,productRoutine:{productBrand:"",productCode:"",productDiameter:"",productImprint:"",productLength:"",productMaterial:"",productMaterialRemark:"",productStandard:"",productSurface:"",productSurfaceRemark:"",productToothPitch:"",productToothType:"",productUnit:"",productWeight:"",remark:"",routId:null},productSpecs:"",curproductCode:null}}},watch:{},computed:{},created:function(){this.getProductInfos(this.productId)},methods:{getAttributesLists:function(t){var e=this;Object(c["n"])({claCode:t}).then(function(t){t.data.code===e.$global.successCode?(console.log("获取扩展属性数据成功",t),e.ProductForm2.productAttributesList=t.data.data,console.log("this.ProductForm2.productAttributesList"),console.log(e.ProductForm2.productAttributesList),e.curproductCode=t.data.data.productCode):e.$message.error(t.data.message)},function(t){console.log("获取扩展属性数据失败",t)})},getProductInfos:function(t){var e=this;-1!==this.productId&&Object(c["p"])(t).then(function(t){t.data.code===e.$global.successCode?(e.ProductForm2.productAttributesList=t.data.data.productAttributesList,e.curproductCode=t.data.data.productCode):e.$message.error(t.data.message)},function(t){console.log("获取零部件数据失败",t)})},onDelete2:function(t,e){this.ProductForm2.delProductAttributesList.push(e),this.ProductForm2.productAttributesList.splice(t,1),this.$emit("changeCallBack",this.ProductForm2)},onCellChange:function(t,e,a){var o=Object(n["a"])(this.ProductForm2.productAttributesList),r=o.find(function(e){return e.key===t.key});r&&(r[e]=a,this.ProductForm2.productAttributesList=o,r.productCode=this.curproductCode,this.$emit("changeCallBack",this.ProductForm2))},handleAddAttributes:function(){var t={key:this.attributescount,attName:"0",attValue:"0"};this.ProductForm2.productAttributesList=[].concat(Object(n["a"])(this.ProductForm2.productAttributesList),[t]),this.attributescount=this.attributescount+1}}},u=l,s=(a("096e"),a("17cc")),p=Object(s["a"])(u,o,r,!1,null,"46965a50",null);e["a"]=p.exports},"825a":function(t,e,a){"use strict";var o=a("fc00"),r=a.n(o);r.a},9107:function(t,e,a){},9150:function(t,e,a){"use strict";var o=a("1844"),r=a.n(o);r.a},"94b8":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary"},on:{click:t.showModal3}},[t._v("添加图纸")]),a("a-table",{attrs:{columns:t.drawingcolumns,dataSource:t.drawingdata,pagination:t.showPagination,rowKey:function(t,e){return e}},scopedSlots:t._u([{key:"fileName",fn:function(e,o){return[a("a",{staticStyle:{cursor:"pointer"},attrs:{href:t.downloadDraw(o)}},[a("span",{staticClass:"lineEllipsis2"},[t._v(t._s(e))])])]}},{key:"drawName",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[t._v(t._s(e))])]}},{key:"drawCode",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[t._v(t._s(e))])]}},{key:"itemCode",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[t._v(t._s(e))])]}},{key:"action",fn:function(e,o,r){return[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.editDrawing(r,o)}}},[a("a-icon",{attrs:{type:"edit"}}),t._v("编辑")],1),t.drawingdata.length?a("a-popconfirm",{attrs:{title:"确定删除这条数据吗?",cancelText:"取消",okText:"确定"},on:{confirm:function(){return t.onDeleteDrawing(r,o)}}},[a("a",{attrs:{href:"javascript:;"}},[a("a-icon",{attrs:{type:"delete"}}),t._v("删除")],1)]):t._e()]}}])}),a("a-modal",{staticClass:"dialog_content",attrs:{title:"添加图纸",visible:t.visible3,width:"600px",confirmLoading:t.confirmLoading,cancelText:"取消",okText:"提交"},on:{cancel:function(e){t.visible3=!1},ok:t.addProductDrawing}},[a("div",{staticClass:"dialog_form dialog_form3"},[a("a-form",{attrs:{form:t.addProductDrawingForms2}},[a("a-form-item",{attrs:{label:"图号","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["drawCode"],expression:"[ 'drawCode' ]"}],attrs:{placeholder:"输入图号"}})],1),a("a-form-item",{attrs:{label:"图纸名称","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["drawName"],expression:"[ 'drawName']"}],attrs:{placeholder:"输入图纸名称"}})],1),a("a-form-item",{attrs:{label:"项目号","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["itemCode"],expression:"[ 'itemCode']"}],attrs:{placeholder:"项目号"}})],1),a("a-form-item",{attrs:{label:"上传图纸","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-upload",{staticClass:"avatar-uploader",attrs:{name:"file",action:t.fileUploadUrl,multiple:!0,listType:"picture-card",fileList:t.drawingFileList,beforeUpload:t.beforeUpload,showUploadList:!1},on:{change:t.handleChange1}},[t.imageUrl?a("img",{staticStyle:{width:"102px",height:"102px"},attrs:{src:t.imageUrl,alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:t.loading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[t._v("上传图片")])],1)])],1)],1)],1)]),a("a-modal",{staticClass:"dialog_content",attrs:{title:"编辑图纸",visible:t.visible6,width:"600px",confirmLoading:t.confirmLoading,cancelText:"取消",okText:"提交"},on:{cancel:function(e){t.visible6=!1},ok:t.addProductDrawing6}},[a("div",{staticClass:"dialog_form dialog_form3"},[a("a-form",{attrs:{form:t.addProductDrawingForms3}},[a("a-form-item",{attrs:{label:"图号","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["drawCode"],expression:"[ 'drawCode' ]"}],attrs:{placeholder:"输入图号"}})],1),a("a-form-item",{attrs:{label:"图纸名称","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["drawName"],expression:"[ 'drawName']"}],attrs:{placeholder:"输入图纸名称"}})],1),a("a-form-item",{attrs:{label:"项目号","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["itemCode"],expression:"[ 'itemCode']"}],attrs:{placeholder:"项目号"}})],1),a("a-form-item",{attrs:{label:"上传图纸","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-upload",{staticClass:"avatar-uploader",attrs:{name:"file",action:t.fileUploadUrl,multiple:!0,listType:"picture-card",fileList:t.drawingFileList6,beforeUpload:t.beforeUpload,showUploadList:!1},on:{change:t.handleChange6}},[t.imageUrl6?a("img",{staticStyle:{width:"102px",height:"102px"},attrs:{src:t.imageUrl6,alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:t.loading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[t._v("上传图片")])],1)])],1)],1)],1)])],1)},r=[],n=(a("7364"),a("4964")),c=a("b56a");function i(t,e){var a=new FileReader;a.addEventListener("load",function(){return e(a.result)}),a.readAsDataURL(t)}var d=[{title:"名称",dataIndex:"drawName",key:"drawName",width:200,align:"center",scopedSlots:{customRender:"drawName"}},{title:"图号",dataIndex:"drawCode",key:"drawCode",width:200,align:"center",scopedSlots:{customRender:"drawCode"}},{title:"项目号",dataIndex:"itemCode",key:"itemCode",width:200,align:"center",scopedSlots:{customRender:"itemCode"}},{title:"文件名",dataIndex:"fileName",key:"fileName",width:200,align:"center",scopedSlots:{customRender:"fileName"}},{title:"操作",width:200,align:"center",scopedSlots:{customRender:"action"}}],l={props:["productId"],components:{},data:function(){return{showPagination:!1,drawingFileList:[],drawingFileList6:[],confirmLoading:!1,addProductDrawingForms2:this.$form.createForm(this),addProductDrawingForms3:this.$form.createForm(this),ProductForm2:{claCode:"",delProductAttributesList:[],delProductDocumentationList:[],delProductDrawingList:[],delProductPackingList:[],productAttributesList:[],productChart:"",productCode:"",productDescribe:"",productDocumentationList:[],productDrawingList:[],productId:null,productMaterialQuality:"",productModel:"",productName:"",productPackingList:[],productPicture:null,productRoutine:{productBrand:"",productCode:"",productDiameter:"",productImprint:"",productLength:"",productMaterial:"",productMaterialRemark:"",productStandard:"",productSurface:"",productSurfaceRemark:"",productToothPitch:"",productToothType:"",productUnit:"",productWeight:"",remark:"",routId:null},productSpecs:""},drawingdata:[],drawingcolumns:d,visible6:!1,visible3:!1,drawingfileId:null,drawingfileId6:null,productfileId:null,drawingfileUrl:"",drawingfileUrl6:"",loading:!1,imageUrl:"",imageUrl6:"",curproductCode:null}},watch:{},computed:{fileUploadUrl:function(){return this.$global.baseUrl+"/file/upload?access_token="+this.$global.access_token}},created:function(){this.getProductInfos(this.productId)},methods:{editDrawing:function(t,e){var a=this;this.visible6=!0,this.editDrawTemp=t,this.drawingfileId=e.fileId,this.imageUrl6=e.pictureUrl;var o=e.drawCode,r=e.drawName,n=e.itemCode;setTimeout(function(){a.addProductDrawingForms3.setFieldsValue({drawCode:o,drawName:r,itemCode:n})},0)},addProductDrawing6:function(t){var e=this;t.preventDefault(),this.addProductDrawingForms3.validateFields(function(t,a){if(!t){var o=a;e.drawingfileId6&&(o.fileId=e.drawingfileId6,o.fileName=e.drawingfileName6,o.fileUrl=e.drawingfileUrl6,o.pictureUrl=e.imageUrl6),-1!==e.productId&&(o.drawId=e.drawingdata[e.editDrawTemp].drawId),o.productCode=e.curproductCode,e.drawingdata[e.editDrawTemp]=a,e.visible6=!1,e.ProductForm2.productDrawingList[e.editDrawTemp]=o,e.$emit("changeCallBack",e.ProductForm2),e.drawingfileId6=null,e.drawingfileId=null,e.drawingfileUrl6=null,e.imageUrl6=null}})},getProductInfos:function(t){var e=this;-1!==t&&Object(c["p"])(t).then(function(t){t.data.code===e.$global.successCode?(e.drawingdata=t.data.data.productDrawingList,e.curproductCode=t.data.data.productCode):e.$message.error(t.data.message)},function(t){console.log("获取零部件数据失败",t)})},showModal3:function(){this.addProductDrawingForms2.resetFields(),this.drawingFileList=[],this.visible3=!0},downloadDraw:function(t){return t.fileUrl+"?access_token="+this.$global.access_token},addProductDrawing:function(t){var e=this;t.preventDefault(),this.addProductDrawingForms2.validateFields(function(t,a){if(!t){var o=a;e.drawingfileId&&(o.fileId=e.drawingfileId,o.fileName=e.drawingfileName,o.fileUrl=e.drawingfileUrl,o.pictureUrl=e.imageUrl),e.drawingdata.push(o),e.visible3=!1,o.productCode=e.curproductCode,e.ProductForm2.productDrawingList.push(o),e.$emit("changeCallBack",e.ProductForm2),e.drawingfileId=null,e.drawingfileName=null,e.drawingfileUrl=null,e.imageUrl=null}})},onDeleteDrawing:function(t,e){this.ProductForm2.delProductDrawingList.push(e),this.drawingdata.splice(t,1),this.$emit("changeCallBack",this.ProductForm2)},handleChange1:function(t){var e=this,a=Object(n["a"])(t.fileList);a=a.slice(-2),a=a.map(function(a){return a.response&&(i(t.file.originFileObj,function(t){e.imageUrl=t}),e.drawingfileId=a.response.data.id,e.drawingfileName=a.response.data.name,e.drawingfileUrl=a.response.data.url),a}),this.drawingFileList=a},handleChange6:function(t){var e=this,a=Object(n["a"])(t.fileList);a=a.slice(-2),a=a.map(function(a){return a.response&&(i(t.file.originFileObj,function(t){e.imageUrl6=t}),e.drawingfileId6=a.response.data.id,e.drawingfileName6=a.response.data.name,e.drawingfileUrl6=a.response.data.url),a}),this.drawingFileList6=a},callback:function(t){},beforeUpload:function(t){var e="image/jpeg"===t.type,a="image/png"===t.type;e||a||this.$message.error("请上传jpg、png图片!");var o=t.size/1024/1024<2;return o||this.$message.error("图片大小不能超过2MB!"),e||a&&o}}},u=l,s=(a("825a"),a("17cc")),p=Object(s["a"])(u,o,r,!1,null,"8e763356",null);e["a"]=p.exports},"9c7f":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editable-cell"},[t.editable?a("div",{staticClass:"editable-cell-input-wrapper"},[a("a-input",{attrs:{value:t.value},on:{change:t.handleChange,pressEnter:t.check}}),a("a-icon",{staticClass:"editable-cell-icon-check",attrs:{type:"check"},on:{click:t.check}})],1):a("div",{staticClass:"editable-cell-text-wrapper"},[t._v("\n    "+t._s(t.value||" ")+"\n    "),a("a-icon",{staticClass:"editable-cell-icon",attrs:{type:"edit"},on:{click:t.edit}})],1)])},r=[],n={props:{text:0},data:function(){return{value:this.text,editable:!1}},methods:{handleChange:function(t){var e=t.target.value;this.value=e},check:function(){this.editable=!1,this.$emit("change",this.value)},edit:function(){this.editable=!0}}},c=n,i=a("17cc"),d=Object(i["a"])(c,o,r,!1,null,null,null);e["a"]=d.exports},"9dd2":function(t,e,a){},a891:function(t,e,a){var o=a("fb6d"),r=a("b4e0").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},acb9:function(t,e,a){var o=a("d217"),r=a("7dea"),n=a("3a68"),c=a("5325"),i=a("03b3"),d=a("568a"),l=Object.getOwnPropertyDescriptor;e.f=a("dad2")?l:function(t,e){if(t=n(t),e=c(e,!0),d)try{return l(t,e)}catch(a){}if(i(t,e))return r(!o.f.call(t,e),t[e])}},b56a:function(t,e,a){"use strict";a.d(e,"r",function(){return r}),a.d(e,"e",function(){return n}),a.d(e,"v",function(){return c}),a.d(e,"k",function(){return i}),a.d(e,"p",function(){return d}),a.d(e,"w",function(){return l}),a.d(e,"l",function(){return u}),a.d(e,"m",function(){return s}),a.d(e,"s",function(){return p}),a.d(e,"q",function(){return m}),a.d(e,"t",function(){return f}),a.d(e,"f",function(){return h}),a.d(e,"o",function(){return g}),a.d(e,"b",function(){return b}),a.d(e,"a",function(){return v}),a.d(e,"c",function(){return k}),a.d(e,"d",function(){return w}),a.d(e,"j",function(){return C}),a.d(e,"n",function(){return P}),a.d(e,"h",function(){return F}),a.d(e,"i",function(){return y}),a.d(e,"g",function(){return L}),a.d(e,"u",function(){return x});var o=a("da43");function r(){return Object(o["a"])({url:"/classification/list-tree",method:"GET"})}function n(t){return Object(o["a"])({url:"/classification",method:"POST",data:t})}function c(t){return Object(o["a"])({url:"/classification",method:"PUT",data:t})}function i(t){return Object(o["a"])({url:"/classification/".concat(t),method:"DELETE"})}function d(t){return Object(o["a"])({url:"/parts/"+t,method:"GET"})}function l(t){return Object(o["a"])({url:"/parts",method:"PUT",data:t})}function u(t){return Object(o["a"])({url:"/parts/"+t,method:"DELETE"})}function s(t){return Object(o["a"])({url:"/parts/batch",method:"POST",data:t})}function p(){return Object(o["a"])({url:"/classification/tree",method:"GET"})}function m(t){return Object(o["a"])({url:"/parts/list",data:t,method:"post"})}function f(t){return Object(o["a"])({url:"/cond/"+t,method:"GET"})}function h(t){return Object(o["a"])({url:"/parts",method:"POST",data:t})}function g(t){return Object(o["a"])({url:"/classification/list",params:t,method:"GET"})}function b(t){return Object(o["a"])({url:"/data/list",params:t,method:"GET"})}function v(t){return Object(o["a"])({url:"/classification/".concat(t),method:"GET"})}function k(t){return Object(o["a"])({url:"/screening/list",params:t,method:"GET"})}function w(t){return Object(o["a"])({url:"/screening",data:t,method:"POST"})}function C(t){return Object(o["a"])({url:"/company/list",params:t,method:"GET"})}function P(t){return Object(o["a"])({url:"/classificationattr/list",params:t,method:"GET"})}function F(t){return Object(o["a"])({url:"/company",data:t,method:"PUT"})}function y(t){return Object(o["a"])({url:"/company",data:t,method:"POST"})}function L(t){return Object(o["a"])({url:"/company/".concat(t),method:"DELETE"})}function x(t){return Object(o["a"])({url:"/parts/similar",params:t,method:"GET"})}},b5b8:function(t,e,a){var o=a("94ac");t.exports=Array.isArray||function(t){return"Array"==o(t)}},c1fb:function(t,e,a){},c7dd:function(t,e,a){var o=a("b2f5");o(o.S,"Reflect",{has:function(t,e){return e in t}})},c9ea4:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},d4d5:function(t,e,a){"use strict";var o=a("3754"),r=a("03b3"),n=a("94ac"),c=a("44de"),i=a("5325"),d=a("b6f1"),l=a("a891").f,u=a("acb9").f,s=a("ddf7").f,p=a("539d").trim,m="Number",f=o[m],h=f,g=f.prototype,b=n(a("a7b8")(g))==m,v="trim"in String.prototype,k=function(t){var e=i(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():p(e,3);var a,o,r,n=e.charCodeAt(0);if(43===n||45===n){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+e}for(var c,d=e.slice(2),l=0,u=d.length;l<u;l++)if(c=d.charCodeAt(l),c<48||c>r)return NaN;return parseInt(d,o)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof f&&(b?d(function(){g.valueOf.call(a)}):n(a)!=m)?c(new h(k(e)),a,f):k(e)};for(var w,C=a("dad2")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;C.length>P;P++)r(h,w=C[P])&&!r(f,w)&&s(f,w,u(h,w));f.prototype=g,g.constructor=f,a("e5ef")(o,m,f)}},d54e:function(t,e,a){"use strict";var o=a("9107"),r=a.n(o);r.a},da43:function(t,e,a){"use strict";a("c7dd");var o=a("2427"),r=a.n(o),n=a("b83d"),c=a("4b82"),i=r.a.create({baseURL:n["a"].baseUrl,timeout:5e8});i.defaults.retry=4,i.defaults.retryDelay=1e3,i.interceptors.request.use(function(t){try{!Reflect.has(t,"params")&&(t.params={}),Object.assign(t.params,{access_token:n["a"].access_token})}catch(e){throw e}return t},function(t){Promise.reject(t)}),i.interceptors.response.use(function(t){return t.data.code&&(t.data.code,n["a"].successCode),t},function(t){return c["a"].error(t.response.data.message),Promise.reject(t)}),e["a"]=i},dc18:function(t,e,a){"use strict";var o=a("68e8"),r=a.n(o);r.a},de7f:function(t,e,a){"use strict";var o=a("c1fb"),r=a.n(o);r.a},eba2:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary"},on:{click:t.showModal4}},[t._v("添加技术文档")]),a("a-table",{attrs:{columns:t.documentationcolumns,dataSource:t.documentationdata,pagination:t.showPagination,rowKey:function(t,e){return e}},scopedSlots:t._u([{key:"docName",fn:function(e,o){return[a("a",{staticStyle:{cursor:"pointer"},attrs:{href:t.downloadDocment(o)}},[a("span",{staticClass:"lineEllipsis2"},[t._v(t._s(e))])])]}},{key:"docCode",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[t._v(t._s(e))])]}},{key:"docEdition",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[t._v(t._s(e))])]}},{key:"docLegend",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[t._v(t._s(e))])]}},{key:"docState",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[t._v(t._s(e))])]}},{key:"fileId",fn:function(e,o){return[a("span",{staticClass:"lineEllipsis2"},[t._v(t._s(e))])]}},{key:"action",fn:function(e,o,r){return[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.editDoc(r,o)}}},[a("a-icon",{attrs:{type:"edit"}}),t._v("编辑")],1),t.documentationdata.length?a("a-popconfirm",{attrs:{title:"确定删除这条数据吗?",cancelText:"取消",okText:"确定"},on:{confirm:function(){return t.onDeletedoc(r,o)}}},[a("a",{attrs:{href:"javascript:;"}},[a("a-icon",{attrs:{type:"delete"}}),t._v("删除")],1)]):t._e()]}}])}),a("a-modal",{staticClass:"dialog_content",attrs:{title:"添加技术文档",visible:t.visible4,width:"600px",confirmLoading:t.confirmLoading,cancelText:"取消",okText:"提交"},on:{cancel:function(e){t.visible4=!1},ok:t.addProductDocumentation}},[a("div",{staticClass:"dialog_form dialog_form3"},[a("a-form",{attrs:{form:t.addProductDocumentationForms2}},[a("a-form-item",{attrs:{label:"文档编码","label-col":{span:4},"wrapper-col":{span:20}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["docCode"],expression:"[ 'docCode']"}],attrs:{placeholder:"输入文档编码"}})],1),a("a-form-item",{attrs:{label:"状态","label-col":{span:4},"wrapper-col":{span:20}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["docState"],expression:"[ 'docState']"}],attrs:{placeholder:"输入状态"}})],1),a("a-form-item",{attrs:{label:"图例","label-col":{span:4},"wrapper-col":{span:20}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["docLegend"],expression:"[ 'docLegend']"}],attrs:{placeholder:"输入图例"}})],1),a("a-form-item",{attrs:{label:"版本","label-col":{span:4},"wrapper-col":{span:20}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["docEdition"],expression:"[ 'docEdition']"}],attrs:{placeholder:"输入版本"}})],1),a("a-form-item",{attrs:{label:"上传技术文档","label-col":{span:4},"wrapper-col":{span:20}}},[a("a-upload",{attrs:{action:t.fileUploadUrl,multiple:!0,fileList:t.documentationFileList},on:{change:t.handleChange2}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),t._v(" 上传文档")],1)],1)],1)],1)],1)]),a("a-modal",{staticClass:"dialog_content",attrs:{title:"编辑技术文档",visible:t.visible5,width:"600px",confirmLoading:t.confirmLoading,cancelText:"取消",okText:"提交"},on:{cancel:function(e){t.visible5=!1},ok:t.editProductDocumentation}},[a("div",{staticClass:"dialog_form dialog_form3"},[a("a-form",{attrs:{form:t.addProductDocumentationForms3}},[a("a-form-item",{attrs:{label:"文档编码","label-col":{span:4},"wrapper-col":{span:20}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["docCode"],expression:"[ 'docCode']"}],attrs:{placeholder:"输入文档编码"}})],1),a("a-form-item",{attrs:{label:"状态","label-col":{span:4},"wrapper-col":{span:20}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["docState"],expression:"[ 'docState']"}],attrs:{placeholder:"输入状态"}})],1),a("a-form-item",{attrs:{label:"图例","label-col":{span:4},"wrapper-col":{span:20}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["docLegend"],expression:"[ 'docLegend']"}],attrs:{placeholder:"输入图例"}})],1),a("a-form-item",{attrs:{label:"版本","label-col":{span:4},"wrapper-col":{span:20}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["docEdition"],expression:"[ 'docEdition']"}],attrs:{placeholder:"输入版本"}})],1),a("a-form-item",{attrs:{label:"上传技术文档","label-col":{span:4},"wrapper-col":{span:20}}},[a("a-upload",{attrs:{action:t.fileUploadUrl,multiple:!0,fileList:t.documentationFileList5},on:{change:t.handleChange5}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),t._v(" 上传文档")],1)],1)],1)],1)],1)])],1)},r=[],n=(a("7364"),a("4964")),c=(a("d4d5"),a("b56a")),i=[{title:"名称",dataIndex:"docName",key:"docName",width:200,scopedSlots:{customRender:"docName"},align:"center"},{title:"编码",dataIndex:"docCode",key:"docCode",width:200,scopedSlots:{customRender:"docCode"},align:"center"},{title:"版本",dataIndex:"docEdition",key:"docEdition",width:200,scopedSlots:{customRender:"docEdition"},align:"center"},{title:"图例",dataIndex:"docLegend",key:"docLegend",width:200,scopedSlots:{customRender:"docLegend"},align:"center"},{title:"状态",dataIndex:"docState",key:"docState",width:200,scopedSlots:{customRender:"docState"},align:"center"},{title:"操作",width:200,align:"center",scopedSlots:{customRender:"action"}}],d={props:["productId"],components:{},data:function(){return{currentDocUrl:"",showPagination:!1,documentationFileList:[],documentationFileList5:[],confirmLoading:!1,addProductDocumentationForms2:this.$form.createForm(this),addProductDocumentationForms3:this.$form.createForm(this),ProductForm2:{claCode:"",delProductAttributesList:[],delProductDocumentationList:[],delProductDrawingList:[],delProductPackingList:[],productAttributesList:[],productChart:"",productCode:"",productDescribe:"",productDocumentationList:[],productDrawingList:[],productId:null,productMaterialQuality:"",productModel:"",productName:"",productPackingList:[],productPicture:null,productRoutine:{productBrand:"",productCode:"",productDiameter:"",productImprint:"",productLength:"",productMaterial:"",productMaterialRemark:"",productStandard:"",productSurface:"",productSurfaceRemark:"",productToothPitch:"",productToothType:"",productUnit:"",productWeight:"",remark:"",routId:null},productSpecs:""},documentationdata:[],documentationdata2:[],documentationcolumns:i,visible5:!1,visible4:!1,documentationfileId:null,documentationName:"",documentationUrl:"",documentationfileId5:null,documentationName5:"",documentationUrl5:"",loading:!1,curproductCode:null}},watch:{},computed:{fileUploadUrl:function(){return this.$global.baseUrl+"/file/upload?access_token="+this.$global.access_token}},created:function(){this.getProductInfos(this.productId)},methods:{editDoc:function(t,e){var a=this;this.visible5=!0,this.editDocTemp=t,this.documentationfileId=e.fileId,this.documentationName=e.docName,this.documentationUrl=e.fileUrl;var o=e.docCode,r=e.docState,n=e.docLegend,c=e.docEdition;setTimeout(function(){a.addProductDocumentationForms3.setFieldsValue({docCode:o,docState:r,docLegend:n,docEdition:c})},0)},editProductDocumentation:function(){var t=this;this.addProductDocumentationForms3.validateFields(function(e,a){if(!e){console.log("values"),console.log(a);var o=a;t.documentationfileId5?(o.fileId=t.documentationfileId5,o.docName=t.documentationName5,o.fileUrl=t.documentationUrl5):(o.fileId=t.documentationfileId,o.docName=t.documentationName,o.fileUrl=t.documentationUrl),o.docState=a.docState,-1!==t.productId&&(o.docId=t.documentationdata[t.editDocTemp].docId),o.productCode=t.curproductCode,t.documentationdata[t.editDocTemp]=a,t.visible5=!1,a.docState&&(o.docState=Number(a.docState)),t.ProductForm2.productDocumentationList[t.editDocTemp]=o,t.$emit("changeCallBack",t.ProductForm2),t.documentationfileId=null,t.documentationName=null,t.documentationfileId5=null,t.documentationName5=null,t.documentationUrl=null,t.documentationUrl5=null}})},getProductInfos:function(t){var e=this;-1!==t&&Object(c["p"])(t).then(function(t){t.data.code===e.$global.successCode?(e.documentationdata=t.data.data.productDocumentationList,e.curproductCode=t.data.data.productCode):e.$message.error(t.data.message)},function(t){console.log("获取零部件数据失败",t)})},showModal4:function(){this.documentationFileList=[],this.addProductDocumentationForms2.resetFields(),this.visible4=!0},addProductDocumentation:function(t){var e=this;t.preventDefault(),this.addProductDocumentationForms2.validateFields(function(t,a){if(!t){console.log("Received values of form: ",a),void 0==a.docCode&&(a.docCode=null),void 0==a.docEdition&&(a.docEdition=null),void 0==a.docLegend&&(a.docLegend=null),void 0==a.docState&&(a.docState=null);var o=a;e.documentationfileId?(o.fileId=e.documentationfileId,o.docName=e.documentationName,o.fileUrl=e.documentationUrl):(o.fileId=null,o.docName=null),o.docState=a.docState,o.productCode=e.curproductCode,a.docState&&(o.docState=Number(a.docState)),e.documentationdata.push(o),e.visible4=!1,e.ProductForm2.productDocumentationList.push(o),e.$emit("changeCallBack",e.ProductForm2),e.documentationfileId=null,e.documentationName=null,e.documentationUrl=null}})},onDeletedoc:function(t,e){this.documentationdata.splice(t,1),this.ProductForm2.delProductDocumentationList.push(e),this.$emit("changeCallBack",this.ProductForm2)},handleChange2:function(t){var e=this,a=Object(n["a"])(t.fileList);a=a.slice(-2),a=a.map(function(t){return t.response&&(e.documentationfileId=t.response.data.id,e.documentationName=t.response.data.name,e.documentationUrl=t.response.data.url),t}),this.documentationFileList=a},handleChange5:function(t){var e=this,a=Object(n["a"])(t.fileList);a=a.slice(-2),a=a.map(function(t){return t.response&&(e.documentationfileId5=t.response.data.id,e.documentationName5=t.response.data.name,e.documentationUrl5=t.response.data.url),t})},downloadDocment:function(t){return t.fileUrl+"?access_token="+this.$global.access_token}}},l=d,u=(a("d54e"),a("17cc")),s=Object(u["a"])(l,o,r,!1,null,"71797d28",null);e["a"]=s.exports},f691:function(t,e,a){var o=a("88dd"),r=a("b5b8"),n=a("8b37")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),o(e)&&(e=e[n],null===e&&(e=void 0))),void 0===e?Array:e}},f763:function(t,e,a){for(var o=a("dac5"),r=a("cfc7"),n=a("e5ef"),c=a("3754"),i=a("743d"),d=a("14fc"),l=a("8b37"),u=l("iterator"),s=l("toStringTag"),p=d.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(m),h=0;h<f.length;h++){var g,b=f[h],v=m[b],k=c[b],w=k&&k.prototype;if(w&&(w[u]||i(w,u,p),w[s]||i(w,s,b),d[b]=p,v))for(g in o)w[g]||n(w,g,o[g],!0)}},fc00:function(t,e,a){},fd38:function(t,e,a){}}]);
//# sourceMappingURL=chunk-226aa504.a3ed75c9.js.map