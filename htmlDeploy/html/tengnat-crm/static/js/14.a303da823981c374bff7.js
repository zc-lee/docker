webpackJsonp([14],{EdCM:function(t,e){},hJld:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("W+Ew"),l=a("ryJa"),i=a.n(l),o={data:function(){return{table:{dataList:[],custLevelList:[],stageList:[]},modal:{insert:{visible:!1,labelWith:"100px",form:{custTypeName:"",custTypeRemark:"",remindDay:""}},update:{visible:!1,labelWith:"100px",form:{custTypeId:"",custTypeName:"",custTypeRemark:"",remindDay:""}}},custLevelModal:{insert:{visible:!1,labelWith:"100px",form:{level:""}},update:{visible:!1,labelWith:"100px",form:{levelCode:"",levelName:""}}},stageModal:{insert:{visible:!1,labelWith:"100px",form:{stageName:""}},update:{visible:!1,labelWith:"100px",form:{stageId:"",stageName:""}}}}},mounted:function(){this.getCustTypeList(),this.getCustLevelList(),this.getStageList()},methods:{getCustTypeList:function(){var t=this;Object(s.E)().then(function(e){t.table.dataList=e.data.data}).catch(function(t){})},addCustType:function(){this.modal.insert.visible=!0,this.modal.insert.form.custTypeName="",this.modal.insert.form.custTypeRemark="",this.modal.insert.form.remindDay=""},addCustTypeSubmit:function(){var t=this;Object(s.p)(this.modal.insert.form).then(function(e){e.data.code===t.$global.successCode&&(t.$message({message:"添加成功",type:"success"}),t.getCustTypeList(),t.modal.insert.visible=!1)}).catch(function(t){})},updateCustType:function(t){this.modal.update.visible=!0,this.modal.update.form.custTypeId=t.custTypeId,this.modal.update.form.custTypeName=t.custTypeName,this.modal.update.form.custTypeRemark=t.custTypeRemark,this.modal.update.form.remindDay=t.remindDay},updateCustTypeSubmit:function(){var t=this;Object(s.d)(this.modal.update.form).then(function(e){e.data.code===t.$global.successCode&&(t.$message({message:"修改成功",type:"success"}),t.getCustTypeList(),t.modal.update.visible=!1)}).catch(function(t){})},deleteCustType:function(t){var e=this;this.$confirm("是否确定删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.x)({ctId:t}).then(function(t){t.data.code===e.$global.successCode&&(e.$message({message:"修改成功",type:"success"}),e.getCustTypeList())}).catch(function(t){})}).catch(function(){})},getCustLevelList:function(){var t=this;Object(s.D)().then(function(e){console.log(e),t.table.custLevelList=e.data.data}).catch(function(t){})},addCustLevel:function(){this.custLevelModal.insert.visible=!0,this.custLevelModal.insert.form.level=""},addCustLevelSubmit:function(){var t=this;Object(s.o)({custLevel:this.custLevelModal.insert.form.level}).then(function(e){e.data.code===t.$global.successCode&&(t.$message({message:"添加成功",type:"success"}),t.getCustLevelList(),t.custLevelModal.insert.visible=!1)}).catch(function(t){})},updateCustLevel:function(t){this.custLevelModal.update.visible=!0,this.custLevelModal.update.form.levelCode=t.dicCode,this.custLevelModal.update.form.levelName=t.dicText},updateCustLevelSubmit:function(){var t=this;Object(s.a)({levelCode:this.custLevelModal.update.form.levelCode,levelName:this.custLevelModal.update.form.levelName}).then(function(e){e.data.code===t.$global.successCode&&(t.$message({message:"修改成功",type:"success"}),t.getCustLevelList(),t.custLevelModal.update.visible=!1)}).catch(function(t){})},deleteCustLevel:function(t){var e=this;this.$confirm("是否确定删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.w)({levelCode:t}).then(function(t){t.data.code===e.$global.successCode&&(e.$message({message:"修改成功",type:"success"}),e.getCustLevelList())}).catch(function(t){})}).catch(function(){})},updateCustLevelSequence:function(t,e,a){var l=this;Object(s.b)({levelCode:t,sequenceOne:e,sequenceTwo:a}).then(function(t){l.getCustLevelList()}).catch(function(t){})},getStageList:function(){var t=this;Object(s.G)().then(function(e){t.table.stageList=e.data.data}).catch(function(t){})},addStage:function(){this.stageModal.insert.visible=!0,this.stageModal.insert.form.stageName=""},addStageSubmit:function(){var t=this;Object(s.v)({stageName:this.stageModal.insert.form.stageName}).then(function(e){e.data.code===t.$global.successCode&&(t.$message({message:"添加成功",type:"success"}),t.getStageList(),t.stageModal.insert.visible=!1)}).catch(function(t){})},updateStage:function(t){console.log(t),this.stageModal.update.form.stageId=t.stageId,this.stageModal.update.form.stageName=t.stageName,this.stageModal.update.visible=!0},updateStageSubmit:function(){var t=this;Object(s.h)({stageId:this.stageModal.update.form.stageId,stageName:this.stageModal.update.form.stageName}).then(function(e){e.data.code===t.$global.successCode&&(t.$message({message:"修改成功",type:"success"}),t.getStageList(),t.stageModal.update.visible=!1)}).catch(function(t){})},deleteStage:function(t){var e=this;this.$confirm("是否确定删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.C)({stageId:t}).then(function(t){t.data.code===e.$global.successCode&&(e.$message({message:"修改成功",type:"success"}),e.getStageList())}).catch(function(t){})}).catch(function(){})},timeStampToTime:function(t){return i()(t).format("YYYY-MM-DD HH:mm:ss")}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"first-item-box"},[a("div",{staticClass:"item-box-title"},[a("span",{staticClass:"title-text"},[t._v("商机类型")]),t._v(" "),a("el-button",{staticClass:"item-box-button",attrs:{type:"text"},on:{click:t.addCustType}},[t._v("添加客户类型")])],1),t._v(" "),a("div",{staticClass:"item-box-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table.dataList,height:"100%"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"custTypeName",width:"200",label:"商机类型","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"remindDay",width:"100",label:"天数","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"custTypeRemark",label:"备注","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",width:"200",sortable:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{domProps:{textContent:t._s(t.timeStampToTime(e.row.createTime))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.updateCustType(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteCustType(e.row.custTypeId)}}},[t._v("删除\n                        ")])]}}])})],1)],1)]),t._v(" "),a("div",{staticClass:"first-item-box",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"item-box-title"},[a("span",{staticClass:"title-text"},[t._v("客户等级")]),t._v(" "),a("el-button",{staticClass:"item-box-button",attrs:{type:"text"},on:{click:t.addCustLevel}},[t._v("添加客户等级")])],1),t._v(" "),a("div",{staticClass:"item-box-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table.custLevelList,height:"100%"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dicText",width:"400",label:"客户等级","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"排序","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("i",{staticClass:"el-icon-upload2 order-dynamic-sort",on:{click:function(a){return t.updateCustLevelSequence(e.row.dicCode,e.row.dicOrder,e.row.dicOrder-1)}}}),t._v(" "),a("i",{staticClass:"el-icon-download order-dynamic-sort",on:{click:function(a){return t.updateCustLevelSequence(e.row.dicCode,e.row.dicOrder,e.row.dicOrder+1)}}})])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.updateCustLevel(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteCustLevel(e.row.dicCode)}}},[t._v("删除\n                        ")])]}}])})],1)],1)]),t._v(" "),a("div",{staticClass:"first-item-box",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"item-box-title"},[a("span",{staticClass:"title-text"},[t._v("销售阶段")]),t._v(" "),a("el-button",{staticClass:"item-box-button",attrs:{type:"text"},on:{click:t.addStage}},[t._v("添加销售阶段")])],1),t._v(" "),a("div",{staticClass:"item-box-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table.stageList,height:"100%"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stageName",label:"销售阶段","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.updateStage(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteStage(e.row.stageId)}}},[t._v("删除\n                        ")])]}}])})],1)],1)]),t._v(" "),a("el-dialog",{staticClass:"custom-dialog",attrs:{title:"添加商机类型",visible:t.modal.insert.visible},on:{"update:visible":function(e){return t.$set(t.modal.insert,"visible",e)}}},[a("el-form",[a("el-form-item",{attrs:{label:"类型名称","label-width":t.modal.insert.labelWith}},[a("el-input",{model:{value:t.modal.insert.form.custTypeName,callback:function(e){t.$set(t.modal.insert.form,"custTypeName",e)},expression:"modal.insert.form.custTypeName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"到期提醒(天)","label-width":t.modal.update.labelWith}},[a("el-input",{attrs:{type:"number",placeholder:"请输入到期提醒天数"},model:{value:t.modal.insert.form.remindDay,callback:function(e){t.$set(t.modal.insert.form,"remindDay",e)},expression:"modal.insert.form.remindDay"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.modal.insert.labelWith}},[a("el-input",{model:{value:t.modal.insert.form.custTypeRemark,callback:function(e){t.$set(t.modal.insert.form,"custTypeRemark",e)},expression:"modal.insert.form.custTypeRemark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addCustTypeSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.modal.insert.visible=!1}}},[t._v("取 消")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"custom-dialog",attrs:{title:"编辑商机类型",visible:t.modal.update.visible},on:{"update:visible":function(e){return t.$set(t.modal.update,"visible",e)}}},[a("el-form",[a("el-form-item",{attrs:{label:"类型名称","label-width":t.modal.update.labelWith}},[a("el-input",{model:{value:t.modal.update.form.custTypeName,callback:function(e){t.$set(t.modal.update.form,"custTypeName",e)},expression:"modal.update.form.custTypeName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"到期提醒(天)","label-width":t.modal.update.labelWith}},[a("el-input",{attrs:{type:"number",placeholder:"请输入到期提醒天数"},model:{value:t.modal.update.form.remindDay,callback:function(e){t.$set(t.modal.update.form,"remindDay",e)},expression:"modal.update.form.remindDay"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.modal.update.labelWith}},[a("el-input",{model:{value:t.modal.update.form.custTypeRemark,callback:function(e){t.$set(t.modal.update.form,"custTypeRemark",e)},expression:"modal.update.form.custTypeRemark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.updateCustTypeSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.modal.update.visible=!1}}},[t._v("取 消")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"custom-dialog",attrs:{title:"添加客户等级",visible:t.custLevelModal.insert.visible},on:{"update:visible":function(e){return t.$set(t.custLevelModal.insert,"visible",e)}}},[a("el-form",[a("el-form-item",{attrs:{label:"客户等级","label-width":t.custLevelModal.insert.labelWith}},[a("el-input",{model:{value:t.custLevelModal.insert.form.level,callback:function(e){t.$set(t.custLevelModal.insert.form,"level",e)},expression:"custLevelModal.insert.form.level"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addCustLevelSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.custLevelModal.insert.visible=!1}}},[t._v("取 消")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"custom-dialog",attrs:{title:"编辑客户等级",visible:t.custLevelModal.update.visible},on:{"update:visible":function(e){return t.$set(t.custLevelModal.update,"visible",e)}}},[a("el-form",[a("el-form-item",{attrs:{label:"客户等级","label-width":t.custLevelModal.update.labelWith}},[a("el-input",{model:{value:t.custLevelModal.update.form.levelName,callback:function(e){t.$set(t.custLevelModal.update.form,"levelName",e)},expression:"custLevelModal.update.form.levelName"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.updateCustLevelSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.custLevelModal.update.visible=!1}}},[t._v("取 消")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"custom-dialog",attrs:{title:"添加销售阶段",visible:t.stageModal.insert.visible},on:{"update:visible":function(e){return t.$set(t.stageModal.insert,"visible",e)}}},[a("el-form",[a("el-form-item",{attrs:{label:"销售阶段","label-width":t.stageModal.insert.labelWith}},[a("el-input",{model:{value:t.stageModal.insert.form.stageName,callback:function(e){t.$set(t.stageModal.insert.form,"stageName",e)},expression:"stageModal.insert.form.stageName"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addStageSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.stageModal.insert.visible=!1}}},[t._v("取 消")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"custom-dialog",attrs:{title:"编辑销售阶段",visible:t.stageModal.update.visible},on:{"update:visible":function(e){return t.$set(t.stageModal.update,"visible",e)}}},[a("el-form",[a("el-form-item",{attrs:{label:"销售阶段","label-width":t.custLevelModal.update.labelWith}},[a("el-input",{model:{value:t.stageModal.update.form.stageName,callback:function(e){t.$set(t.stageModal.update.form,"stageName",e)},expression:"stageModal.update.form.stageName"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.updateStageSubmit}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.stageModal.update.visible=!1}}},[t._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var c=a("C7Lr")(o,n,!1,function(t){a("EdCM")},"data-v-4902024a",null);e.default=c.exports}});