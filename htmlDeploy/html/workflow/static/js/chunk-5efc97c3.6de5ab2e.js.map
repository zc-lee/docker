{"version":3,"sources":["webpack:///./src/views/workflow/edit.vue?119a","webpack:///./node_modules/_fetch-jsonp@1.1.3@fetch-jsonp/build/fetch-jsonp.js","webpack:///./src/views/workflow/editinfo/line.vue?bcd5","webpack:///./src/assets/canvas/save.gif","webpack:///./node_modules/_querystring-es3@0.2.1@querystring-es3/encode.js","webpack:///./src/views/workflow/edit.vue?cf0a","webpack:///./node_modules/_@babel_runtime@7.6.0@@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/_@babel_runtime@7.6.0@@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/_@babel_runtime@7.6.0@@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/_@babel_runtime@7.6.0@@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/init-methods.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/btn-methods.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/draw-rect.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/lines-intersect.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/draw-arrow.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/dot-line-distance.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/draw-line.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/draw-text.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/canvas-methods.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/control-methods.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/mouse-methods.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/methods/functions.js","webpack:///./node_modules/_canvas-flowchart@1.5.4@canvas-flowchart/index.js","webpack:///./src/views/workflow/editinfo/rect.vue?4c73","webpack:///src/views/workflow/editinfo/rect.vue","webpack:///./src/views/workflow/editinfo/rect.vue?4be6","webpack:///./src/views/workflow/editinfo/rect.vue","webpack:///./src/views/workflow/editinfo/line.vue?b3a3","webpack:///src/views/workflow/editinfo/line.vue","webpack:///./src/views/workflow/editinfo/line.vue?be62","webpack:///./src/views/workflow/editinfo/line.vue","webpack:///src/views/workflow/edit.vue","webpack:///./src/views/workflow/edit.vue?65c8","webpack:///./src/views/workflow/edit.vue","webpack:///./node_modules/_q@1.5.1@q/q.js","webpack:///./node_modules/_querystring-es3@0.2.1@querystring-es3/index.js","webpack:///./src/views/workflow/editinfo/rect.vue?c2d6","webpack:///./src/assets/canvas/select.gif","webpack:///./src/assets/canvas/delete.png","webpack:///./src/assets/canvas/arraw.png","webpack:///./node_modules/_querystring-es3@0.2.1@querystring-es3/decode.js","webpack:///./src/assets/canvas/add.png","webpack:///./src/api/flowchart.js"],"names":["this","exports","module","defaultOptions","timeout","jsonpCallback","jsonpCallbackFunction","generateCallbackFunction","Date","now","Math","ceil","random","clearFunction","functionName","window","e","undefined","removeScript","scriptId","script","document","getElementById","getElementsByTagName","removeChild","fetchJsonp","_url","options","arguments","length","url","timeoutId","Promise","resolve","reject","callbackFunction","response","ok","json","clearTimeout","indexOf","jsonpScript","createElement","setAttribute","charset","id","appendChild","setTimeout","Error","onerror","stringifyPrimitive","v","isFinite","obj","sep","eq","name","map","objectKeys","k","ks","encodeURIComponent","isArray","join","Array","xs","Object","prototype","toString","call","f","res","i","push","keys","key","hasOwnProperty","render","_vm","_h","$createElement","_c","_self","staticStyle","staticClass","_v","attrs","on","$event","add","class","canvas","btnState","connect","choose","del","saveFlow","boxId","ref","item","lineId","visible","saveNode","staticRenderFns","_arrayWithHoles","arr","_iterableToArrayLimit","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","value","err","_nonIterableRest","TypeError","_slicedToArray","Init","createCanvasDom","draw","edit","addMethodToWindow","metchKeys","delete","This","val","entries","methodsName","bind","useBtn","onkeydown","dialog","some","cid","createRandomId","width","height","cssText","textBaseline","textAlign","font","style","type","addId","btn","box","addBtnMethod","dom","onmousedown","preventDefault","dragAdd","onmouseup","DOM","innerHTML","btns","getElementsByClassName","background","onmouseover","onmouseout","addBtn","getContext","console","error","forEach","ctx","assign","lineFrom","chooseItem","typeIsLine","toStart","to","alertWarn","connectRule","startId","warn","match","alert","addLine","chooseOne","fromEnd","from","endId","_startXY","getPointerXY","isItem","getControlType","changePointer","moveItemToEnd","canMove","clickEmptyInit","beforeDelete","methods","deleteStartEnd","delItem","addRect","changeBtnState","x","flex","y","rectWidth","rectHeight","rectId","title","text","rect","rects","lines","filter","isRectHaveLineRule","delLine","rectlineWidth","lineWidth","strokeStyle","rectColor","fillStyle","fillColor","fillRect","strokeRect","drawText","chooseColor","startXY","nowXY","moveXY","moveLine","control","newObj","test","isRectRule","arg","startX","startY","endX","endY","reverse","linesInt","a","b","c","d","denominator","floor","line","nodes","fromX","fromY","toX","toY","theta","headlen","angle","atan2","PI","angle1","angle2","topX","cos","topY","sin","botX","botY","beginPath","arrowX","arrowY","moveTo","lineTo","closePath","fill","stroke","xx","yy","A","x1","B","y1","C","x2","D","y2","dot","len_sq","param","dx","dy","sqrt","drawArrow","dotLineDistence","getInitLineNodes","fromRect","find","toRect","endXY","getRectLineInt","dot1","dot2","lineJoin","lineCap","isChoose","dragLine","getLineNodes","arc","lineColor","lineDot","intRectDot","dotInLine","minX","maxX","minY","maxY","distence","isInline","isDotInLine","allNodes","center","index","findIndex","removeLineDot","splice","items","changeLine","isStartRect","changeIndex","rectCenterDot","split","temp","row","lineHeight","strWidth","str","measureText","fontColor","substring","fillText","clearCanvas","drawLine","drawRect","clearRect","isLine","target","moveRect","isRect","Reflect","has","concat","delRect","yTop","yBottom","xLeft","xRight","isDotInCenterDot","cursor","pageX","offsetLeft","pageY","offsetTop","handler","wait","frame","nowTime","getTime","_lastTime","apply","substr","clearControl","throttle","dragging","resizeRect","dbClick","super","defaultStyle","defaultMethods","isDragging","max","init","formItemLayout","labelCol","wrapperCol","model","callback","$$v","$set","expression","nowModechange","nowMode","nodeId","tempRejectNode","_l","String","nodeName","span","fetching","fetchUser","handleChange","slot","userId","userName","handleChangePost","postId","postName","props","data","lastFetchId","plainOptions","valueuserIdList","personvalue","PositionValue","dataposition","roleName","rolelist","rejectList","canvasData","nowModeDisabled","userList","decideUserList","keyArrlength","mounted","getDecideUserList","decideUser","getRejectList","show","getForwardNode","rejectNode","onChangereject","Number","checkedValues","checked","onChangebeReject","beReject","onChangedynamic","dynamic","checkbox","choosenum","tempval","validatecheckbox","chooseval","label","component","domProps","directives","rawName","modifiers","composing","trim","$forceUpdate","fromNodeId","toNodeId","sm","validItem","lineNode","$message","conditions","components","rectInfo","lineInfo","watch","$route","query","wft_id","wftId","getFlow","deleteNode","centered","content","okText","onOk","formatParams","format","rectKey","lineKey","definition","bootstrap","hasStacks","stack","qFileName","qStartingLine","captureLine","noop","nextTick","head","task","tail","flushing","requestTick","isNodeJS","laterQueue","flush","domain","enter","runSingle","pop","exit","process","setImmediate","MessageChannel","channel","port1","onmessage","requestPortTick","port2","postMessage","runAfter","Function","uncurryThis","QReturnValue","array_slice","slice","array_reduce","reduce","basis","array_indexOf","array_map","thisp","self","collect","object_create","create","Type","object_defineProperty","defineProperty","prop","descriptor","object_hasOwnProperty","object_keys","object","object_toString","isObject","isStopIteration","exception","ReturnValue","STACK_JUMP_SEPARATOR","makeStackTraceLong","promise","stacks","p","source","__minimumStackCounter__","stackCounter","configurable","unshift","concatedStacks","filterStackString","stackString","desiredLines","isInternalFrame","isNodeFrame","stackLine","getFileNameAndLineNumber","attempt1","exec","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qEndingLine","firstLine","deprecate","alternative","Q","isPromiseAlike","coerce","fulfill","longStackSupport","longStackCounter","defer","resolvedPromise","messages","progressListeners","deferred","promiseDispatch","op","operands","args","valueOf","nearerValue","nearer","isPromise","inspect","state","become","newPromise","message","reason","notify","progress","progressListener","resolver","race","answerPs","len","then","fallback","result","inspected","when","fulfilled","rejected","progressed","isPending","isFulfilled","isRejected","Q_DEBUG","makeNodeResolver","all","passByCopy","that","spread","makePromise","_fulfilled","_rejected","newException","_progressed","newValue","threw","tap","fcall","thenResolve","thenReject","unhandledReasons","unhandledRejections","reportedUnhandledRejections","trackUnhandledRejections","resetUnhandledRejections","trackRejection","emit","untrackRejection","at","atReport","rejection","rhs","master","dispatch","async","makeGenerator","continuer","verb","StopIteration","generator","errback","spawn","_return","promised","promises","pendingCount","snapshot","any","prev","current","onFulfilled","onRejected","onProgress","allResolved","allSettled","nodeify","nodeback","getUnhandledReasons","stopUnhandledRejectionTracking","array","get","set","mapply","post","send","mcall","invoke","fapply","fbind","regardless","fail","fin","onUnhandledError","ms","code","delay","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","bound","nmapply","npost","nsend","nmcall","ninvoke","noConflict","decode","parse","encode","stringify","qs","regexp","maxKeys","kstr","vstr","replace","idx","decodeURIComponent","access_token","require","default","requestToken","http","params","method","getNode","node_id","putNode","viewNode","wftProcess","delNode","getLine","line_id","putLine","wftNodeLine"],"mappings":"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","file":"static/js/chunk-5efc97c3.6de5ab2e.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=ca99955e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=ca99955e&lang=less&scoped=true&\"","(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['exports', 'module'], factory);\n  } else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n    factory(exports, module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, mod);\n    global.fetchJsonp = mod.exports;\n  }\n})(this, function (exports, module) {\n  'use strict';\n\n  var defaultOptions = {\n    timeout: 5000,\n    jsonpCallback: 'callback',\n    jsonpCallbackFunction: null\n  };\n\n  function generateCallbackFunction() {\n    return 'jsonp_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);\n  }\n\n  function clearFunction(functionName) {\n    // IE8 throws an exception when you try to delete a property on window\n    // http://stackoverflow.com/a/1824228/751089\n    try {\n      delete window[functionName];\n    } catch (e) {\n      window[functionName] = undefined;\n    }\n  }\n\n  function removeScript(scriptId) {\n    var script = document.getElementById(scriptId);\n    if (script) {\n      document.getElementsByTagName('head')[0].removeChild(script);\n    }\n  }\n\n  function fetchJsonp(_url) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    // to avoid param reassign\n    var url = _url;\n    var timeout = options.timeout || defaultOptions.timeout;\n    var jsonpCallback = options.jsonpCallback || defaultOptions.jsonpCallback;\n\n    var timeoutId = undefined;\n\n    return new Promise(function (resolve, reject) {\n      var callbackFunction = options.jsonpCallbackFunction || generateCallbackFunction();\n      var scriptId = jsonpCallback + '_' + callbackFunction;\n\n      window[callbackFunction] = function (response) {\n        resolve({\n          ok: true,\n          // keep consistent with fetch API\n          json: function json() {\n            return Promise.resolve(response);\n          }\n        });\n\n        if (timeoutId) clearTimeout(timeoutId);\n\n        removeScript(scriptId);\n\n        clearFunction(callbackFunction);\n      };\n\n      // Check if the user set their own params, and if not add a ? to start a list of params\n      url += url.indexOf('?') === -1 ? '?' : '&';\n\n      var jsonpScript = document.createElement('script');\n      jsonpScript.setAttribute('src', '' + url + jsonpCallback + '=' + callbackFunction);\n      if (options.charset) {\n        jsonpScript.setAttribute('charset', options.charset);\n      }\n      jsonpScript.id = scriptId;\n      document.getElementsByTagName('head')[0].appendChild(jsonpScript);\n\n      timeoutId = setTimeout(function () {\n        reject(new Error('JSONP request to ' + _url + ' timed out'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n        window[callbackFunction] = function () {\n          clearFunction(callbackFunction);\n        };\n      }, timeout);\n\n      // Caught if got 404/500\n      jsonpScript.onerror = function () {\n        reject(new Error('JSONP request to ' + _url + ' failed'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n        if (timeoutId) clearTimeout(timeoutId);\n      };\n    });\n  }\n\n  // export as global function\n  /*\n  let local;\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n  local.fetchJsonp = fetchJsonp;\n  */\n\n  module.exports = fetchJsonp;\n});","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./line.vue?vue&type=style&index=0&id=5c6eb916&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./line.vue?vue&type=style&index=0&id=5c6eb916&scoped=true&lang=css&\"","module.exports = \"data:image/gif;base64,R0lGODlhEAAQALMAAD8/Xz9fP7+/f9/fn39/X9/fv9+/P//78N+/f79/P59/X7+ff39fX////////wAAACH5BAEAAA4ALAAAAAAQABAAAARo0MlJqwwMh81ZDtcRNCR5FANwAOF4vOcxBADrBGIDF/K82DhXbDAQBH4hho5HFAgAyNuBQaw6n1GcAcDZ1AzZA2JMJoOBh21tvQ5vFQR4oFCAordxQmJejzLSAHAJe3R2E2yIbBaLFBEAOw==\"","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"24px\"}},[_c('header',[_c('div',{staticClass:\"title\"},[_vm._v(\"选择导航元件开始设计\")]),_c('div',{staticClass:\"btns\"},[_c('div',{staticClass:\"btn\",attrs:{\"id\":\"add\"},on:{\"click\":function($event){return _vm.add()}}},[_c('img',{attrs:{\"src\":require(\"../../assets/canvas/add.png\")}}),_vm._v(\"\\n        任务\\n      \")]),_c('div',{staticClass:\"btn\",class:{'select':_vm.canvas.btnState=='connect'},on:{\"click\":function($event){return _vm.connect()}}},[_c('img',{attrs:{\"src\":require(\"../../assets/canvas/arraw.png\")}}),_vm._v(\"\\n        画线\\n      \")]),_c('div',{staticClass:\"btn\",class:{'select':_vm.canvas.btnState=='choose'},on:{\"click\":function($event){return _vm.choose()}}},[_c('img',{attrs:{\"src\":require(\"../../assets/canvas/select.gif\")}}),_vm._v(\"\\n        选择\\n      \")]),_c('div',{staticClass:\"btn\",class:{'select':_vm.canvas.btnState=='delete'},on:{\"click\":function($event){return _vm.del()}}},[_c('img',{attrs:{\"src\":require(\"../../assets/canvas/delete.png\")}}),_vm._v(\"\\n        删除\\n      \")]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.saveFlow}},[_c('img',{attrs:{\"src\":require(\"../../assets/canvas/save.gif\")}}),_vm._v(\"\\n        保存\\n      \")])])]),_c('div',{attrs:{\"id\":_vm.boxId}}),_c('a-modal',{ref:\"flowmodal\",staticClass:\"modal-info\",attrs:{\"width\":_vm.item.lineId?'500px':'750px',\"title\":\"工作流\",\"visible\":_vm.visible,\"okText\":\"确定\"},on:{\"cancel\":function($event){_vm.visible=false},\"ok\":_vm.saveNode}},[(!_vm.item.lineId)?_c('rect-info',{ref:\"rect\",staticClass:\"rect-info\",attrs:{\"item\":_vm.item}}):_c('line-info',{ref:\"line\",staticClass:\"line-info\",attrs:{\"item\":_vm.item,\"id\":\"line-info\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default class Init {\r\n    init() {\r\n        this.createCanvasDom();\r\n        this.draw();\r\n        if (this.options.edit)\r\n            this.addMethodToWindow();\r\n    }\r\n    addMethodToWindow() {\r\n        let metchKeys = {\r\n            add: 'addItem',\r\n            delete: 'deleteItem',\r\n            connect: 'connectItem',\r\n            choose: 'chooseOne'\r\n        }, { This, options } = this;\r\n        for (let [key, val] of Object.entries(this.methodsName)) {\r\n            This[val] = this[metchKeys[key]].bind(this)\r\n            if (options.useBtn && This != window) {\r\n                window[val] = this[metchKeys[key]].bind(this)\r\n            }\r\n            // console.warn(`window添加${key}:${this.checkAddMethodToWindow(val)}`)\r\n        }\r\n        window.onkeydown = (e) => {\r\n            // console.log('keydown:', e.key)\r\n            if (!this.dialog && (e.key == 'Delete' || e.key == 'Backspace')) {\r\n                this.delete(null)\r\n            }\r\n        }\r\n    }\r\n    checkAddMethodToWindow(key) {\r\n        let { This } = this;\r\n        return Object.keys(This).some(v => v == key)\r\n    }\r\n    /**\r\n     * @method\r\n     * @description 创建canvasDom\r\n     */\r\n    createCanvasDom() {\r\n        this.cid = this.createRandomId();\r\n        let { cid } = this,\r\n            { width, height, cssText, textBaseline, textAlign, font } = this.style,\r\n            { type, useBtn, edit, addId } = this.options,\r\n            btn = `\r\n            <div style=\"display: flex;justify-content: space-around;text-align: center;margin: 0px;background-color: rgb(255, 255, 255);width: 450px;padding: 3px;border: 1px solid #aaa;font-size: 12px;\">\r\n            <span id='add' class=\"canvas-btn\" onclick=\"add()\">add</span>\r\n            <span id='delete' class=\"canvas-btn\" onclick=\"del()\">del</span>\r\n            <span id='connect' class=\"canvas-btn\" onclick=\"connect()\">connect</span>\r\n            <span id='choose' class=\"canvas-btn\" onclick=\"choose()\">choose</span>\r\n          </div>\r\n        `,\r\n            box = `\r\n        <canvas id=\"${cid}\" width=\"${width}\" height=\"${height}\">\r\n            <p>浏览器不支持Canvas</p>\r\n        </canvas>\r\n        `,\r\n            addBtnMethod = (dom) => {\r\n                dom.onmousedown = (e) => {\r\n                    e.preventDefault();\r\n                    this.dragAdd = true\r\n                }\r\n                dom.onmouseup = (e) => {\r\n                    e.preventDefault();\r\n                    this.dragAdd = false\r\n                }\r\n            };\r\n        this.DOM.innerHTML = edit && useBtn ? btn + box : box;\r\n        if (useBtn) {\r\n            let btns = document.getElementsByClassName('canvas-btn')\r\n            for (let i = 0; i < btns.length; i++) {\r\n                btns[i].style.cssText = \"border: 1px solid #808080;padding: 3px;width: 80px;cursor: pointer;\"\r\n                btns[i].style.background = this.btnState == btns[i].id ? '#ccc' : null;\r\n                btns[i].onmouseover = () => {\r\n                    btns[i].style.background = '#ccc';\r\n                }\r\n                btns[i].onmouseout = () => {\r\n                    btns[i].style.background = this.btnState == btns[i].id ? '#ccc' : null;\r\n                }\r\n                if (btns[i].id == 'add') {\r\n                    addBtnMethod(btns[i])\r\n                }\r\n            }\r\n        }\r\n        if (addId) {\r\n            let addBtn = document.getElementById(addId)\r\n            addBtnMethod(addBtn)\r\n        }\r\n        let canvas = document.getElementById(cid)\r\n        if (!canvas.getContext) {\r\n            return console.error('你的浏览器不支持Canvas!');\r\n        }\r\n        if (edit)\r\n            ['onmousedown', 'onmouseup', 'onmouseout', 'onmousemove', 'ondblclick'].forEach(v => {\r\n                canvas[v] = this[v].bind(this)\r\n            })\r\n        canvas.style.cssText = cssText;\r\n        this.canvas = canvas\r\n        this.ctx = this.canvas.getContext(type)\r\n        Object.assign(this.ctx, {\r\n            textBaseline,\r\n            textAlign,\r\n            font\r\n        })\r\n    }\r\n}","export default {\r\n    connect(e) {\r\n        this.choose(e)\r\n        let { lineFrom, chooseItem } = this\r\n        if (!chooseItem || this.typeIsLine(chooseItem)) return this.lineFrom = null;\r\n        if (!lineFrom) {\r\n            let { fromEnd, from, alertWarn } = this.options.connectRule,\r\n                { endId } = this.options,\r\n                warn = 'from can`t be end node!!!',\r\n                match = 'from can`t match from rule!!!'\r\n            if (!fromEnd && chooseItem.id == endId)\r\n                return alertWarn ? alert(warn) : console.warn(warn)\r\n            if (!from)\r\n                return alertWarn ? alert(match) : console.warn(match)\r\n            this.lineFrom = chooseItem\r\n        } else if (chooseItem.id == lineFrom.id) {\r\n            return\r\n        } else {\r\n            let { toStart, to, alertWarn } = this.options.connectRule,\r\n                { startId } = this.options,\r\n                warn = 'to can`t be start node!!!',\r\n                match = 'to can`t match to rule!!!'\r\n            if (!toStart && chooseItem.id == startId)\r\n                return alertWarn ? alert(warn) : console.warn(warn)\r\n            if (!to)\r\n                return alertWarn ? alert(match) : console.warn(match)\r\n            this.addLine(chooseItem.id)\r\n            if (!this.options.btnState.connect)\r\n                this.chooseOne()\r\n        }\r\n    },\r\n    choose(e) {\r\n        this._startXY = this.getPointerXY(e)\r\n        this.chooseItem = this.isItem(...this._startXY)\r\n        this.getControlType(...this._startXY)\r\n        this.changePointer(e)\r\n        this.draw();\r\n        if (this.chooseItem) {\r\n            this.moveItemToEnd()\r\n            this.canMove = true;\r\n        } else if (this.options.clickEmptyInit && this.btnState != 'choose') {\r\n            this.btnState = 'choose'\r\n        }\r\n    },\r\n    async delete(e) {\r\n        if (e)\r\n            this.choose(e)\r\n        let { chooseItem } = this,\r\n            { beforeDelete } = this.methods,\r\n            { deleteStartEnd, startId, endId } = this.options;\r\n        if (!chooseItem) return;\r\n        if (!deleteStartEnd && !this.typeIsLine(chooseItem) && (chooseItem.id == startId || chooseItem.id == endId)) return console.warn('Pleace set options deleteStartEnd');\r\n        if (beforeDelete) {\r\n            await beforeDelete(chooseItem);\r\n        }\r\n        this.delItem()\r\n    },\r\n    addItem() {\r\n        this.addRect()\r\n    },\r\n    deleteItem() {\r\n        if (!this.options.btnState.delete)\r\n            return this.delete()\r\n        this.changeBtnState('delete')\r\n    },\r\n    connectItem() {\r\n        this.changeBtnState('connect')\r\n        this.chooseItem = null;\r\n        this.lineFrom = null;\r\n        this.draw();\r\n    },\r\n    chooseOne() {\r\n        this.changeBtnState('choose')\r\n    },\r\n    changeBtnState(key) {\r\n        this.btnState = key\r\n        let btns = document.getElementsByClassName('canvas-btn')\r\n        for (let i = 0; i < btns.length; i++) {\r\n            let background = btns[i].id == key ? '#ccc' : null;\r\n            btns[i].style.background = background\r\n        }\r\n    }\r\n}","export default {\r\n    addRect(x = this.options.flex, y = this.options.flex, width = this.style.rectWidth, height = this.style.rectHeight, id = this.rectId, title = this.options.title, text = this.options.text) {\r\n        let rect = { x, y, width, height, id, title, text }\r\n        this.rects.push(rect)\r\n        this.rectId++;\r\n        if (this.rectId == this.options.endId)\r\n            this.rectId++;\r\n        this.chooseItem = rect;\r\n        this.draw()\r\n    },\r\n    delRect(rect) {\r\n        let { lines, rects } = this\r\n        this.rects = rects.filter(v => v.id != rect.id)\r\n        if (!lines[0]) return this.draw()\r\n        lines.forEach(v => {\r\n            this.isRectHaveLineRule(rect, v) ? this.delLine(v) : ''\r\n        })\r\n    },\r\n    drawRect() {\r\n        let { ctx, style, chooseItem } = this,\r\n            { flex, endId } = this.options;\r\n        let { rectlineWidth } = this.style;\r\n        ctx.lineWidth = rectlineWidth;\r\n        this.rects.forEach(e => {\r\n            ctx.strokeStyle = style.rectColor;\r\n            ctx.fillStyle = style.fillColor;\r\n            let { x, y, width, height } = e\r\n            ctx.fillRect(x, y, width, height)\r\n            ctx.strokeRect(x, y, width, height);\r\n            if (e.title)\r\n                this.drawText(endId == e.id ? e.title : `${e.id}-` + e.title, e.x + e.width / 2, e.y + flex + 12, e.width - 2 * flex, 1)\r\n            if (e.text)\r\n                this.drawText(e.text, e.x + e.width / 2, e.y + e.height / 2, e.width - 2 * flex, 2)\r\n            if (chooseItem && !this.typeIsLine(chooseItem) && chooseItem.id == e.id) {\r\n                ctx.strokeStyle = style.chooseColor\r\n                ctx.strokeRect(e.x - flex, e.y - flex, e.width + 2 * flex, e.height + 2 * flex);\r\n            }\r\n        });\r\n    },\r\n    moveRect(e) {\r\n        let item = this.chooseItem,\r\n            startXY = this._startXY,\r\n            nowXY = this.getPointerXY(e),\r\n            moveXY = [nowXY[0] - startXY[0], nowXY[1] - startXY[1]];\r\n        this._startXY = nowXY;\r\n        Object.assign(item, {\r\n            x: item.x + moveXY[0],\r\n            y: item.y + moveXY[1]\r\n        })\r\n        let { lines } = this;\r\n        if (lines.some(v => this.isRectHaveLineRule(item, v))) {\r\n            this.moveLine(item)\r\n        }\r\n        this.draw();\r\n    },\r\n    resizeRect(e) {\r\n        let { control, chooseItem, _startXY, lines } = this,\r\n            nowXY = this.getPointerXY(e),\r\n            moveXY = [nowXY[0] - _startXY[0], nowXY[1] - _startXY[1]];\r\n        this._startXY = nowXY;\r\n        // ! + or -\r\n        let newObj = {\r\n            x: (/Left/).test(control) ? chooseItem.x + moveXY[0] : chooseItem.x,\r\n            y: (/Top/).test(control) ? chooseItem.y + moveXY[1] : chooseItem.y,\r\n            width: !(/Left|Right/).test(control) ? chooseItem.width : (/Left/).test(control) ? chooseItem.width - moveXY[0] : chooseItem.width + moveXY[0],\r\n            height: !(/Top|Bottom/).test(control) ? chooseItem.height : (/Top/).test(control) ? chooseItem.height - moveXY[1] : chooseItem.height + moveXY[1]\r\n        }\r\n        if (newObj.width > 0 && newObj.height > 0) {\r\n            Object.assign(chooseItem, newObj)\r\n            if (lines.some(v => this.isRectHaveLineRule(chooseItem, v))) {\r\n                this.moveLine(chooseItem)\r\n            }\r\n            this.draw();\r\n        }\r\n    },\r\n    isRect() {\r\n        let isRectRule = (rect, arg) => {\r\n            let { flex } = this.options;\r\n            let [startX, startY, endX, endY] = [rect.x - flex, rect.y - flex, rect.x + rect.width + 2 * flex, rect.y + rect.height + 2 * flex],\r\n                [x, y] = arg;\r\n            return x > startX && x < endX && y > startY && y < endY;\r\n        }\r\n        let rects = this.rects.filter(v => isRectRule(v, arguments))\r\n        return rects.reverse()[0]\r\n    },\r\n}","// 已知线段1(a,b) 和线段2(c,d) ,其中a b c d为端点[x,y], 求线段交点p .(平行或共线视作不相交)\r\n\r\nlet linesInt = (a, b, c, d) => {\r\n    /** 1 解线性方程组, 求线段交点. **/\r\n    // 如果分母为0 则平行或共线, 不相交  \r\n    var denominator = (b[1] - a[1]) * (d[0] - c[0]) - (a[0] - b[0]) * (c[1] - d[1]);\r\n    if (denominator == 0) {\r\n        return false;\r\n    }\r\n\r\n    // 线段所在直线的交点坐标 (x , y)      \r\n    var x = ((b[0] - a[0]) * (d[0] - c[0]) * (c[1] - a[1])\r\n        + (b[1] - a[1]) * (d[0] - c[0]) * a[0]\r\n        - (d[1] - c[1]) * (b[0] - a[0]) * c[0]) / denominator;\r\n    var y = -((b[1] - a[1]) * (d[1] - c[1]) * (c[0] - a[0])\r\n        + (b[0] - a[0]) * (d[1] - c[1]) * a[1]\r\n        - (d[0] - c[0]) * (b[1] - a[1]) * c[1]) / denominator;\r\n\r\n    /** 2 判断交点是否在两条线段上 **/\r\n    if (\r\n        // 交点在线段1上  \r\n        (x - a[0]) * (x - b[0]) <= 0 && (y - a[1]) * (y - b[1]) <= 0\r\n        // 且交点也在线段2上  \r\n        && (x - c[0]) * (x - d[0]) <= 0 && (y - c[1]) * (y - d[1]) <= 0\r\n    ) {\r\n\r\n        // 返回交点p  \r\n        return [Math.floor(x), Math.floor(y)]\r\n    }\r\n    //否则不相交  \r\n    return false\r\n}\r\n\r\nexport default linesInt","export default function (line) {\r\n    let { ctx } = this,\r\n        { flex } = this.options,\r\n        // 箭头顶点\r\n        to = line.nodes[line.nodes.length - 1],\r\n        from = line.nodes[line.nodes.length - 2],\r\n        [fromX, fromY] = from,\r\n        [toX, toY] = to,\r\n        theta = 30,\r\n        headlen = 1.5 * flex,\r\n        // 求三个点\r\n        // 箭头定点  直线与矩形的交点\r\n        // 线段函数  (x-x1)/(x2-x1)=(y-y1)/(y2-y1)  (x1 <= x <= x2) (y1 <= y <= y2)\r\n        // 矩形函数\r\n        // 箭头两侧点\r\n\r\n        // fromX, fromY：起点坐标（也可以换成p1，只不过它是一个数组）\r\n        // toX, toY：终点坐标(也可以换成p2，只不过它是一个数组)\r\n        // theta：三角斜边一直线夹角\r\n        // headlen：三角斜边长度\r\n        // width：箭头线宽度\r\n        // color：箭头颜色\r\n\r\n\r\n        // 计算各角度和对应的P2,P3坐标\r\n        angle = Math.atan2(fromY - toY, fromX - toX) * 180 / Math.PI,\r\n        angle1 = (angle + theta) * Math.PI / 180,\r\n        angle2 = (angle - theta) * Math.PI / 180,\r\n        topX = headlen * Math.cos(angle1),\r\n        topY = headlen * Math.sin(angle1),\r\n        botX = headlen * Math.cos(angle2),\r\n        botY = headlen * Math.sin(angle2);\r\n\r\n    ctx.beginPath();\r\n\r\n    var arrowX = fromX - topX,\r\n        arrowY = fromY - topY;\r\n\r\n    ctx.moveTo(arrowX, arrowY);\r\n    ctx.moveTo(fromX, fromY);\r\n    ctx.lineTo(toX, toY);\r\n    arrowX = toX + topX;\r\n    arrowY = toY + topY;\r\n    ctx.moveTo(arrowX, arrowY);\r\n    ctx.lineTo(toX, toY);\r\n    arrowX = toX + botX;\r\n    arrowY = toY + botY;\r\n    ctx.lineTo(arrowX, arrowY);\r\n    ctx.closePath();\r\n    ctx.fill()\r\n    ctx.stroke();\r\n}","/**\r\n* 点到线的最短距离实际上就是点到线的垂直距离。\r\n* (x,y)为点的坐标\r\n* (x1,y1)为线段上点的坐标\r\n* (x2,y2)为线段另外一点的坐标\r\n*/\r\nexport default function (x, y, x1, y1, x2, y2) {\r\n    var A = x - x1;\r\n    var B = y - y1;\r\n    var C = x2 - x1;\r\n    var D = y2 - y1;\r\n\r\n    var dot = A * C + B * D;\r\n    var len_sq = C * C + D * D;\r\n    var param = -1;\r\n    if (len_sq != 0) //线段长度不能为0\r\n        param = dot / len_sq;\r\n\r\n    var xx, yy;\r\n\r\n    if (param < 0) {\r\n        xx = x1;\r\n        yy = y1;\r\n    }\r\n    else if (param > 1) {\r\n        xx = x2;\r\n        yy = y2;\r\n    }\r\n    else {\r\n        xx = x1 + param * C;\r\n        yy = y1 + param * D;\r\n    }\r\n\r\n    var dx = x - xx;\r\n    var dy = y - yy;\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n}","import linesInt from './lines-intersect'\r\nimport drawArrow from './draw-arrow'\r\nimport dotLineDistence from './dot-line-distance'\r\nexport default {\r\n    linesInt,\r\n    drawArrow,\r\n    dotLineDistence,\r\n    addLine(to) {\r\n        let from = this.lineFrom.id,\r\n            lines = this.lines;\r\n        if (lines.some(v => (v.from == from && v.to == to) || (v.from == to && v.to == from))) {\r\n            alert('line has exist!!!')\r\n        } else {\r\n            this.lines.push({ from, to, nodes: this.getInitLineNodes({ from, to }), id: this.lineId })\r\n            this.lineId++\r\n        }\r\n        this.chooseItem = null;\r\n        this.lineFrom = null\r\n        this.draw()\r\n    },\r\n    delLine(line) {\r\n        this.lines = this.lines.filter(v => v.id != line.id)\r\n        this.draw()\r\n    },\r\n    getInitLineNodes(line) {\r\n        let { from, to } = line,\r\n            { rects } = this,\r\n            fromRect = rects.find(v => v.id == from),\r\n            toRect = rects.find(v => v.id == to)\r\n        if (!fromRect || !toRect) return[];\r\n        let startXY = [fromRect.x + fromRect.width / 2, fromRect.y + fromRect.height / 2],\r\n            endXY = [toRect.x + toRect.width / 2, toRect.y + toRect.height / 2]\r\n        return [this.getRectLineInt(fromRect, [startXY, endXY]), this.getRectLineInt(toRect, [startXY, endXY])]\r\n    },\r\n    /**\r\n     * @method\r\n     * @description 获取节点\r\n     * @param {*} line \r\n     * @param {*} type circle:可操作点 all：全部 nodes：转折点 center：线段中点\r\n     */\r\n    getLineNodes(line, type = \"circle\") {\r\n        let nodes = [],\r\n            arr = line.nodes\r\n        arr.forEach((v, i) => {\r\n            if (type == 'all') {\r\n                //首尾 + 转折点\r\n                nodes.push(v)\r\n            } else if (type != 'center' && i != 0 && i != arr.length - 1) {\r\n                //转折点 不含首位\r\n                nodes.push(v)\r\n            }\r\n            // 中点\r\n            if (arr[i + 1] && type != 'nodes') { // 存在中点\r\n                let dot1 = arr[i],\r\n                    dot2 = arr[i + 1];\r\n                nodes.push([(dot1[0] + dot2[0]) / 2, (dot1[1] + dot2[1]) / 2])\r\n            }\r\n        })\r\n        return nodes\r\n    },\r\n    drawLine() {\r\n        let { ctx, lines, chooseItem, style, options } = this;\r\n        ctx.lineWidth = style.lineWidth;\r\n        ctx.lineJoin = style.lineJoin;\r\n        ctx.lineCap = style.lineCap;\r\n        lines.forEach(e => {\r\n            e.nodes = e.nodes || this.getInitLineNodes(e)\r\n            let isChoose = chooseItem && this.typeIsLine(chooseItem) && e.id == chooseItem.id\r\n            if (!e.nodes[0]) return;\r\n            if (options.dragLine && isChoose) {\r\n                ctx.fillStyle = style.chooseColor\r\n                this.getLineNodes(e).forEach(v => {\r\n                    ctx.beginPath();\r\n                    ctx.arc(...v, 2, 0, 2 * Math.PI);\r\n                    ctx.fill()\r\n                    ctx.stroke();\r\n                })\r\n\r\n            }\r\n            ctx.strokeStyle = ctx.fillStyle = isChoose ? style.chooseColor : style.lineColor\r\n            ctx.beginPath();\r\n            e.nodes.forEach((v, i) => {\r\n                ctx[i == 0 ? 'moveTo' : 'lineTo'](...v)\r\n            })\r\n            ctx.stroke();\r\n            this.drawArrow(e)\r\n        });\r\n    },\r\n    /**\r\n     * @method\r\n     * @description 获取矩形与直线的焦点\r\n     */\r\n    getRectLineInt(rect, lineDot) {\r\n        let [a, b, c, d] = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height],\r\n            // 矩形四点\r\n            // [a,c] [b,c]\r\n            // [a,d] [b,d]\r\n            intRectDot =\r\n                // top\r\n                this.linesInt(...lineDot, [a, c], [b, c]) ||\r\n                // bottom\r\n                this.linesInt(...lineDot, [a, d], [b, d]) ||\r\n                // left\r\n                this.linesInt(...lineDot, [a, c], [a, d]) ||\r\n                // right\r\n                this.linesInt(...lineDot, [b, c], [b, d]);\r\n        return intRectDot\r\n    },\r\n    isDotInLine(line, arg) {\r\n        /**\r\n         * @method \r\n         * @description 判断点是否在线上\r\n         * @param {*} dot \r\n         * @param {*} fromDot \r\n         * @param {*} toDot \r\n         */\r\n        let dotInLine = (dot, dot1, dot2) => {\r\n            // 求点到线段的最短距离\r\n            // !###########\r\n            // 线性函数 y=kx+b\r\n            // 两点式 (x-x1)/(x2-x1)=(y-y1)/(y2-y1)\r\n            // 斜截式 求斜率：k=(y2-y1)/(x2-x1) 直线方程 y-y1=k(x-x1)\r\n            let [x, y] = dot,\r\n                [x1, y1] = dot1,\r\n                [x2, y2] = dot2,\r\n                { flex } = this.options,\r\n                minX = x1 < x2 ? x1 : x2,\r\n                maxX = x1 > x2 ? x1 : x2,\r\n                minY = y1 < y2 ? y1 : y2,\r\n                maxY = y1 > y2 ? y1 : y2,\r\n                distence = this.dotLineDistence(x, y, x1, y1, x2, y2)\r\n            return minX - flex < x && maxX + flex > x && minY - flex < y && maxY + flex > y && distence < flex\r\n        },\r\n            [x, y] = arg,\r\n            arr = line.nodes,\r\n            isInline = arr.find((v, i) => {\r\n                if (!arr[i + 1]) return false;\r\n                let dot1 = arr[i],\r\n                    dot2 = arr[i + 1];\r\n                return dotInLine([x, y], dot1, dot2)\r\n            })\r\n        return isInline\r\n    },\r\n    isDotInCenterDot(line, arg) {\r\n        if (!this.isDotInLine(...arguments)) return;\r\n        let nodes = this.getLineNodes(line),\r\n            { flex } = this.options,\r\n            [x, y] = arg;\r\n        return nodes.find(v => {\r\n            let minX = v[0] - flex,\r\n                maxX = v[0] + flex,\r\n                minY = v[1] - flex,\r\n                maxY = v[1] + flex;\r\n            return x > minX && x < maxX && y > minY && y < maxY\r\n        })\r\n    },\r\n    dragLine(e) {\r\n        let { chooseItem } = this,\r\n            { flex } = this.options,\r\n            nowXY = this.getPointerXY(e),\r\n            startXY = this._startXY,\r\n            allNodes = this.getLineNodes(chooseItem, 'all'),\r\n            center = this.getLineNodes(chooseItem, 'center')\r\n        if (this.isDotInLine(chooseItem, nowXY)) {\r\n            return;\r\n        } else {\r\n            let index = allNodes.findIndex(v => v[0] == startXY[0] && v[1] == startXY[1])\r\n            this._startXY = allNodes[index] = nowXY\r\n            allNodes = allNodes.filter(v => !center.some(k => k[0] == v[0] && k[1] == v[1]))\r\n            let removeLineDot = (nodes) => {\r\n                // console.warn('去除三点一线')\r\n                for (let i = 1; i < nodes.length - 1; i++) {\r\n                    let [x, y] = nodes[i - 1],\r\n                        [x1, y1] = nodes[i],\r\n                        [x2, y2] = nodes[i + 1]\r\n                    if (this.dotLineDistence(x1, y1, x, y, x2, y2) < flex) {\r\n                        nodes.splice(i, 1)\r\n                        return removeLineDot(nodes)\r\n                    }\r\n                }\r\n                return nodes\r\n            }\r\n            chooseItem.nodes = removeLineDot(allNodes)\r\n            this.draw()\r\n        }\r\n    },\r\n    moveLine(rect) {\r\n        let { lines } = this,\r\n            items = lines.filter(v => this.isRectHaveLineRule(rect, v)),\r\n            changeLine = (line) => {\r\n                let isStartRect = rect.id == line.from;\r\n                if (line.nodes.length == 2) {\r\n                    // 直线\r\n                    line.nodes = this.getInitLineNodes(line)\r\n                } else {\r\n                    // 折线\r\n                    let changeIndex = isStartRect ? 0 : line.nodes.length - 1,\r\n                        rectCenterDot = [rect.x + rect.width / 2, rect.y + rect.height / 2]\r\n                    line.nodes[changeIndex] = this.getRectLineInt(rect, [rectCenterDot, line.nodes[isStartRect ? 1 : line.nodes.length - 2]])\r\n                }\r\n            }\r\n        items.forEach(v => changeLine(v))\r\n    },\r\n    isLine() {\r\n        let lines = this.lines.filter(v => this.isDotInLine(v, arguments))\r\n        return lines.reverse()[0]\r\n    }\r\n}","export default {\r\n    drawText(text, x, y, width,line = null) {\r\n        if(!text) return;\r\n        let { ctx, style } = this,\r\n            arr = text.split(''),\r\n            temp = \"\",\r\n            row = [],\r\n            lineHeight=16,\r\n            strWidth = (str) => {\r\n                return ctx.measureText(str).width\r\n            }\r\n        ctx.fillStyle = style.fontColor;\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (strWidth(temp) < width && strWidth(temp + arr[i]) <= width) {\r\n                temp += arr[i]\r\n            } else {\r\n                row.push(temp)\r\n                temp = arr[i]\r\n            }\r\n        }\r\n        row.push(temp)\r\n        for (let i = 0; i < row.length; i++) {\r\n            let str=row[i]\r\n            if (i+1 == line) {\r\n                if(row[i+1]){\r\n                    str=str.substring(0,str.length-3)+'...'\r\n                }\r\n                return ctx.fillText(str, x, y + lineHeight*i)\r\n            } else {\r\n                ctx.fillText(str, x, y + lineHeight * i)\r\n            }\r\n        }\r\n    }\r\n}","import rect from './draw-rect'\r\nimport line from './draw-line'\r\nimport text from './draw-text'\r\nexport default {\r\n    ...rect,\r\n    ...line,\r\n    ...text,\r\n    /**\r\n     * @method\r\n     * @description\r\n     */\r\n    draw() {\r\n        this.clearCanvas();\r\n        if (this.lines[0]) {\r\n            this.drawLine()\r\n        }\r\n        if (this.rects[0]) {\r\n            this.drawRect()\r\n        }\r\n    },\r\n    clearCanvas() {\r\n        let { width, height } = this.style\r\n        this.ctx.clearRect(0, 0, width, height);\r\n    },\r\n    isRectHaveLineRule(rect, line) {\r\n        return line.from == rect.id || line.to == rect.id\r\n    },\r\n    dragging(e) {\r\n        let {chooseItem,rects,lines}=this,\r\n        isLine=this.typeIsLine(chooseItem),\r\n        target=isLine?lines:rects,\r\n        item = target.find(v => v.id == chooseItem.id)\r\n        if (!item) return;\r\n        isLine? this.dragLine(e) : this.moveRect(e)\r\n    },\r\n    /**\r\n     * @method\r\n     * @description 点击元素\r\n     */\r\n    isItem() {\r\n        /**\r\n         * 优先级：\r\n         *      矩形 > 线条\r\n         *      最后操作过的元素优先\r\n         */\r\n        return this.isRect(...arguments) || this.isLine(...arguments)\r\n    },\r\n    typeIsLine(item) {\r\n        return Reflect.has(item, 'nodes')\r\n    },\r\n    moveItemToEnd() {\r\n        let { chooseItem } = this\r\n        if (!chooseItem) return;\r\n        let type = this.typeIsLine(chooseItem) ? 'lines' : 'rects';\r\n        let index = this[type].findIndex(v => v.id == chooseItem.id)\r\n        this[type] = this[type].concat(this[type].splice(index, 1))\r\n    },\r\n    delItem(item = this.chooseItem) {\r\n        this.typeIsLine(item) ? this.delLine(item) : this.delRect(item)\r\n        this.draw()\r\n    }\r\n}","export default {\r\n    getControlType(x, y) {\r\n        let type = null,\r\n            item = this.chooseItem;\r\n        if (!item) return;\r\n        let { flex } = this.options,\r\n            [yTop, yBottom, xLeft, xRight] = [item.y, item.y + item.height, item.x, item.x + item.width];\r\n        // ! 逻辑复杂\r\n        if (!this.options.dragLine || !this.typeIsLine(item)) {\r\n            if (xLeft - flex < x && x < xLeft) {\r\n                if (yTop - flex < y && y < yTop) {\r\n                    type = \"resizeToTopLeft\"\r\n                } else if (yBottom < y && y < yBottom + flex) {\r\n                    type = \"resizeToBottomLeft\"\r\n                } else if (yTop < y < yBottom) {\r\n                    type = \"resizeToLeft\"\r\n                }\r\n            } else if (xRight < x && x < xRight + flex) {\r\n                if (yTop - flex < y && y < yTop) {\r\n                    type = \"resizeToTopRight\"\r\n                } else if (yBottom < y && y < yBottom + flex) {\r\n                    type = \"resizeToBottomRight\"\r\n                } else if (yTop < y && y < yBottom) {\r\n                    type = \"resizeToRight\"\r\n                }\r\n            } else if (xLeft < x && x < xRight) {\r\n                if (y < yTop && y > yTop - flex) {\r\n                    type = \"resizeToTop\"\r\n                } else if (yBottom + flex > y && y > yBottom) {\r\n                    type = \"resizeToBottom\"\r\n                } else if (yTop < y && y < yBottom) {\r\n                    type = \"dragging\"\r\n                }\r\n            }\r\n        } else if (this.isDotInCenterDot(item, [x, y])) {\r\n            type = 'dragging'\r\n            this._startXY = this.isDotInCenterDot(item, [x, y])\r\n        }\r\n        this.control = type;\r\n    },\r\n    clearControl() {\r\n        this.control = null\r\n        this.canMove = false\r\n    },\r\n    /**\r\n     * @method\r\n     * @description 修改指针\r\n     */\r\n    changePointer(e) {\r\n        let cursor = 'default';\r\n        if (this.control == 'resizeToTop' || this.control == 'resizeToBottom') {\r\n            cursor = 's-resize'\r\n        } else if (this.control == 'resizeToLeft' || this.control == 'resizeToRight') {\r\n            cursor = 'e-resize'\r\n        } else if (this.control == 'resizeToTopLeft' || this.control == 'resizeToBottomRight') {\r\n            cursor = 'se-resize'\r\n        } else if (this.control == 'resizeToBottomLeft' || this.control == 'resizeToTopRight') {\r\n            cursor = 'ne-resize'\r\n        } else if (this.isItem(...this.getPointerXY(e))) {\r\n            cursor = 'pointer'\r\n        }\r\n        this.canvas.style.cursor = cursor;\r\n    },\r\n    /**\r\n     * @method\r\n     * @description 获取坐标\r\n     * @param {*} e \r\n     */\r\n    getPointerXY(e) {\r\n        let { canvas } = this,\r\n            x = e.pageX - canvas.offsetLeft,\r\n            y = e.pageY - canvas.offsetTop;\r\n        return [x, y]\r\n    },\r\n    /**\r\n     * @method\r\n     * @description 函数节流\r\n     * @param {*} handler \r\n     * @param {*} wait \r\n     */\r\n    throttle(handler, wait = 1000 / this.options.frame) {\r\n        return (function () {\r\n            var nowTime = new Date().getTime();\r\n            if (nowTime - this._lastTime > wait) {\r\n                handler.apply(this, arguments);\r\n                this._lastTime = nowTime;\r\n            }\r\n        }).call(this)\r\n    },\r\n    /**\r\n     * @method\r\n     * @description 生成随机id\r\n     */\r\n    createRandomId() {\r\n        return (Math.random() * 10000000).toString(16).substr(0, 4) + '-' + (new Date()).getTime() + '-' + Math.random().toString().substr(2, 5);\r\n    }\r\n}","export default {\r\n    onmousedown(e) {\r\n        this[this.btnState](e)\r\n    },\r\n    onmouseup(e) {\r\n        this.clearControl(e)\r\n    },\r\n    onmouseout(e) {\r\n        this.onmouseup(e)\r\n    },\r\n    onmousemove(e) {\r\n        this.throttle((function (e) {\r\n            if (this.dragAdd) {\r\n                let [x, y] = this.getPointerXY(e)\r\n                this._startXY = [x,y]\r\n                this.addRect(x, y)\r\n                this.canMove = true\r\n                this.dragAdd = false\r\n                this.control = 'dragging'\r\n            } else if (this.chooseItem) {\r\n                this.canMove ?\r\n                    this.control == 'dragging' ? this.dragging(e) : this.resizeRect(e) : this.getControlType(...this.getPointerXY(e))\r\n            }\r\n            this.changePointer(e)\r\n        }).bind(this, e))\r\n    },\r\n    ondblclick(e) {\r\n        this.choose(e)\r\n        this.clearControl()\r\n        let {chooseItem}=this\r\n        if(!chooseItem) return;\r\n        let { dbClick } = this.methods\r\n        if (!dbClick) return console.warn('Pleace add params of dbClick method');\r\n        dbClick(chooseItem)\r\n    }\r\n}","\r\nimport Init from './init-methods'\r\nimport btn from './btn-methods'\r\nimport canvas from './canvas-methods'\r\nimport control from './control-methods'\r\nimport mouse from './mouse-methods'\r\nexport default class Function extends Init {\r\n    constructor() {\r\n        super()\r\n        Object.assign(this, canvas, btn, control, mouse)\r\n    }\r\n}","/**\r\n * @class 流程图工具\r\n * @date 2019-06-12\r\n * @description {*} \r\n * 1、添加/删除（矩形、折线）\r\n * 2、修改（矩形大小、折线方向）\r\n * 3、移动（拖拽移动矩形、矩形移动时所连接折线移动）\r\n */\r\n//\r\n/** 功能逻辑梳理\r\n元素\r\n    矩形\r\n    折线\r\n操作\r\n    指针修改\r\n        移动至元素 - 小手\r\n        拖拽 - 四角箭头\r\n        矩形缩放\r\n            ↔ ↕ ↖ ↘ ↙ ↗\r\n    矩形缩放\r\n    折线拆分\r\nprocess：\r\n    1.create canvas dom tree\r\n    2.add click event\r\n        add rect\r\n        delect rect\r\n        choose rect\r\n        add line:connect rect by line when click one rect to another\r\n        delect line:clear rects connection\r\n    3.add listen mouse event\r\n        mouse move:\r\n            judge is mouse move or move element\r\n            mouse move:\r\n            move element:\r\n */\r\nimport Functions from './methods/functions'\r\nexport default class Canvas extends Functions {\r\n    constructor({\r\n        // 容器id\r\n        id = 'Canvas',\r\n        // 函数注入目标 @click需注入this   onclick无需注入\r\n        This = window,\r\n        // 弹框 弹框弹出时 关闭键盘删除事件\r\n        dialog = false,\r\n        style = {},\r\n        // 自定义按钮注入事件名称\r\n        methodsName = {},\r\n        // 注入事件（双击事件）\r\n        methods = {\r\n            dbClick: null,\r\n            beforeDelete: null\r\n        },\r\n        // 设置颜色\r\n        options = {},\r\n        // 元素集合\r\n        rects = [],\r\n        lines = [],\r\n    }) {\r\n        super()\r\n        let defaultStyle = {\r\n            width: 1000,\r\n            height: 800,\r\n            cssText: null,\r\n            rectWidth:100,\r\n            rectHeight:100,\r\n            rectColor: '#000',\r\n            rectlineWidth: 1,\r\n            lineColor: '#808080',\r\n            chooseColor: '#808080',\r\n            fillColor: '#fff',\r\n            lineWidth: 1,\r\n            lineCap: 'round',\r\n            lineJoin: 'round',\r\n            fontColor: '#808080',\r\n            textBaseline: 'middle',\r\n            textAlign: \"center\",\r\n            font: '12px arial'\r\n        },\r\n            defaultOptions = {\r\n                type: \"2d\",\r\n                // 使用默认按钮\r\n                useBtn: true,\r\n                // 点击空白初始化状态为选择\r\n                clickEmptyInit:true,\r\n                // 按钮状体 点击后将一直处于该状态\r\n                btnState: {\r\n                    choose: true,\r\n                    delete: true,\r\n                    connect: true,\r\n                },\r\n                // 连线规则\r\n                connectRule: {\r\n                    // 弹窗警告\r\n                    alertWarn: false,\r\n                    // 从结束节点开始\r\n                    fromEnd: false,\r\n                    // 指向开始节点\r\n                    toStart: false,\r\n                    // 起始规则函数 return boolean\r\n                    from: () => { return true },\r\n                    // 结束规则函数  return boolean\r\n                    to: () => { return true }\r\n                },\r\n                // 自定义按钮传入添加按钮id可拖拽添加\r\n                addId: null,\r\n                // 线条拖拽\r\n                dragLine: true,\r\n                // 编辑\r\n                edit: true,\r\n                // 函数节流帧数\r\n                frame: 60,\r\n                // 弹性距离\r\n                flex: 6,\r\n                // 删除开始结束\r\n                deleteStartEnd: false,\r\n                // 开始Id\r\n                startId: 1,\r\n                // 结束标签id 不显示编号\r\n                endId: 999999999,\r\n                // 初始title\r\n                title: '',\r\n                // 初始text\r\n                text: '',\r\n            }, defaultMethods = {\r\n                add: 'add',\r\n                delete: 'del',\r\n                connect: 'connect',\r\n                choose: 'choose'\r\n            }\r\n        Object.assign(defaultStyle, style)\r\n        Object.assign(defaultOptions, options)\r\n        Object.assign(defaultMethods, methodsName)\r\n        Object.assign(this, {\r\n            id,\r\n            This,\r\n            dialog,\r\n            style: defaultStyle,\r\n            options: defaultOptions,\r\n            methodsName: defaultMethods,\r\n            methods,\r\n            rects,\r\n            lines,\r\n            DOM: document.getElementById(id),\r\n            chooseItem: null,\r\n            /** 控制\r\n             * dragging 拖拽矩形\r\n             * resizeToTop\r\n             * resizeToTopLeft\r\n             * resizeToTopRight\r\n             * resizeToLeft\r\n             * resizeToRight\r\n             * resizeToBottom\r\n             * resizeToBottomLeft\r\n             * resizeToBottomRight\r\n             */\r\n            control: null,\r\n            isDragging: false,\r\n            dragAdd: false,\r\n            _lastTime: 0,\r\n            _startXY: [0, 0],\r\n            // 新增连接线\r\n            lineFrom: null, // 有则[fromId,toId] 无则null \r\n            btnState: 'choose',\r\n            rectId: 1,\r\n            lineId: lines[0] ? Math.max(...lines.map(v => v.id)) + 1 : 1\r\n        })\r\n        this.rectId = rects[0] ? Math.max(...rects.map(v => v.id).filter(v => v != this.options.endId)) + 1 : 1,\r\n            this.init()\r\n    }\r\n}\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rect-modal-box-outer\"},[_c('a-form',{staticClass:\"rect-modal-box\",attrs:{\"layout\":\"inline\"}},[_c('div',{staticClass:\"form-one-line\"},[_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"colon\":\"\",\"label\":\"过程编号\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-input',{staticClass:\"input-copy-ant input-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":\"\"},model:{value:(_vm.item.nodeId),callback:function ($$v) {_vm.$set(_vm.item, \"nodeId\", $$v)},expression:\"item.nodeId\"}})],1),_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"label\":\"过程名称\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-input',{staticClass:\"input-copy-ant-text input-height\",staticStyle:{\"width\":\"100%\"},model:{value:(_vm.item.nodeName),callback:function ($$v) {_vm.$set(_vm.item, \"nodeName\", $$v)},expression:\"item.nodeName\"}})],1)],1),_c('div',{staticClass:\"form-one-line\"},[_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"label\":\"当前节点执行方式：\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-select',{staticClass:\"input-height\",on:{\"change\":_vm.nowModechange},model:{value:(_vm.item.nowMode),callback:function ($$v) {_vm.$set(_vm.item, \"nowMode\", $$v)},expression:\"item.nowMode\"}},[_c('a-select-option',{attrs:{\"value\":1}},[_vm._v(\"必须执行\")]),_c('a-select-option',{attrs:{\"value\":2}},[_vm._v(\"允许跳过\")])],1)],1),_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"label\":\"后续节点执行方式：\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-select',{staticClass:\"input-height\",staticStyle:{\"width\":\"120px\"},model:{value:(_vm.item.nextMode),callback:function ($$v) {_vm.$set(_vm.item, \"nextMode\", $$v)},expression:\"item.nextMode\"}},[_c('a-select-option',{attrs:{\"value\":1}},[_vm._v(\"自动执行\")]),_c('a-select-option',{attrs:{\"value\":2,\"disabled\":_vm.item.nowMode ==1?false:true}},[_vm._v(\"手动选择\")])],1)],1)],1),_c('div',{staticClass:\"form-one-line\"},[_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"colon\":\"\",\"label\":\"执行周期(小时)：\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-input',{staticClass:\"input-height\",attrs:{\"type\":\"number\",\"min\":\"0\"},model:{value:(_vm.item.period),callback:function ($$v) {_vm.$set(_vm.item, \"period\", $$v)},expression:\"item.period\"}})],1),_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"label\":\"最少执行人数：\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-input',{staticClass:\"input-height\",attrs:{\"type\":\"number\",\"min\":\"0\"},model:{value:(_vm.item.minUser),callback:function ($$v) {_vm.$set(_vm.item, \"minUser\", $$v)},expression:\"item.minUser\"}})],1)],1),_c('div',{staticClass:\"form-one-line rejectable\"},[_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"label\":\"可驳回过程：\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-select',{staticClass:\"input-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"mode\":\"tags\",\"placeholder\":\"请选择可驳回过程\",\"disabled\":_vm.item.nodeId==1  || _vm.item.nodeId==9999? true :false},model:{value:(_vm.tempRejectNode),callback:function ($$v) {_vm.tempRejectNode=$$v},expression:\"tempRejectNode\"}},_vm._l((_vm.rejectList),function(item){return _c('a-select-option',{key:String(item.nodeId),attrs:{\"value\":item.nodeName}},[_vm._v(_vm._s(item.nodeName))])}),1)],1),_c('a-form-item',{staticClass:\"input-height\",staticStyle:{\"flex\":\"1\"},attrs:{\"label\":\"驳回提交方式：\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-select',{staticStyle:{\"width\":\"120px\"},model:{value:(_vm.item.rejectMode),callback:function ($$v) {_vm.$set(_vm.item, \"rejectMode\", $$v)},expression:\"item.rejectMode\"}},[_c('a-select-option',{attrs:{\"value\":1}},[_vm._v(\"可选（默认）\")]),_c('a-select-option',{attrs:{\"value\":2}},[_vm._v(\"只能到开始\")]),_c('a-select-option',{attrs:{\"value\":3}},[_vm._v(\"只能到上一步\")])],1)],1)],1),_c('a-form-item',{staticClass:\"Submit-suggestion\",attrs:{\"label\":\"缺省提交意见：\",\"label-col\":{ span: 4},\"wrapper-col\":{ span: 10 }}},[_c('a-input',{staticClass:\"input-height\",model:{value:(_vm.item.defOpinion),callback:function ($$v) {_vm.$set(_vm.item, \"defOpinion\", $$v)},expression:\"item.defOpinion\"}})],1),_c('br'),_c('a-form-item',{staticClass:\"Submit-suggestion\",attrs:{\"label\":\"执行人:\",\"label-col\":{ span: 4},\"wrapper-col\":{ span: 10 }}},[_c('a-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"mode\":\"multiple\",\"placeholder\":\"请输入执行人\",\"filterOption\":false,\"notFoundContent\":_vm.fetching ? undefined : null},on:{\"search\":_vm.fetchUser,\"change\":_vm.handleChange},model:{value:(_vm.item.tempuserIdList),callback:function ($$v) {_vm.$set(_vm.item, \"tempuserIdList\", $$v)},expression:\"item.tempuserIdList\"}},[(_vm.fetching)?_c('a-spin',{attrs:{\"slot\":\"notFoundContent\",\"size\":\"small\"},slot:\"notFoundContent\"}):_vm._e(),_vm._l((_vm.data),function(d){return _c('a-select-option',{key:d.value},[_vm._v(_vm._s(d.text))])})],2)],1),_c('div',{staticClass:\"form-one-line\"},[_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"label\":\"决策者：\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-select',{staticClass:\"input-height\",model:{value:(_vm.item.decideUser),callback:function ($$v) {_vm.$set(_vm.item, \"decideUser\", $$v)},expression:\"item.decideUser\"}},_vm._l((_vm.decideUserList),function(v,i){return _c('a-select-option',{key:i,attrs:{\"value\":v.userId}},[_vm._v(_vm._s(v.userName))])}),1)],1),_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"label\":\"过程类型：\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-select',{staticClass:\"input-height\",staticStyle:{\"width\":\"120px\"},model:{value:(_vm.item.nodeType),callback:function ($$v) {_vm.$set(_vm.item, \"nodeType\", $$v)},expression:\"item.nodeType\"}},[_c('a-select-option',{attrs:{\"value\":3}},[_vm._v(\"普通\")]),_c('a-select-option',{attrs:{\"value\":4}},[_vm._v(\"归档\")]),_c('a-select-option',{attrs:{\"value\":5}},[_vm._v(\"会签\")])],1)],1)],1),_c('a-form-item',{staticClass:\"Submit-suggestion\",attrs:{\"label\":\"执行岗位:\",\"label-col\":{ span: 4},\"wrapper-col\":{ span: 10 }}},[_c('a-select',{staticClass:\"input-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"mode\":\"tags\",\"placeholder\":\"请选择执行角色\",\"disabled\":_vm.item.nodeId==9999? true :false},on:{\"change\":_vm.handleChangePost},model:{value:(_vm.item.temppostIdList),callback:function ($$v) {_vm.$set(_vm.item, \"temppostIdList\", $$v)},expression:\"item.temppostIdList\"}},_vm._l((_vm.rolelist),function(item){return _c('a-select-option',{key:String(item.postId),attrs:{\"value\":item.postName}},[_vm._v(_vm._s(item.postName))])}),1)],1),_c('br'),_c('div',{staticStyle:{\"padding-left\":\"130px\"}},[_c('a-checkbox-group',{attrs:{\"disabled\":_vm.item.nodeId==1 || _vm.item.nodeId==9999? true :false},model:{value:(_vm.item.chooseval),callback:function ($$v) {_vm.$set(_vm.item, \"chooseval\", $$v)},expression:\"item.chooseval\"}},_vm._l((_vm.plainOptions),function(item,i){return _c('a-checkbox',{key:i,staticClass:\"filter-check-box\",attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.value))])}),1)],1),_c('br'),_c('div',{staticClass:\"form-one-line\"},[_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"label\":\"通知方式：\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-select',{staticClass:\"input-height\",staticStyle:{\"width\":\"120px\"},model:{value:(_vm.item.noticeWay),callback:function ($$v) {_vm.$set(_vm.item, \"noticeWay\", $$v)},expression:\"item.noticeWay\"}},[_c('a-select-option',{attrs:{\"value\":0}},[_vm._v(\"一云通推送\")]),_c('a-select-option',{attrs:{\"value\":1}},[_vm._v(\"邮件通知\")])],1)],1),_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"label\":\"通知类型：\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-select',{staticClass:\"input-height\",staticStyle:{\"width\":\"120px\"},model:{value:(_vm.item.noticeType),callback:function ($$v) {_vm.$set(_vm.item, \"noticeType\", $$v)},expression:\"item.noticeType\"}},[_c('a-select-option',{attrs:{\"value\":0}},[_vm._v(\"立即通知\")]),_c('a-select-option',{attrs:{\"value\":1}},[_vm._v(\"延时通知\")])],1)],1)],1),_c('div',{staticClass:\"form-one-line\"},[_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"colon\":\"\",\"label\":\"通知周期(小时)：\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}},[_c('a-input',{staticClass:\"input-height\",attrs:{\"type\":\"number\",\"min\":\"0\"},model:{value:(_vm.item.noticeCycle),callback:function ($$v) {_vm.$set(_vm.item, \"noticeCycle\", $$v)},expression:\"item.noticeCycle\"}})],1),_c('a-form-item',{staticStyle:{\"flex\":\"1\"},attrs:{\"label\":\"\",\"label-col\":_vm.formItemLayout.labelCol,\"wrapper-col\":_vm.formItemLayout.wrapperCol}})],1),_c('a-form-item',{staticClass:\"Submit-suggestion\",attrs:{\"label\":\"通知目标(用户):\",\"label-col\":{ span: 4},\"wrapper-col\":{ span: 10 }}},[_c('a-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"mode\":\"multiple\",\"placeholder\":\"请输入执行人\",\"filterOption\":false,\"notFoundContent\":_vm.fetching ? undefined : null},on:{\"search\":_vm.fetchUser,\"change\":_vm.handleChange},model:{value:(_vm.item.tempuserIdList),callback:function ($$v) {_vm.$set(_vm.item, \"tempuserIdList\", $$v)},expression:\"item.tempuserIdList\"}},[(_vm.fetching)?_c('a-spin',{attrs:{\"slot\":\"notFoundContent\",\"size\":\"small\"},slot:\"notFoundContent\"}):_vm._e(),_vm._l((_vm.data),function(d){return _c('a-select-option',{key:d.value},[_vm._v(_vm._s(d.text))])})],2)],1),_c('a-form-item',{staticClass:\"Submit-suggestion\",attrs:{\"label\":\"到达时执行语句：\",\"label-col\":{ span: 4},\"wrapper-col\":{ span: 10 }}},[_c('a-textarea',{model:{value:(_vm.item.arriveFunc),callback:function ($$v) {_vm.$set(_vm.item, \"arriveFunc\", $$v)},expression:\"item.arriveFunc\"}})],1),_c('br'),_c('a-form-item',{staticClass:\"Submit-suggestion\",attrs:{\"label\":\"提交完成时语句：\",\"label-col\":{ span: 4},\"wrapper-col\":{ span: 10 }}},[_c('a-textarea',{model:{value:(_vm.item.submitFunc),callback:function ($$v) {_vm.$set(_vm.item, \"submitFunc\", $$v)},expression:\"item.submitFunc\"}})],1),_c('br'),_c('a-form-item',{staticClass:\"Submit-suggestion\",attrs:{\"label\":\"驳回成功后语句：\",\"label-col\":{ span: 4 },\"wrapper-col\":{ span: 10 }}},[_c('a-textarea',{model:{value:(_vm.item.rejectFunc),callback:function ($$v) {_vm.$set(_vm.item, \"rejectFunc\", $$v)},expression:\"item.rejectFunc\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"rect-modal-box-outer\">\r\n    <a-form layout=\"inline\" class=\"rect-modal-box\">\r\n      <div class=\"form-one-line\">\r\n        <a-form-item\r\n          colon\r\n          label=\"过程编号\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n          style=\"flex:1\"\r\n        >\r\n          <a-input\r\n            v-model=\"item.nodeId\"\r\n            class=\"input-copy-ant input-height\"\r\n            disabled\r\n            style=\"width:100%;\"\r\n          />\r\n        </a-form-item>\r\n\r\n        <a-form-item\r\n          label=\"过程名称\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n          style=\"flex:1\"\r\n        >\r\n          <a-input\r\n            v-model=\"item.nodeName\"\r\n            class=\"input-copy-ant-text input-height\"\r\n            style=\"width:100%;\"\r\n          />\r\n        </a-form-item>\r\n      </div>\r\n\r\n      <div class=\"form-one-line\">\r\n        <a-form-item\r\n          label=\"当前节点执行方式：\"\r\n          style=\"flex:1\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n        >\r\n          <a-select v-model=\"item.nowMode\" @change=\"nowModechange\" class=\"input-height\">\r\n            <a-select-option :value=\"1\">必须执行</a-select-option>\r\n            <a-select-option :value=\"2\">允许跳过</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        <a-form-item\r\n          label=\"后续节点执行方式：\"\r\n          style=\"flex:1\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n        >\r\n          <a-select v-model=\"item.nextMode\" style=\"width: 120px\" class=\"input-height\">\r\n            <a-select-option :value=\"1\">自动执行</a-select-option>\r\n            <a-select-option :value=\"2\" :disabled=\"item.nowMode ==1?false:true\">手动选择</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n      </div>\r\n\r\n      <div class=\"form-one-line\">\r\n        <a-form-item\r\n          colon\r\n          label=\"执行周期(小时)：\"\r\n          style=\"flex:1\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n        >\r\n          <a-input v-model=\"item.period\" type=\"number\" min=\"0\" class=\"input-height\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item\r\n          label=\"最少执行人数：\"\r\n          style=\"flex:1\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n        >\r\n          <a-input v-model=\"item.minUser\" type=\"number\" min=\"0\" class=\"input-height\"></a-input>\r\n        </a-form-item>\r\n      </div>\r\n\r\n      <div class=\"form-one-line rejectable\">\r\n        <a-form-item\r\n          style=\"flex:1\"\r\n          label=\"可驳回过程：\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n        >\r\n          <a-select\r\n            mode=\"tags\"\r\n            style=\"width: 100%\"\r\n            v-model=\"tempRejectNode\"\r\n            placeholder=\"请选择可驳回过程\"\r\n            :disabled=\"item.nodeId==1  || item.nodeId==9999? true :false\"\r\n            class=\"input-height\"\r\n          >\r\n            <a-select-option\r\n              v-for=\"item in rejectList\"\r\n              :value=\"item.nodeName\"\r\n              :key=\"String(item.nodeId) \"\r\n            >{{item.nodeName}}</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n\r\n        <a-form-item\r\n          style=\"flex:1\"\r\n          label=\"驳回提交方式：\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n          class=\"input-height\"\r\n        >\r\n          <a-select v-model=\"item.rejectMode\" style=\"width: 120px\">\r\n            <a-select-option :value=\"1\">可选（默认）</a-select-option>\r\n            <a-select-option :value=\"2\">只能到开始</a-select-option>\r\n            <a-select-option :value=\"3\">只能到上一步</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n      </div>\r\n      <a-form-item\r\n        label=\"缺省提交意见：\"\r\n        class=\"Submit-suggestion\"\r\n        :label-col=\"{ span: 4}\"\r\n        :wrapper-col=\"{ span: 10 }\"\r\n      >\r\n        <a-input v-model=\"item.defOpinion\" class=\"input-height\"></a-input>\r\n      </a-form-item>\r\n      <br />\r\n      <a-form-item\r\n        label=\"执行人:\"\r\n        class=\"Submit-suggestion\"\r\n        :label-col=\"{ span: 4}\"\r\n        :wrapper-col=\"{ span: 10 }\"\r\n      >\r\n        <a-select\r\n          mode=\"multiple\"\r\n          v-model=\"item.tempuserIdList\"\r\n          placeholder=\"请输入执行人\"\r\n          style=\"width: 100%\"\r\n          :filterOption=\"false\"\r\n          @search=\"fetchUser\"\r\n          @change=\"handleChange\"\r\n          :notFoundContent=\"fetching ? undefined : null\"\r\n        >\r\n          <a-spin v-if=\"fetching\" slot=\"notFoundContent\" size=\"small\" />\r\n          <a-select-option v-for=\"d in data\" :key=\"d.value\">{{d.text}}</a-select-option>\r\n        </a-select>\r\n      </a-form-item>\r\n      <div class=\"form-one-line\">\r\n        <a-form-item\r\n          label=\"决策者：\"\r\n          style=\"flex:1\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n        >\r\n          <a-select v-model=\"item.decideUser\" class=\"input-height\">\r\n            <a-select-option\r\n              :value=\"v.userId\"\r\n              v-for=\"(v,i) in decideUserList\"\r\n              :key=\"i\"\r\n            >{{v.userName}}</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        <a-form-item\r\n          label=\"过程类型：\"\r\n          style=\"flex:1\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n        >\r\n          <a-select v-model=\"item.nodeType\" style=\"width: 120px\" class=\"input-height\">\r\n            <a-select-option :value=\"3\">普通</a-select-option>\r\n            <a-select-option :value=\"4\">归档</a-select-option>\r\n            <a-select-option :value=\"5\">会签</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n      </div>\r\n      <a-form-item\r\n        label=\"执行岗位:\"\r\n        class=\"Submit-suggestion\"\r\n        :label-col=\"{ span: 4}\"\r\n        :wrapper-col=\"{ span: 10 }\"\r\n      >\r\n        <a-select\r\n          mode=\"tags\"\r\n          style=\"width: 100%\"\r\n          v-model=\"item.temppostIdList\"\r\n          placeholder=\"请选择执行角色\"\r\n          :disabled=\"item.nodeId==9999? true :false\"\r\n          class=\"input-height\"\r\n          @change=\"handleChangePost\"\r\n        >\r\n          <a-select-option\r\n            v-for=\"item in rolelist\"\r\n            :value=\"item.postName\"\r\n            :key=\"String(item.postId) \"\r\n          >{{item.postName}}</a-select-option>\r\n        </a-select>\r\n      </a-form-item>\r\n      <br />\r\n      <div style=\"padding-left: 130px;\">\r\n        <a-checkbox-group\r\n          v-model=\"item.chooseval\"\r\n          :disabled=\"item.nodeId==1 || item.nodeId==9999? true :false\"\r\n        >\r\n          <a-checkbox\r\n            v-for=\"(item,i) in plainOptions\"\r\n            :key=\"i\"\r\n            :value=\"item.value\"\r\n            class=\"filter-check-box\"\r\n          >{{item.value}}</a-checkbox>\r\n        </a-checkbox-group>\r\n      </div>\r\n      <br />\r\n      <div class=\"form-one-line\">\r\n        <a-form-item\r\n          label=\"通知方式：\"\r\n          style=\"flex:1\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n        >\r\n          <a-select v-model=\"item.noticeWay\" style=\"width: 120px\" class=\"input-height\">\r\n            <a-select-option :value=\"0\">一云通推送</a-select-option>\r\n            <a-select-option :value=\"1\">邮件通知</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        <a-form-item\r\n          label=\"通知类型：\"\r\n          style=\"flex:1\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n        >\r\n          <a-select v-model=\"item.noticeType\" style=\"width: 120px\" class=\"input-height\">\r\n            <a-select-option :value=\"0\">立即通知</a-select-option>\r\n            <a-select-option :value=\"1\">延时通知</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n      </div>\r\n      <div class=\"form-one-line\">\r\n        <a-form-item\r\n          colon\r\n          label=\"通知周期(小时)：\"\r\n          style=\"flex:1\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n        >\r\n          <a-input v-model=\"item.noticeCycle\" type=\"number\" min=\"0\" class=\"input-height\" />\r\n        </a-form-item>\r\n        <a-form-item\r\n          label\r\n          style=\"flex:1\"\r\n          :label-col=\"formItemLayout.labelCol\"\r\n          :wrapper-col=\"formItemLayout.wrapperCol\"\r\n        ></a-form-item>\r\n      </div>\r\n      <a-form-item\r\n        label=\"通知目标(用户):\"\r\n        class=\"Submit-suggestion\"\r\n        :label-col=\"{ span: 4}\"\r\n        :wrapper-col=\"{ span: 10 }\"\r\n      >\r\n        <a-select\r\n          mode=\"multiple\"\r\n          v-model=\"item.tempuserIdList\"\r\n          placeholder=\"请输入执行人\"\r\n          style=\"width: 100%\"\r\n          :filterOption=\"false\"\r\n          @search=\"fetchUser\"\r\n          @change=\"handleChange\"\r\n          :notFoundContent=\"fetching ? undefined : null\"\r\n        >\r\n          <a-spin v-if=\"fetching\" slot=\"notFoundContent\" size=\"small\" />\r\n          <a-select-option v-for=\"d in data\" :key=\"d.value\">{{d.text}}</a-select-option>\r\n        </a-select>\r\n      </a-form-item>\r\n      <a-form-item\r\n        class=\"Submit-suggestion\"\r\n        label=\"到达时执行语句：\"\r\n        :label-col=\"{ span: 4}\"\r\n        :wrapper-col=\"{ span: 10 }\"\r\n      >\r\n        <a-textarea v-model=\"item.arriveFunc\"></a-textarea>\r\n      </a-form-item>\r\n      <br />\r\n      <a-form-item\r\n        class=\"Submit-suggestion\"\r\n        label=\"提交完成时语句：\"\r\n        :label-col=\"{ span: 4}\"\r\n        :wrapper-col=\"{ span: 10 }\"\r\n      >\r\n        <a-textarea v-model=\"item.submitFunc\"></a-textarea>\r\n      </a-form-item>\r\n      <br />\r\n      <a-form-item\r\n        class=\"Submit-suggestion\"\r\n        label=\"驳回成功后语句：\"\r\n        :label-col=\"{ span: 4 }\"\r\n        :wrapper-col=\"{ span: 10 }\"\r\n      >\r\n        <a-textarea v-model=\"item.rejectFunc\"></a-textarea>\r\n      </a-form-item>\r\n    </a-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport jsonp from \"fetch-jsonp\";\r\nimport querystring from \"querystring\";\r\nimport debounce from \"lodash/debounce\";\r\n\r\nimport { Promise } from \"q\";\r\nimport {\r\n  getRoleList,\r\n  userList,\r\n  userPostList,\r\n  userListtemp\r\n} from \"../../../api/UserApi\";\r\nconst RegUrl = /^http[s]?:\\/\\/[\\da-zA-Z][\\da-zA-Z.-]*(:\\d+)?[\\da-zA-Z\\/#&\\+=%~]?/;\r\n\r\nexport default {\r\n  props: [\"item\"],\r\n  data() {\r\n    this.lastFetchId = 0;\r\n    this.fetchUser = debounce(this.fetchUser, 800);\r\n    return {\r\n      plainOptions: [\r\n        { label: \"reject\", value: \"是否禁止驳回\" },\r\n        { label: \"beReject\", value: \"是否禁止被驳回\" },\r\n        { label: \"dynamic\", value: \"是否可动态转交\" }\r\n      ],\r\n      // options,\r\n      valueuserIdList: [],\r\n      data: [],\r\n      personvalue: [],\r\n      PositionValue: [],\r\n      fetching: false,\r\n      dataposition: [],\r\n      formItemLayout: {\r\n        labelCol: { span: 9 },\r\n        wrapperCol: { span: 15 }\r\n      },\r\n      roleName: [],\r\n      rolelist: [],\r\n      rejectList: [],\r\n      tempRejectNode: [],\r\n      canvasData: {},\r\n      nowModeDisabled: true,\r\n      userList: [],\r\n      decideUserList: [],\r\n      keyArrlength: 0\r\n    };\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    // 表单校验\r\n\r\n    async validItem() {\r\n      let item = this.item,\r\n        res = false;\r\n      if (item.nodeId == \"\") {\r\n        this.$message.error(\"error info\");\r\n        return res;\r\n      }\r\n      if (item.nodeName == \"\") {\r\n        this.$message.error(\"节点名称不能为空\");\r\n        return res;\r\n      }\r\n      if (item.nodeType == \"\") {\r\n        this.$message.error(\"节点类型不能为空\");\r\n        return res;\r\n      }\r\n\r\n      if (item.nowMode == \"\") {\r\n        this.$message.error(\"当前过程执行方式不能为空\");\r\n        return res;\r\n      }\r\n      if (item.nextMode == \"\") {\r\n        this.$message.error(\"下一过程执行方式不能为空\");\r\n        return res;\r\n      }\r\n      if (item.nodeType == \"\") {\r\n        this.$message.error(\"节点类型不能为空\");\r\n        return res;\r\n      }\r\n      if (!item.rejectMode) {\r\n        this.$message.error(\"请选择驳回提交方式\");\r\n        return res;\r\n      }\r\n\r\n      if (this.tempRejectNode) {\r\n        item.rejectNode = this.getRejectList(false);\r\n      } else {\r\n        this.$message.error(\"可驳回过程error\");\r\n        return res;\r\n      }\r\n      if (item.arriveFunc && !RegUrl.test(item.arriveFunc)) {\r\n        this.$message.error(\"到达时执行语句域名不正确\");\r\n        return res;\r\n      }\r\n      if (item.submitFunc && !RegUrl.test(item.submitFunc)) {\r\n        this.$message.error(\"提交完成时语句域名不正确\");\r\n        return res;\r\n      }\r\n      if (item.rejectFunc && !RegUrl.test(item.rejectFunc)) {\r\n        this.$message.error(\"驳回成功后语句域名不正确\");\r\n        return res;\r\n      }\r\n\r\n      item.postIdList = await this.getRolelistmethod(\r\n        item.temppostIdList,\r\n        false\r\n      );\r\n      item.userIdList = await this.getUserlistmethod(\r\n        item.tempuserIdList,\r\n        false\r\n      );\r\n      this.validatecheckbox();\r\n      return this.item;\r\n    },\r\n    async getRolelistmethod(arr = [], getName = true) {\r\n      try {\r\n        if (getName) {\r\n          // let res = await getRoleList({ access_token: \"afsaefsf\" });\r\n          let res = await userPostList();\r\n          if (!res.data) return [];\r\n          this.rolelist = res.data;\r\n          return arr.map(v => res.data.find(k => k.postId == v).postName);\r\n        } else {\r\n          return arr.map(v => this.rolelist.find(k => k.postName == v).postId);\r\n        }\r\n      } catch (err) {}\r\n    },\r\n    async getUserlistmethod(arr = [], getName = true) {\r\n      try {\r\n        if (getName) {\r\n          // let res = await getRoleList({ access_token: \"afsaefsf\" });\r\n          let res = await userListtemp();\r\n          if (!res.data) return [];\r\n          this.userList = res.data;\r\n          return arr.map(v => res.data.find(k => k.userId == v).userName);\r\n        } else {\r\n          return arr.map(v => this.userList.find(k => k.userName == v).userId);\r\n        }\r\n      } catch (err) {}\r\n    },\r\n    getDecideUserList(list = []) {\r\n      let { decideUserList, userList } = this;\r\n      decideUserList = userList.filter(v => list.some(m => m == v.userName));\r\n      if (!decideUserList.some(v => v.userId == this.item.decideUser)) {\r\n        this.item.decideUser = null;\r\n      }\r\n      this.decideUserList = decideUserList;\r\n    },\r\n    /**\r\n     * @method\r\n     * @description 获取驳回列表\r\n     */\r\n    getRejectList(show = true) {\r\n      let { lines, rects } = this.canvasData;\r\n      if (show) {\r\n        let id = this.item.id,\r\n          temp = [],\r\n          getForwardNode = id => {\r\n            if (lines.some(v => v.toNodeId == id)) {\r\n              let fromId = lines.find(v => v.toNodeId == id).fromNodeId;\r\n              temp.push({\r\n                nodeId: fromId,\r\n                nodeName: rects.find(v => v.nodeId == fromId).nodeName || null\r\n              });\r\n              getForwardNode(fromId);\r\n            }\r\n          };\r\n        getForwardNode(id);\r\n        this.rejectList = temp;\r\n        if (this.item.rejectNode) {\r\n          this.tempRejectNode = this.item.rejectNode.map(\r\n            v => rects.find(m => m.nodeId == v).nodeName\r\n          );\r\n        } else {\r\n          this.tempRejectNode = [];\r\n        }\r\n      } else {\r\n        return this.tempRejectNode.map(\r\n          v => rects.find(m => m.nodeName == v).nodeId\r\n        );\r\n      }\r\n    },\r\n    // checkbox\r\n    onChangereject(checkedValues) {\r\n      this.item.reject = Number(checkedValues.target.checked);\r\n    },\r\n    onChangebeReject(checkedValues) {\r\n      this.item.beReject = Number(checkedValues.target.checked);\r\n    },\r\n    onChangedynamic(checkedValues) {\r\n      this.item.dynamic = Number(checkedValues.target.checked);\r\n    },\r\n    checkbox(choosenum) {\r\n      let tempval = [];\r\n      choosenum.map(v => {\r\n        if (v.reject == 1) tempval.push(v.name);\r\n        if (v.beReject == 1) tempval.push(v.name);\r\n        if (v.dynamic == 1) tempval.push(v.name);\r\n      });\r\n      return tempval;\r\n    },\r\n    validatecheckbox() {\r\n      let val = [];\r\n      this.item.chooseval.map(v => {\r\n        this.plainOptions.map(k => {\r\n          if (k.value == v) {\r\n            val.push({\r\n              label: k.label,\r\n              choose: 1\r\n            });\r\n          }\r\n        });\r\n      });\r\n      if (val.find(v => v.label == \"dynamic\")) {\r\n        this.item.dynamic = 1;\r\n      } else {\r\n        this.item.dynamic = 0;\r\n      }\r\n\r\n      if (val.find(v => v.label == \"reject\")) {\r\n        this.item.reject = 1;\r\n      } else {\r\n        this.item.reject = 0;\r\n      }\r\n      if (val.find(v => v.label == \"beReject\")) {\r\n        this.item.beReject = 1;\r\n      } else {\r\n        this.item.beReject = 0;\r\n      }\r\n    },\r\n    nowModechange(value) {\r\n      if (value == 2) {\r\n        this.nowModeDisabled = true;\r\n      } else {\r\n        this.nowModeDisabled = false;\r\n      }\r\n    },\r\n    fetchUser(value) {\r\n      this.lastFetchId += 1;\r\n      const fetchId = this.lastFetchId;\r\n      this.data = [];\r\n      this.fetching = true;\r\n      userList(value).then(res => {\r\n        let data = res.data;\r\n        data = data.map(v => {\r\n          return {\r\n            text: v.userName,\r\n            value: v.userId\r\n          };\r\n        });\r\n        this.data = data;\r\n        this.fetching = false;\r\n      });\r\n    },\r\n    // 选择执行的人\r\n    async handleChange(value) {\r\n      Object.assign(this, {\r\n        value,\r\n        data: [],\r\n        fetching: false\r\n      });\r\n      this.long = value.length;\r\n      if (this.item.len <= value.length) {\r\n        this.item.len++;\r\n        let len = value.length - 1;\r\n        value = value[value.length - 1];\r\n        this.item.tempuserIdList.splice(len);\r\n        let res = await userListtemp();\r\n        this.keyArr = res.data.find(v => v.userId == value).userName;\r\n\r\n        this.item.tempuserIdList.push(this.keyArr);\r\n      } else {\r\n        this.item.len--;\r\n        this.item.tempuserIdList = value;\r\n      }\r\n      this.getDecideUserList(this.item.tempuserIdList);\r\n      // this.item.tempuserIdList = value\r\n    },\r\n\r\n    // 选择执行岗位\r\n    handleChangePost(value) {}\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.w-180 {\r\n  width: 180px;\r\n}\r\n.test {\r\n  span {\r\n    border: 1px solid #ff0036;\r\n  }\r\n  input {\r\n    border: 1px solid purple;\r\n    min-width: 10px;\r\n    display: flex;\r\n  }\r\n}\r\n.select-hand {\r\n  color: red;\r\n}\r\n.dropdown-box {\r\n  color: red;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./rect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./rect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rect.vue?vue&type=template&id=1ac8aecc&scoped=true&\"\nimport script from \"./rect.vue?vue&type=script&lang=js&\"\nexport * from \"./rect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rect.vue?vue&type=style&index=0&id=1ac8aecc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ac8aecc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-form',{staticClass:\"line-form\"},[_c('a-form-item',{attrs:{\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol,\"label\":\"分支编号：\"}},[_c('input',{staticClass:\"input-copy-ant line-input-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":\"\"},domProps:{\"value\":_vm.item.lineId}})]),_c('a-form-item',{staticClass:\"required\",attrs:{\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol,\"label\":\"分支名称：\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.item.lineName),expression:\"item.lineName\",modifiers:{\"trim\":true}}],staticClass:\"input-copy-ant-text line-input-height\",staticStyle:{\"width\":\"100%\"},domProps:{\"value\":(_vm.item.lineName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.item, \"lineName\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('a-form-item',{attrs:{\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol,\"label\":\"来源过程：\"}},[_c('input',{staticClass:\"input-copy-ant line-input-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":\"\"},domProps:{\"value\":_vm.item.fromNodeId}})]),_c('a-form-item',{attrs:{\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol,\"label\":\"目标过程：\"}},[_c('input',{staticClass:\"input-copy-ant line-input-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":\"\"},domProps:{\"value\":_vm.item.toNodeId}})]),_c('a-form-item',{attrs:{\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol,\"label\":\"执行条件：\"}},[_c('a-textarea',{staticStyle:{\"width\":\"100%\",\"height\":\"60px\"},attrs:{\"rows\":4},model:{value:(_vm.item.conditions),callback:function ($$v) {_vm.$set(_vm.item, \"conditions\", $$v)},expression:\"item.conditions\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- {{item}} -->\r\n    <a-form class=\"line-form\">\r\n      <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"分支编号：\">\r\n        <input style=\"width:100%;\" :value=\"item.lineId\" class=\"input-copy-ant line-input-height\" disabled />\r\n      </a-form-item>\r\n\r\n      <a-form-item class=\"required\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"分支名称：\">\r\n        <input class=\"input-copy-ant-text line-input-height\" style=\"width:100%;\" v-model.trim=\"item.lineName\" />\r\n      </a-form-item>\r\n\r\n      <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"来源过程：\">\r\n        <input style=\"width:100%;\" :value=\"item.fromNodeId\" class=\"input-copy-ant line-input-height\" disabled />\r\n      </a-form-item>\r\n\r\n      <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"目标过程：\">\r\n        <input style=\"width:100%;\" :value=\"item.toNodeId\" class=\"input-copy-ant line-input-height\" disabled />\r\n      </a-form-item>\r\n\r\n      <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"执行条件：\">\r\n        <!-- <input style=\"width:260px;height:60px\" class=\"input-copy-ant-text\"/> -->\r\n        <a-textarea v-model=\"item.conditions\" style=\"width:100%;height:60px\" :rows=\"4\" />\r\n      </a-form-item>\r\n    </a-form>\r\n  </div>\r\n</template>\r\n<script>\r\nconst RegUrl = /^http[s]?:\\/\\/[\\da-zA-Z][\\da-zA-Z.-]*(:\\d+)?[\\da-zA-Z\\/#&\\+=%~]?/;\r\nexport default {\r\n  props: [\"item\"],\r\n  data() {\r\n    return {\r\n      labelCol: {\r\n        xs: { span: 10 },\r\n        sm: { span: 4 }\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 20 },\r\n        sm: { span: 20 }\r\n      }\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    validItem() {\r\n      if (this.item.lineNode) {\r\n        this.$message.error(\"请输入分支名称！\");\r\n        return false;\r\n      }\r\n      if (this.item.conditions && !RegUrl.test(this.item.conditions)) {\r\n        this.$message.error(\"执行条件域名不正确\");\r\n        return false;\r\n      }\r\n      return this.item;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.required >>> .ant-form-item-label::before{\r\n  content:'* ';\r\n  font-weight:bold;\r\n  color:#ff0036;\r\n}\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./line.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./line.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./line.vue?vue&type=template&id=5c6eb916&scoped=true&\"\nimport script from \"./line.vue?vue&type=script&lang=js&\"\nexport * from \"./line.vue?vue&type=script&lang=js&\"\nimport style0 from \"./line.vue?vue&type=style&index=0&id=5c6eb916&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c6eb916\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div style=\"margin:24px;\">\r\n    <header>\r\n      <div class=\"title\">选择导航元件开始设计</div>\r\n      <div class=\"btns\">\r\n        <div id=\"add\" class=\"btn\" @click=\"add()\">\r\n          <img src=\"../../assets/canvas/add.png\" />\r\n          任务\r\n        </div>\r\n        <div class=\"btn\" :class=\"{'select':canvas.btnState=='connect'}\" @click=\"connect()\">\r\n          <img src=\"../../assets/canvas/arraw.png\" />\r\n          画线\r\n        </div>\r\n        <div class=\"btn\" :class=\"{'select':canvas.btnState=='choose'}\" @click=\"choose()\">\r\n          <img src=\"../../assets/canvas/select.gif\" />\r\n          选择\r\n        </div>\r\n        <div class=\"btn\" :class=\"{'select':canvas.btnState=='delete'}\" @click=\"del()\">\r\n          <img src=\"../../assets/canvas/delete.png\" />\r\n          删除\r\n        </div>\r\n        <div class=\"btn\" @click=\"saveFlow\">\r\n          <img src=\"../../assets/canvas/save.gif\" />\r\n          保存\r\n        </div>\r\n      </div>\r\n    </header>\r\n    <div :id=\"boxId\"></div>\r\n    <!-- @ok=\"saveNode()\" -->\r\n    <a-modal\r\n      ref=\"flowmodal\"\r\n      :width=\"item.lineId?'500px':'750px'\"\r\n      title=\"工作流\"\r\n      :visible=\"visible\"\r\n      okText=\"确定\"\r\n      @cancel=\"visible=false\"\r\n      @ok=\"saveNode\"\r\n      class=\"modal-info\"\r\n    >\r\n      <rect-info ref=\"rect\" v-if=\"!item.lineId\" :item=\"item\" class=\"rect-info\"></rect-info>\r\n      <line-info ref=\"line\" v-else :item=\"item\" class=\"line-info\" id=\"line-info\"></line-info>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport canvas from \"canvas-flowchart\";\r\nimport rectInfo from \"./editinfo/rect\";\r\nimport lineInfo from \"./editinfo/line\";\r\nimport { Modal } from \"ant-design-vue\";\r\nimport { Promise } from \"q\";\r\nlet {\r\n  getFlow,\r\n  saveFlow,\r\n  getNode,\r\n  getLine,\r\n  putNode,\r\n  delNode,\r\n  putLine,\r\n  delLine\r\n} = require(\"@/api/flowchart\").default;\r\nexport default {\r\n  name: \"edit\",\r\n  components: {\r\n    rectInfo,\r\n    lineInfo\r\n  },\r\n  props: [\"wftId\"],\r\n  data() {\r\n    return {\r\n      id: null,\r\n      boxId: null,\r\n      canvas: {},\r\n      item: {},\r\n      visible: false\r\n    };\r\n  },\r\n  watch: {\r\n    visible() {\r\n      this.canvas.dialog = this.visible;\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.$route.name == \"edit\") {\r\n      this.init(this.$route.query.wft_id);\r\n    } else {\r\n      this.init(this.wftId);\r\n    }\r\n  },\r\n  methods: {\r\n    init(id) {\r\n      this.id = id;\r\n      this.boxId =\r\n        (Math.random() * 10000000).toString(16).substr(0, 4) +\r\n        \"-\" +\r\n        id +\r\n        new Date().getTime() +\r\n        \"-\" +\r\n        id +\r\n        Math.random()\r\n          .toString()\r\n          .substr(2, 5) +\r\n        id;\r\n      this.getFlow();\r\n    },\r\n    async dbClick(e) {\r\n      try {\r\n        let method = e.from ? getLine : getNode,\r\n          data = e.from\r\n            ? {\r\n                id: e.id,\r\n                wftId: this.id,\r\n                lineId: e.id,\r\n                lineName: e.lineName,\r\n                fromNodeId: e.from,\r\n                toNodeId: e.to,\r\n                conditions: null\r\n              }\r\n            : {\r\n                id: e.id,\r\n                wftId: this.id,\r\n                nodeId: e.id,\r\n                nodeName: e.text,\r\n                nodeType: e.nodeType || 3,\r\n                nowMode: 2,\r\n                nextMode: 1,\r\n                period: 0,\r\n                reject: 0,\r\n                beReject: 0,\r\n                rejectNode: [],\r\n                rejectMode: 1,\r\n                dynamic: 1,\r\n                decideUser: null,\r\n                noticeWay: 0,\r\n                noticeType: 0,\r\n                noticeTarget:null,\r\n                noticeCycle:0,\r\n                wfmId:null,\r\n                // followUp: 0,\r\n                minUser: 0,\r\n                defOpinion: \"同意\",\r\n                submitFunc: null,\r\n                rejectFunc: null,\r\n                arriveFunc: null,\r\n                // nodeRole: [],\r\n                // tempNodeRole: []\r\n                postIdList: [],\r\n                temppostIdList: [],\r\n                userIdList: [],\r\n                tempuserIdList: [],\r\n                len: 0, //自定义的一个长度，用于执行人下拉选择\r\n                chooseval: []\r\n              };\r\n        this.item = data;\r\n\r\n        this.visible = true;\r\n        let res = await method(this.id, e.id),\r\n          item = Object.assign(data, res.data || {});\r\n        if (!e.from) {\r\n          let choosenum = [];\r\n          choosenum.push({ reject: item.reject, name: \"是否禁止驳回\" });\r\n          choosenum.push({ beReject: item.beReject, name: \"是否禁止被驳回\" });\r\n          choosenum.push({ dynamic: item.dynamic, name: \"是否可动态转交\" });\r\n\r\n          item.temppostIdList = await this.$refs.rect.getRolelistmethod(\r\n            item.postIdList || []\r\n          );\r\n\r\n          item.tempuserIdList = await this.$refs.rect.getUserlistmethod(\r\n            item.userIdList || []\r\n          );\r\n          this.$refs.rect.getDecideUserList(item.tempuserIdList);\r\n          item.chooseval = this.$refs.rect.checkbox(choosenum || []);\r\n          this.item = item;\r\n          this.$refs.rect.canvasData = this.formatParams();\r\n          this.$refs.rect.getRejectList();\r\n        }\r\n        this.item.len = this.item.userIdList ? this.item.userIdList.length : 0;\r\n      } catch (err) {\r\n        throw err;\r\n      }\r\n    },\r\n    async saveNode() {\r\n      try {\r\n        let e = this.item;\r\n        let data = await this.$refs[e.lineId ? \"line\" : \"rect\"].validItem();\r\n\r\n        if (!data) return;\r\n        let method = putNode,\r\n          index = -1,\r\n          { rects, lines } = this.formatParams();\r\n        if (e.lineId) {\r\n          method = putLine;\r\n          index = lines.findIndex(v => v.lineId == e.lineId);\r\n          lines[index].lineName = e.lineName;\r\n        } else {\r\n          index = rects.findIndex(v => v.nodeId == e.nodeId);\r\n          rects[index].nodeName = data.nodeName;\r\n        }\r\n\r\n        let res = await method(this.id, { rect: rects, line: lines }, data);\r\n        this.getFlow();\r\n        this.$message.success(\"修改成功！\");\r\n        this.visible = false;\r\n      } catch (err) {\r\n        throw err;\r\n      }\r\n    },\r\n    deleteNode(e) {\r\n      return new Promise((resolve, reject) => {\r\n        Modal.confirm({\r\n          centered: true,\r\n          title: \"删除\",\r\n          content: \"确认删除？\",\r\n          okText: \"确定\",\r\n          onOk: async () => {\r\n            try {\r\n              let method = e.from ? delLine : delNode,\r\n                { rects, lines } = this.formatParams();\r\n              if (e.from) {\r\n                lines = lines.filter(v => v.lineId != e.id);\r\n              } else {\r\n                rects = rects.filter(v => v.nodeId != e.id);\r\n                lines = lines.filter(\r\n                  v => v.fromNodeId != e.id && v.toNodeId != e.id\r\n                );\r\n              }\r\n              let res = await method(this.id, e.id, {\r\n                rect: rects,\r\n                line: lines\r\n              });\r\n              resolve();\r\n            } catch (err) {\r\n              throw err;\r\n            }\r\n          }\r\n        });\r\n      });\r\n    },\r\n    formatParams(\r\n      rects = this.canvas.rects,\r\n      lines = this.canvas.lines,\r\n      show = false\r\n    ) {\r\n      let rectKey = {\r\n          nodeId: \"id\",\r\n          nodeName: \"text\",\r\n          nodeType: \"nodeType\",\r\n          x: \"x\",\r\n          y: \"y\",\r\n          width: \"width\",\r\n          height: \"height\"\r\n        },\r\n        lineKey = {\r\n          lineId: \"id\",\r\n          lineName: \"lineName\",\r\n          fromNodeId: \"from\",\r\n          toNodeId: \"to\"\r\n        },\r\n        format = (arr, rule) => {\r\n          return arr.map(v => {\r\n            let data = {};\r\n            for (let [key, val] of Object.entries(rule)) {\r\n              if (show) {\r\n                data[val] = v[key];\r\n              } else {\r\n                data[key] = v[val];\r\n              }\r\n            }\r\n            if (data.nodeId) {\r\n              data.nodeType = data.nodeType || 3;\r\n              data.nodeName = data.nodeName || v.id;\r\n            }\r\n            if (data.lineId) data.lineName = data.lineName || v.id;\r\n            return data;\r\n          });\r\n        };\r\n      rects = format(rects, rectKey);\r\n      lines = format(lines, lineKey);\r\n      return {\r\n        rects,\r\n        lines\r\n      };\r\n    },\r\n    async getFlow(id = this.id) {\r\n      try {\r\n        // 节点类型 1 开始；2 结束；3 普通；4 归档；5 会签；\r\n        let res = await getFlow(id),\r\n          // let res={},\r\n          data = {\r\n            id: this.boxId,\r\n            This: this,\r\n            style: {\r\n              width: \"1680\",\r\n              heigh: \"1095\",\r\n              lineWidth: 3,\r\n              rectlineWidth: 0.5\r\n            },\r\n            options: {\r\n              useBtn: false,\r\n              addId: \"add\",\r\n              dragLine: false,\r\n              startId: 1,\r\n              endId: 9999\r\n            },\r\n            methods: {\r\n              dbClick: this.dbClick,\r\n              beforeDelete: this.deleteNode\r\n            }\r\n          },\r\n          initData = {};\r\n        if (res.data) {\r\n          let { line, rect } = res.data;\r\n          initData = this.formatParams(rect, line, true);\r\n        } else {\r\n          initData = {\r\n            rects: [\r\n              {\r\n                x: 200,\r\n                y: 200,\r\n                width: 100,\r\n                height: 100,\r\n                id: 1,\r\n                nodeType: 1,\r\n                title: \"\",\r\n                text: \"开始\"\r\n              },\r\n              {\r\n                x: 500,\r\n                y: 200,\r\n                width: 100,\r\n                height: 100,\r\n                id: 9999,\r\n                nodeType: 2,\r\n                title: \"\",\r\n                text: \"结束\"\r\n              }\r\n            ]\r\n          };\r\n        }\r\n        Object.assign(data, initData);\r\n        this.canvas = new canvas(data);\r\n      } catch (err) {\r\n        throw err;\r\n      }\r\n    },\r\n    async saveFlow() {\r\n      try {\r\n        let { rects, lines } = this.formatParams();\r\n        let res = await saveFlow({\r\n          wftId: this.id,\r\n          viewNode: {\r\n            rect: rects,\r\n            line: lines\r\n          }\r\n        });\r\n        this.$message.success(\"保存成功！\");\r\n      } catch (err) {\r\n        throw err;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\nheader {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  min-width: 800px;\r\n  height: 50px;\r\n  border-bottom: 1px solid #aaa;\r\n  .title {\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n  }\r\n  .btns {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    margin: 0px;\r\n    background-color: rgb(255, 255, 255);\r\n    width: 450px;\r\n    padding: 3px;\r\n    font-size: 12px;\r\n    .btn {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      padding: 3px;\r\n      width: 80px;\r\n      cursor: pointer;\r\n      img {\r\n        width: 16px;\r\n        margin-right: 10px;\r\n      }\r\n    }\r\n    .btn:hover {\r\n      background: #ccc;\r\n    }\r\n    .select {\r\n      background: #ccc;\r\n    }\r\n  }\r\n}\r\n\r\n#box {\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=ca99955e&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=ca99955e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ca99955e\",\n  null\n  \n)\n\nexport default component.exports","// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2017 Kris Kowal under the terms of the MIT\n * license found at https://github.com/kriskowal/q/blob/v1/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\" && typeof module === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else if (typeof window !== \"undefined\" || typeof self !== \"undefined\") {\n        // Prefer window over self for add-on scripts. Use self for\n        // non-windowed contexts.\n        var global = typeof window !== \"undefined\" ? window : self;\n\n        // Get the `window` object, save the previous Q global\n        // and initialize Q as a global.\n        var previousQ = global.Q;\n        global.Q = definition();\n\n        // Add a noConflict function so Q can be removed from the\n        // global namespace.\n        global.Q.noConflict = function () {\n            global.Q = previousQ;\n            return this;\n        };\n\n    } else {\n        throw new Error(\"This environment was not anticipated by Q. Please file a bug.\");\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n    // queue for late tasks, used by unhandled rejection tracking\n    var laterQueue = [];\n\n    function flush() {\n        /* jshint loopfunc: true */\n        var task, domain;\n\n        while (head.next) {\n            head = head.next;\n            task = head.task;\n            head.task = void 0;\n            domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n            runSingle(task, domain);\n\n        }\n        while (laterQueue.length) {\n            task = laterQueue.pop();\n            runSingle(task);\n        }\n        flushing = false;\n    }\n    // runs a single function in the async queue\n    function runSingle(task, domain) {\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function () {\n                    throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process === \"object\" &&\n        process.toString() === \"[object process]\" && process.nextTick) {\n        // Ensure Q is in a real Node environment, with a `process.nextTick`.\n        // To see through fake Node environments:\n        // * Mocha test runner - exposes a `process` global without a `nextTick`\n        // * Browserify - exposes a `process.nexTick` function that uses\n        //   `setTimeout`. In this case `setImmediate` is preferred because\n        //    it is faster. Browserify's `process.toString()` yields\n        //   \"[object Object]\", while in a real Node environment\n        //   `process.toString()` yields \"[object process]\".\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n    // runs a task after all other tasks have been run\n    // this is useful for unhandled rejection tracking that needs to happen\n    // after all `then`d tasks have been run.\n    nextTick.runAfter = function (task) {\n        laterQueue.push(task);\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you don’t need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Miller’s explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_defineProperty = Object.defineProperty || function (obj, prop, descriptor) {\n    obj[prop] = descriptor.value;\n    return obj;\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack && (!error.__minimumStackCounter__ || error.__minimumStackCounter__ > p.stackCounter)) {\n                object_defineProperty(error, \"__minimumStackCounter__\", {value: p.stackCounter, configurable: true});\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        var stack = filterStackString(concatedStacks);\n        object_defineProperty(error, \"stack\", {value: stack, configurable: true});\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n/**\n * The counter is used to determine the stopping point for building\n * long stack traces. In makeStackTraceLong we walk backwards through\n * the linked list of promises, only stacks which were created before\n * the rejection are concatenated.\n */\nvar longStackCounter = 1;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n            promise.stackCounter = longStackCounter++;\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n\n        if (Q.longStackSupport && hasStacks) {\n            // Only hold a reference to the new promise if long stacks\n            // are enabled to reduce memory usage\n            promise.source = newPromise;\n        }\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Q can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function (resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function (answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If it’s a fulfilled promise, the fulfillment value is nearer.\n * If it’s a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar reportedUnhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n    if (typeof process === \"object\" && typeof process.emit === \"function\") {\n        Q.nextTick.runAfter(function () {\n            if (array_indexOf(unhandledRejections, promise) !== -1) {\n                process.emit(\"unhandledRejection\", reason, promise);\n                reportedUnhandledRejections.push(promise);\n            }\n        });\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        if (typeof process === \"object\" && typeof process.emit === \"function\") {\n            Q.nextTick.runAfter(function () {\n                var atReport = array_indexOf(reportedUnhandledRejections, promise);\n                if (atReport !== -1) {\n                    process.emit(\"rejectionHandled\", unhandledReasons[at], promise);\n                    reportedUnhandledRejections.splice(atReport, 1);\n                }\n            });\n        }\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Returns the first resolved promise of an array. Prior rejected promises are\n * ignored.  Rejects only if all promises are rejected.\n * @param {Array*} an array containing values or promises for values\n * @returns a promise fulfilled with the value of the first resolved promise,\n * or a rejected promise if all promises are rejected.\n */\nQ.any = any;\n\nfunction any(promises) {\n    if (promises.length === 0) {\n        return Q.resolve();\n    }\n\n    var deferred = Q.defer();\n    var pendingCount = 0;\n    array_reduce(promises, function (prev, current, index) {\n        var promise = promises[index];\n\n        pendingCount++;\n\n        when(promise, onFulfilled, onRejected, onProgress);\n        function onFulfilled(result) {\n            deferred.resolve(result);\n        }\n        function onRejected(err) {\n            pendingCount--;\n            if (pendingCount === 0) {\n                var rejection = err || new Error(\"\" + err);\n\n                rejection.message = (\"Q can't get fulfillment value from any promise, all \" +\n                    \"promises were rejected. Last error message: \" + rejection.message);\n\n                deferred.reject(rejection);\n            }\n        }\n        function onProgress(progress) {\n            deferred.notify({\n                index: index,\n                value: progress\n            });\n        }\n    }, undefined);\n\n    return deferred.promise;\n}\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    if (!callback || typeof callback.apply !== \"function\") {\n        throw new Error(\"Q can't apply finally callback\");\n    }\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    if (callback === undefined) {\n        throw new Error(\"Q can't wrap an undefined function\");\n    }\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\nQ.noConflict = function() {\n    throw new Error(\"Q.noConflict only works when Q is used as a global\");\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./rect.vue?vue&type=style&index=0&id=1ac8aecc&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./rect.vue?vue&type=style&index=0&id=1ac8aecc&lang=less&scoped=true&\"","module.exports = \"data:image/gif;base64,R0lGODlhEAAQANU1AHRwbXRxbPP0zPP0ynNwa3VwbPL0zPL1yvXzynJxbXJxb/XzzP3++HVwavv78/P0yHJyanVxbvb1yXNza/HwwHJycHJyaP37/HFwa/T0zvP2y/v7+f/++vz++/38+v39/3Rxav////L1yHNybfT1yfz58nVybfz7//Lzx3NwZ/v69vT1y/byzPf1zPP1xv368/r78/bzyvTyyXRxaHJxbP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAADUALAAAAAAQABAAAAZtwJqwISwajzVAAMms0RCJ5hGQeUykRVqsMxhhawSXJySiYRUaDuMzUEghqJOK4TAsmZgW7FLaCA4zTBEDLwYOAgkFNClIACQsBQcLRE0gKwQVBBQCd0g0AEImMhIQTaBFEQ8LnVJPnF9CNBZHQQA7\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJdSURBVDjLpZP7S1NhGMf9W7YfogSJboSEUVCY8zJ31trcps6zTI9bLGJpjp1hmkGNxVz4Q6ildtXKXzJNbJRaRmrXoeWx8tJOTWptnrNryre5YCYuI3rh+8vL+/m8PA/PkwIg5X+y5mJWrxfOUBXm91QZM6UluUmthntHqplxUml2lciF6wrmdHriI0Wx3xw2hAediLwZRWRkCPzdDswaSvGqkGCfq8VEUsEyPF1O8Qu3O7A09RbRvjuIttsRbT6HHzebsDjcB4/JgFFlNv9MnkmsEszodIIY7Oaut2OJcSF68Qx8dgv8tmqEL1gQaaARtp5A+N4NzB0lMXxon/uxbI8gIYjB9HytGYuusfiPIQcN71kjgnW6VeFOkgh3XcHLvAwMSDPohOADdYQJdF1FtLMZPmslvhZJk2ahkgRvq4HHUoWHRDqTEDDl2mDkfheiDgt8pw340/EocuClCuFvboQzb0cwIZgki4KhzlaE6w0InipbVzBfqoK/qRH94i0rgokSFeO11iBkp8EdV8cfJo0yD75aE2ZNRvSJ0lZKcBXLaUYmQrCzDT6tDN5SyRqYlWeDLZAg0H4JQ+Jt6M3atNLE10VSwQsN4Z6r0CBwqzXesHmV+BeoyAUri8EyMfi2FowXS5dhd7doo2DVII0V5BAjigP89GEVAtda8b2ehodU4rNaAW+dGfzlFkyo89GTlcrHYCLpKD+V7yeeHNzLjkp24Uu1Ed6G8/F8qjqGRzlbl2H2dzjpMg1KdwsHxOlmJ7GTeZC/nesXbeZ6c9OYnuxUc3fmBuFft/Ff8xMd0s65SXIb/gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAVZQTFRF5vP5z+TuyeDrurq61+nyyuHsy+Hs3u71zOLt3u315PH40uXv6fX62Ony6vb76PX60eXvzeLt1Ofx3e710ebv4fD34e/24/H40ubv1Ofw2Ory6/b7zuTu5vP61+ry4/L42+zz2+vz5PL41Ojx3e311Ojw2uzzyuHry+Hr2+v02uvz1efx4PD24e/32uv04PD31ejxzePt5vT5/v7+4fD22+z06fT66PT66PX7/Pz8+fn54O/36fX74/H3z+TtzOLszOPtzeLs1efw5PH35/P54O/2z+Pu9PT06fT77Ozs5+fn19fX2uz0zOPszs7OzuTt0ebwzePs6vb8vb296PT75/T50uXwzuPu0eXw+vr67Pf76/b8pcHOpsHPp8LP5PL3z+Pt5/P64/L31eXtxsbG6/f80+Tr1ejwyuDr0uPr0ubw3e325eXl9/f3kLDA7Pf8zMzM////AZjtUQAAA5xJREFUeNrcVWd34kYUlRIBQhIWRY0mCdF7B9MMBmNjG/e66+0l1Sa7//9L7oiNNief2OTknJzckWbeu8MdMTPvzVCfvxHU/0TQfLnaCC/7vSYRNF/8LIoL4VoQBPFaXCzQCEJnG/VQFMRORxgKi852VxR+eHHwrAlBb0VRVONtg6Li9oPqhqJuGnGbjlPxNUntUavHgx4E/ZXFcaPXhvpaHXGGwXGcas0M1VAtbgaGUzlV5YyRYXGr48M+BE8rpVWW5ZI8UGRZUZSSMiiX5uVqSVZKc6VUGoCsDuZyq7w6PXqyBV5PyJPyAF4g5A3BDnm8pEp5PSBQeUnv6tPjWpAvmPnlstKuJNrLQqawzCQy7UICbMJM5JeJfNusZDL5fMERMBGGYXyML6Izum0zTMQXiTA+cLpPX/u67nME4WC4lkRVDE/T0+mPyWQtXQvXwulksBaeJpPFIKwgXEeg8ZLG+3neT8Br9nsr+SW//5zXpHse3X7tXuMdAR2LxfZpOoZC79/RZzFi0/SbWIzeoYl9Bh6GIwjUA8A4sMuyJwF2wl6M2cDkhGXZeoAlPDup745ZduII3NncT26324WSy7ldWRcs+3HnXK4siCxY9DuC7zaEIyD6HIbCeGR4DJZ1o825cvY31gSer3PY3Z1cTC4wgfqErdfxdzEbUtXJtMb18QmmEmDrjuDNDn23j/WIkTU5I0tDFgnY2cHq7dN3tnP2dZXueU0jO3Hul3jpFot+y2vYAOyCxPPnkv8X7AQvSZojCCZrxfV+FmvJdDAYnNZqxSI2N1ycFtMIgHQQbDr8p1jSETQRRifBg7ghcYWwiuiRiO4jLoAoYxwBgtIsmJlKJZ/PICwrZgV+BQGbMNtmPtM2YWYSZsURINQR9qkUwh+NN/WrN5UKIQ1InqCDZEgohORwBPO5rMyrZaUqt+SyrJSr1UGp1SohCVvVAQj4ZWRlyxFw6mzEWarBWcZMtSxiGkhhbmYZI/RZSOx3qvWOcwRUwz4YcG7sxW8aVOOLH98DsYdDgxgEjkAUxW5nOBTQ4EAadkQcTN2uKA6vO93FtoCy3UVv1xFEL6PRLeBh6yEafdjasj28l3YbvbRrEI7gtw3xjwUf//Uv/A3B87+0G33h+X9hDq/eb/b7938Ijl5tdimurtYXSv/w+MPV9xvg6sP6yuodPB6fftoAp8frS7H57ODw6HEDHB2ur93PzV7/aSN8udi/Db8LMACeKnx/T6NWSgAAAABJRU5ErkJggg==\"","import http from '@/utils/AxiosRequest';\r\nlet access_token = require('@/utils/Constant').default.requestToken\r\nexport default {\r\n    getFlow(id) {\r\n        return http({ url: `/template/view-node/${id}`, params: { access_token } })\r\n    },\r\n    saveFlow(data) {\r\n        return http({ method: 'PATCH', data, url: `/template/view-node/design`, params: { access_token } })\r\n    },\r\n    getNode(wft_id, node_id) {\r\n        return http({ url: `/node`, params: { access_token, wft_id, node_id } })\r\n    },\r\n    putNode(wftId, viewNode, wftProcess) {\r\n        return http({ method: 'PATCH', data: { wftId, viewNode, wftProcess }, url: `/node/add-or-edit`, params: { access_token } })\r\n    },\r\n    delNode(wftId, nodeId, viewNode) {\r\n        return http({ method: 'DELETE', data: { wftId, viewNode, wftProcess: { nodeId } }, url: `/node/delete`, params: { access_token } })\r\n    },\r\n    getLine(wft_id, line_id) {\r\n        return http({ url: `/node-line`, params: { access_token, wft_id, line_id } })\r\n    },\r\n    putLine(wftId, viewNode, wftNodeLine) {\r\n        return http({ method: 'PATCH', data: { wftId, viewNode, wftNodeLine }, url: `/node-line/add-or-edit`, params: { access_token } })\r\n    },\r\n    delLine(wftId, lineId, viewNode) {\r\n        return http({ method: 'DELETE', data: { wftId, wftNodeLine: { lineId }, viewNode }, url: `/node-line/delete`, params: { access_token } })\r\n    },\r\n} "],"sourceRoot":""}