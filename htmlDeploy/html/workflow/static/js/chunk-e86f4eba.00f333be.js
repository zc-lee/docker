(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e86f4eba","chunk-111af2bb"],{1079:function(t,e,a){},"2d80":function(t,e,a){"use strict";a.d(e,"h",(function(){return s})),a.d(e,"e",(function(){return o})),a.d(e,"i",(function(){return c})),a.d(e,"f",(function(){return i})),a.d(e,"d",(function(){return u})),a.d(e,"g",(function(){return l})),a.d(e,"c",(function(){return d})),a.d(e,"b",(function(){return p})),a.d(e,"a",(function(){return f})),a.d(e,"k",(function(){return h})),a.d(e,"j",(function(){return m})),a.d(e,"l",(function(){return b})),a.d(e,"m",(function(){return _})),a.d(e,"n",(function(){return g}));var n=a("da43"),r=a("b83d").default.requestToken;function s(t,e,a){return Object(n["a"])({url:"/template/list",method:"GET",params:{access_token:r,page:t,size:e,keyword:a}})}function o(t){return Object(n["a"])({url:"/template/add?access_token=".concat(r),method:"POST",data:t})}function c(t){return Object(n["a"])({url:"/template/".concat(t),method:"GET",params:{access_token:r}})}function i(t){return Object(n["a"])({url:"/template/update?access_token=".concat(r),method:"PUT",data:t})}function u(t){return Object(n["a"])({url:"/template/delete?access_token=".concat(r),method:"DELETE",data:t})}function l(){return Object(n["a"])({url:"/role/list",method:"GET",params:{access_token:r}})}function d(t){return Object(n["a"])({url:"/role/add?access_token=".concat(r),method:"POST",data:t})}function p(t){return Object(n["a"])({url:"/role/update?access_token=".concat(r),method:"PUT",data:t})}function f(t){return Object(n["a"])({url:"/role/delete?access_token=".concat(r),method:"DELETE",data:t})}function h(t){return Object(n["a"])({url:"/process-instance/dynamic/".concat(t),method:"GET",params:{access_token:r}})}function m(t,e,a,s){return Object(n["a"])({url:"/process-instance/to-be-dealt",method:"GET",params:{access_token:r,open_id:t,type:e,page:a,size:s}})}function b(t){return Object(n["a"])({url:"/user/list?keyword=".concat(t),method:"GET",params:{access_token:r}})}function _(){return Object(n["a"])({url:"/user/list?keyword=",method:"GET",params:{access_token:r}})}function g(){return Object(n["a"])({url:"/post/list",method:"GET",params:{access_token:r}})}},"3a83":function(t,e,a){"use strict";var n=a("1079"),r=a.n(n);r.a},"4c0f":function(t,e,a){t.exports=a.p+"static/img/fire.d0da32d2.png"},d558:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"process-box"},[n("a-tabs",{attrs:{type:"card"},on:{change:t.callback}},[n("a-tab-pane",{key:"3",staticClass:"font-color",attrs:{tab:"待处理"}},[n("a-table",{staticClass:"no-scroll",staticStyle:{height:"calc(100vh - 220px)"},attrs:{rowKey:"wfeId",bordered:t.showBorder,dataSource:t.TobeProcessed,columns:t.columns,scroll:{y:330},pagination:t.showPagination},scopedSlots:t._u([{key:"title",fn:function(e){return[n("a-tooltip",{attrs:{placement:"topLeft",title:e}},[n("span",{staticClass:"process-title"},[t._v(t._s(e))])])]}},{key:"status",fn:function(e,a){return["N"==e?n("span",[t._v("审核中")]):"Y"==e?n("span",[t._v("已批准")]):t._e(),"R"==e?n("span",[t._v("驳回")]):t._e()]}},{key:"priority",fn:function(e,r){return[e>1?n("img",{staticClass:"fire",attrs:{src:a("4c0f"),alt:"火苗"}}):t._e(),e>2?n("img",{staticClass:"fire",attrs:{src:a("4c0f"),alt:"火苗"}}):t._e()]}},{key:"operation",fn:function(e,a){return[n("a",{staticStyle:{color:"#00aaee"},attrs:{href:"javascript:;"},on:{click:function(e){return t.processbtn(a.wfeId)}}},[t._v("审批处理")])]}}])})],1),n("a-tab-pane",{key:"1",staticClass:"font-color",attrs:{tab:"我启动"}},[n("a-table",{staticClass:"no-scroll",staticStyle:{height:"calc(100vh - 220px)"},attrs:{rowKey:"wfeId",bordered:t.showBorder,dataSource:t.startedDataSource,columns:t.columns,scroll:{y:330},pagination:t.showPagination},scopedSlots:t._u([{key:"title",fn:function(e){return[n("a-tooltip",{attrs:{placement:"topLeft",title:e}},[n("span",{staticClass:"process-title"},[t._v(t._s(e))])])]}},{key:"status",fn:function(e,a){return["N"==e?n("span",[t._v("审核中")]):"Y"==e?n("span",[t._v("已批准")]):t._e(),"R"==e?n("span",[t._v("驳回")]):t._e()]}},{key:"priority",fn:function(e,r){return[e>1?n("img",{staticClass:"fire",attrs:{src:a("4c0f"),alt:"火苗"}}):t._e(),e>2?n("img",{staticClass:"fire",attrs:{src:a("4c0f"),alt:"火苗"}}):t._e()]}},{key:"operation",fn:function(e,a){return[n("a",{staticStyle:{color:"#00aaee"},attrs:{href:"javascript:;"},on:{click:function(e){return t.processbtn(a.wfeId)}}},[t._v("审批处理")])]}}])})],1),n("a-tab-pane",{key:"2",staticClass:"font-color",attrs:{tab:"我审批"}},[n("a-table",{staticClass:"no-scroll",staticStyle:{height:"calc(100vh - 220px)"},attrs:{rowKey:"wfeId",bordered:t.showBorder,dataSource:t.approveDataSource,columns:t.columns,scroll:{y:330},pagination:t.showPagination},scopedSlots:t._u([{key:"title",fn:function(e){return[n("a-tooltip",{attrs:{placement:"topLeft",title:e}},[n("span",{staticClass:"process-title"},[t._v(t._s(e))])])]}},{key:"status",fn:function(e,a){return["N"==e?n("span",[t._v("审核中")]):"Y"==e?n("span",[t._v("已批准")]):t._e(),"R"==e?n("span",[t._v("驳回")]):t._e()]}},{key:"priority",fn:function(e,r){return[e>1?n("img",{staticClass:"fire",attrs:{src:a("4c0f"),alt:"火苗"}}):t._e(),e>2?n("img",{staticClass:"fire",attrs:{src:a("4c0f"),alt:"火苗"}}):t._e()]}},{key:"operation",fn:function(e,a){return[n("a",{staticStyle:{color:"#00aaee"},attrs:{href:"javascript:;"},on:{click:function(e){return t.processbtn(a.wfeId)}}},[t._v("审批处理")])]}}])})],1),n("a-tab-pane",{key:"4",staticClass:"font-color",attrs:{tab:"已结束"}},[n("a-table",{staticClass:"no-scroll",staticStyle:{height:"calc(100vh - 220px)"},attrs:{rowKey:"wfeId",bordered:t.showBorder,dataSource:t.endedDataSource,columns:t.columns,scroll:{y:330},pagination:t.showPagination},scopedSlots:t._u([{key:"title",fn:function(e){return[n("a-tooltip",{attrs:{placement:"topLeft",title:e}},[n("span",{staticClass:"process-title"},[t._v(t._s(e))])])]}},{key:"status",fn:function(e,a){return["N"==e?n("span",[t._v("审核中")]):"Y"==e?n("span",[t._v("已批准")]):t._e(),"R"==e?n("span",[t._v("驳回")]):t._e()]}},{key:"priority",fn:function(e,r){return[e>1?n("img",{staticClass:"fire",attrs:{src:a("4c0f"),alt:"火苗"}}):t._e(),e>2?n("img",{staticClass:"fire",attrs:{src:a("4c0f"),alt:"火苗"}}):t._e()]}},{key:"operation",fn:function(e,a){return[n("a",{staticStyle:{color:"#00aaee"},attrs:{href:"javascript:;"},on:{click:function(e){return t.processbtn(a.wfeId)}}},[t._v("审批处理")])]}}])})],1)],1),n("div",{staticClass:"pagination-box"},[n("a-pagination",{attrs:{pageSizeOptions:t.pageSizeOptions,total:t.total,showTotal:function(t){return"共 "+t+" 条"},showSizeChanger:"",showQuickJumper:"",pageSize:t.pageSize},on:{change:t.onChange,showSizeChange:t.onShowSizeChange},scopedSlots:t._u([{key:"buildOptionText",fn:function(e){return["50"!==e.value?n("span",[t._v(t._s(e.value)+"条/页")]):t._e(),"50"===e.value?n("span",[t._v("全部")]):t._e()]}}]),model:{value:t.current,callback:function(e){t.current=e},expression:"current"}})],1)],1)},r=[],s=(a("7364"),a("f763"),a("2d80")),o=a("6bf2"),c=a.n(o),i={data:function(){return{pageSizeOptions:["10","20","30","40","50"],current:1,pageSize:10,pageNumber:1,total:0,keyword:"",showBorder:!1,showPagination:!1,dataSource:[],columns:[{title:"单据名",dataIndex:"title",width:"200px",align:"center",scopedSlots:{customRender:"title"}},{title:"单据编号",dataIndex:"shtId",scopedSlots:{customRender:"shtId"},width:"200px",align:"center"},{title:"菜单编号",dataIndex:"menuId",width:"200px",align:"center"},{title:"启动用户",dataIndex:"userName",width:"200px",align:"center"},{title:"流程状态",dataIndex:"status",scopedSlots:{customRender:"status"},width:"100px",align:"center"},{title:"紧急程度",dataIndex:"priority",width:"200px",align:"center",scopedSlots:{customRender:"priority"}},{title:"启动时间",dataIndex:"createTime",width:"200px",align:"center"},{title:"实例号",dataIndex:"wfeId",width:"200px",align:"center"},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},align:"center",width:"300px"}],TobeProcessed:[],startedDataSource:[],approveDataSource:[],endedDataSource:[],type:3}},mounted:function(){this.getWorkTobeDealtList()},methods:{callback:function(t){this.type=t,this.getWorkTobeDealtList()},getWorkTobeDealtList:function(){var t=this,e=this.type,a=this.$route.query.open_id,n=this.pageNumber,r=this.pageSize;Object(s["j"])(a,e,n,r).then((function(a){t.total=a.data.total,1==e&&(t.startedDataSource=a.data.records,t.startedDataSource.forEach((function(e,a){t.startedDataSource.length&&(t.startedDataSource[a].createTime=c()(e.createTime).format("YYYY-MM-DD HH:mm:ss"))}))),2==e&&(t.approveDataSource=a.data.records,t.approveDataSource.forEach((function(e,a){t.approveDataSource.length&&(t.approveDataSource[a].createTime=c()(e.createTime).format("YYYY-MM-DD HH:mm:ss"))}))),3==e&&(t.TobeProcessed=a.data.records,t.TobeProcessed.forEach((function(e,a){t.TobeProcessed.length&&(t.TobeProcessed[a].createTime=c()(e.createTime).format("YYYY-MM-DD HH:mm:ss"))}))),4==e&&(t.endedDataSource=a.data.records,t.endedDataSource.forEach((function(e,a){t.endedDataSource.length&&(t.endedDataSource[a].createTime=c()(e.createTime).format("YYYY-MM-DD HH:mm:ss"))})))}))},processbtn:function(t){if("table"==this.$route.name)return this.$store.dispatch("processaddTab",t);var e=this.$router.resolve({name:"dynamicpage",query:{wfe_id:t,access_token:this.$global.requestToken}});window.open(e.href,"_blank")},onShowSizeChange:function(t,e){this.pageSize=e,this.getListdata()},onChange:function(t){this.pageNumber=t,this.getListdata()}}},u=i,l=(a("3a83"),a("6691")),d=Object(l["a"])(u,n,r,!1,null,"b2fece1e",null);e["default"]=d.exports},da43:function(t,e,a){"use strict";var n=a("2427"),r=a.n(n),s=(a("a18c"),a("0865")),o=a("b83d"),c=r.a.create({baseURL:o["default"].baseUrl,timeout:5e8});c.defaults.retry=4,c.defaults.retryDelay=1e3,c.interceptors.request.use((function(t){return t}),(function(t){Promise.reject(t)})),c.interceptors.response.use((function(t){return t}),(function(t){return t.response&&t.response.data&&t.response.data.message?(s["a"].error(t.response.data.message),Promise.reject(t.response.data)):Promise.reject(t)})),e["a"]=c}}]);
//# sourceMappingURL=chunk-e86f4eba.00f333be.js.map